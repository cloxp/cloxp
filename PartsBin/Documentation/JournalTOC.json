{"id":0,"registry":{"0":{"submorphs":[{"__isSmartRef__":true,"id":1}],"scripts":[],"id":"86E0A96A-B9FE-413B-A184-FD088FF4B89F","shape":{"__isSmartRef__":true,"id":83},"droppingEnabled":true,"halosEnabled":true,"itemList":[1,2,3],"selectedIndexes":[],"showsHalos":false,"name":"JournalTOC","partsBinMetaInfo":{"__isSmartRef__":true,"id":84},"_ClipMode":{"__isSmartRef__":true,"id":91},"eventHandler":{"__isSmartRef__":true,"id":92},"derivationIds":[2860,"30186701-49A1-49AD-A42F-27F425D92029","ADD09343-51ED-44F6-85F3-257C9A52C897","C1C00AC4-F3E1-44E1-8973-0E9903EFE3B9","2B85E408-84FC-4316-BD59-0C77BB49E637","6CE6A7BB-6705-43E9-9DB7-A9B499A0017C","D063C015-70A3-4415-9A44-7502D47226BF"],"isBeingDragged":false,"changeTriggered":true,"grabbingEnabled":false,"_FontSize":10,"moved":true,"itemMorphs":[],"layout":{"__isSmartRef__":true,"id":93},"prevScroll":[0,0],"attributeConnections":[{"__isSmartRef__":true,"id":94}],"doNotSerialize":["$$selection"],"doNotCopyProperties":["$$selection"],"__serializedExpressions__":["_Position","distanceToDragEvent"],"_Rotation":0,"_Scale":1,"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":96},"__LivelyClassName__":"lively.morphic.List","__SourceModuleName__":"Global.lively.morphic.Lists","_Position":"lively.pt(0.0,0.0)","distanceToDragEvent":"lively.pt(220.0,-11.0)"},"1":{"submorphs":[{"__isSmartRef__":true,"id":2},{"__isSmartRef__":true,"id":28},{"__isSmartRef__":true,"id":54}],"scripts":[],"shape":{"__isSmartRef__":true,"id":80},"_ClipMode":"visible","derivationIds":["5B4469C4-350D-4551-89E3-0CCAA4874419","99AE6204-7A5A-47D1-AE7C-1B39DB42669D","F64CD827-F2C5-4AA9-9BB4-3144BDFC362C","ADC816FC-5E55-47CC-8248-69F57331C50E"],"id":"8FEEFD8C-E77A-4346-8EF4-1CA1B02821AA","droppingEnabled":true,"halosEnabled":false,"owner":{"__isSmartRef__":true,"id":0},"eventHandler":{"__isSmartRef__":true,"id":81},"showsHalos":false,"layout":{"__isSmartRef__":true,"id":82},"__serializedExpressions__":["_Position"],"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(0.0,0.0)"},"2":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":3},"_WhiteSpaceHandling":"pre","textChunks":[{"__isSmartRef__":true,"id":4}],"_ClipMode":"hidden","derivationIds":[],"id":"618F9D2C-5A74-442B-A629-E8ED6DFE0695","_InputAllowed":false,"_HandStyle":"default","allowInput":false,"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":false,"draggingEnabled":true,"fixedWidth":true,"fixedHeight":true,"_FontFamily":"Helvetica","_FontSize":10,"evalEnabled":false,"isLabel":true,"eventsAreIgnored":false,"layout":{"__isSmartRef__":true,"id":6},"_StyleClassNames":["Morph","Text","list-item"],"_TextStylingMode":true,"isListItemMorph":true,"name":"0","index":0,"attributeConnections":[{"__isSmartRef__":true,"id":7}],"doNotSerialize":["$$selected"],"doNotCopyProperties":["$$selected"],"selected":false,"owner":{"__isSmartRef__":true,"id":1},"eventHandler":{"__isSmartRef__":true,"id":9},"_PointerEvents":"auto","__serializedExpressions__":["_TextColor","_Position"],"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":10},"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_TextColor":"Color.rgb(64,64,64)","_Position":"lively.pt(0.0,0.0)"},"3":{"_BorderWidth":0,"_Fill":null,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(200.0,19.0)","_Padding":"lively.rect(4,2,0,0)","_BorderColor":"Color.rgb(0,0,0)"},"4":{"style":{"__isSmartRef__":true,"id":5},"chunkOwner":{"__isSmartRef__":true,"id":2},"_id":"_708","storedString":"1","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"5":{"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"6":{"resizeWidth":true},"7":{"sourceObj":{"__isSmartRef__":true,"id":2},"sourceAttrName":"selected","targetObj":{"__isSmartRef__":true,"id":0},"targetMethodName":"selectionChanged","varMapping":{"__isSmartRef__":true,"id":8},"updaterString":"function ($upd, selected) { $upd(this.sourceObj.index, selected); }","__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"8":{"source":{"__isSmartRef__":true,"id":2},"target":{"__isSmartRef__":true,"id":0}},"9":{"morph":{"__isSmartRef__":true,"id":2},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"10":{"setIsSelected":{"__isSmartRef__":true,"id":11},"onDrag":{"__isSmartRef__":true,"id":14},"onMouseDown":{"__isSmartRef__":true,"id":21}},"11":{"varMapping":{"__isSmartRef__":true,"id":12},"source":"function setIsSelected(bool, suppressUpdate) {\n            if (!bool && this.selected) {\n                this.removeStyleClassName('selected');\n            } else if (bool && !this.selected){\n                this.addStyleClassName('selected');\n            }\n            var self = this;\n            function setState() { self.selected = bool; }\n            if (suppressUpdate) lively.bindings.noUpdate(setState); else setState();\n        }","funcProperties":{"__isSmartRef__":true,"id":13},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"12":{"this":{"__isSmartRef__":true,"id":2}},"13":{"user":"athomschke","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Nov 20 2014 16:17:38 GMT-0800 (PST)\")"},"14":{"varMapping":{"__isSmartRef__":true,"id":15},"source":"function onDrag(evt) {\n            if (!evt.hand.eventStartPos) return;\n            var list = this.owner.owner,\n                scrollByY = evt.hand.eventStartPos.subPt(evt.getPosition()).y / 4\n            list.setScroll(0, list.getScroll()[1]+scrollByY);\n        }","funcProperties":{"__isSmartRef__":true,"id":20},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"15":{"this":{"__isSmartRef__":true,"id":2},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":16}},"16":{"$super":{"__isSmartRef__":true,"id":17}},"17":{"varMapping":{"__isSmartRef__":true,"id":18},"source":"function () {\n                try {\n                    // FIXME super is supposed to be static\n                    return Object.getPrototypeOf(obj)[name].apply(obj, arguments);\n                } catch (e) {\n                    if ($world)\n                        $world.logError(e, 'Error in $super call')\n                    else\n                        alert('Error in $super call: ' + e + '\\n' + e.stack);\n                    return null;\n                }\n            }","funcProperties":{"__isSmartRef__":true,"id":19},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"18":{"obj":{"__isSmartRef__":true,"id":2},"name":"onDrag"},"19":{},"20":{"user":"athomschke","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Nov 20 2014 16:17:38 GMT-0800 (PST)\")"},"21":{"varMapping":{"__isSmartRef__":true,"id":22},"source":"function onMouseDown(evt) {\n        // NOTE! This method is attached to all the list item morphs, so this\n        // in here is NOT the list but each individual list item morph\n        var list = this.owner.owner, // FIXME\n            isMultiSelect = !!list.isMultipleSelectionList;\n        if (!isMultiSelect) {\n            this.setIsSelected(list.allowDeselectClick ? !this.selected : true);\n        } else {\n            var multiSelectWithShift = list.multipleSelectionMode === 'multiSelectWithShift',\n                hasSelection = !!list.getSelectedIndexes().length,\n                shiftPressed = evt.isShiftDown();\n            if (multiSelectWithShift && !shiftPressed) {\n                var selected = this.selected;\n                list.deselectAll();\n                this.setIsSelected(!selected || !list.allowDeselectClick);\n            } else {\n                this.setIsSelected(!this.selected);\n            }\n        }\n        evt.stop(); return true;\n    }","funcProperties":{"__isSmartRef__":true,"id":27},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"22":{"this":{"__isSmartRef__":true,"id":2},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":23}},"23":{"$super":{"__isSmartRef__":true,"id":24}},"24":{"varMapping":{"__isSmartRef__":true,"id":25},"source":"function () {\n                try {\n                    // FIXME super is supposed to be static\n                    return Object.getPrototypeOf(obj)[name].apply(obj, arguments);\n                } catch (e) {\n                    if ($world)\n                        $world.logError(e, 'Error in $super call')\n                    else\n                        alert('Error in $super call: ' + e + '\\n' + e.stack);\n                    return null;\n                }\n            }","funcProperties":{"__isSmartRef__":true,"id":26},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"25":{"obj":{"__isSmartRef__":true,"id":2},"name":"onMouseDown"},"26":{},"27":{"user":"athomschke","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Nov 20 2014 16:17:38 GMT-0800 (PST)\")"},"28":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":29},"_WhiteSpaceHandling":"pre","textChunks":[{"__isSmartRef__":true,"id":30}],"_ClipMode":"hidden","derivationIds":[],"id":"D2F0E7A0-1AEC-4DA0-BCB6-0F085ADA800D","_InputAllowed":false,"_HandStyle":"default","allowInput":false,"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":false,"draggingEnabled":true,"fixedWidth":true,"fixedHeight":true,"_FontFamily":"Helvetica","_FontSize":10,"evalEnabled":false,"isLabel":true,"eventsAreIgnored":false,"layout":{"__isSmartRef__":true,"id":32},"_StyleClassNames":["Morph","Text","list-item"],"_TextStylingMode":true,"isListItemMorph":true,"name":"1","index":1,"attributeConnections":[{"__isSmartRef__":true,"id":33}],"doNotSerialize":["$$selected"],"doNotCopyProperties":["$$selected"],"selected":false,"owner":{"__isSmartRef__":true,"id":1},"eventHandler":{"__isSmartRef__":true,"id":35},"_PointerEvents":"auto","__serializedExpressions__":["_TextColor","_Position"],"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":36},"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_TextColor":"Color.rgb(64,64,64)","_Position":"lively.pt(0.0,19.0)"},"29":{"_BorderWidth":0,"_Fill":null,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(200.0,19.0)","_Padding":"lively.rect(4,2,0,0)","_BorderColor":"Color.rgb(0,0,0)"},"30":{"style":{"__isSmartRef__":true,"id":31},"chunkOwner":{"__isSmartRef__":true,"id":28},"_id":"_709","storedString":"2","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"31":{"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"32":{"resizeWidth":true},"33":{"sourceObj":{"__isSmartRef__":true,"id":28},"sourceAttrName":"selected","targetObj":{"__isSmartRef__":true,"id":0},"targetMethodName":"selectionChanged","varMapping":{"__isSmartRef__":true,"id":34},"updaterString":"function ($upd, selected) { $upd(this.sourceObj.index, selected); }","__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"34":{"source":{"__isSmartRef__":true,"id":28},"target":{"__isSmartRef__":true,"id":0}},"35":{"morph":{"__isSmartRef__":true,"id":28},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"36":{"setIsSelected":{"__isSmartRef__":true,"id":37},"onDrag":{"__isSmartRef__":true,"id":40},"onMouseDown":{"__isSmartRef__":true,"id":47}},"37":{"varMapping":{"__isSmartRef__":true,"id":38},"source":"function setIsSelected(bool, suppressUpdate) {\n            if (!bool && this.selected) {\n                this.removeStyleClassName('selected');\n            } else if (bool && !this.selected){\n                this.addStyleClassName('selected');\n            }\n            var self = this;\n            function setState() { self.selected = bool; }\n            if (suppressUpdate) lively.bindings.noUpdate(setState); else setState();\n        }","funcProperties":{"__isSmartRef__":true,"id":39},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"38":{"this":{"__isSmartRef__":true,"id":28}},"39":{"user":"athomschke","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Nov 20 2014 16:17:38 GMT-0800 (PST)\")"},"40":{"varMapping":{"__isSmartRef__":true,"id":41},"source":"function onDrag(evt) {\n            if (!evt.hand.eventStartPos) return;\n            var list = this.owner.owner,\n                scrollByY = evt.hand.eventStartPos.subPt(evt.getPosition()).y / 4\n            list.setScroll(0, list.getScroll()[1]+scrollByY);\n        }","funcProperties":{"__isSmartRef__":true,"id":46},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"41":{"this":{"__isSmartRef__":true,"id":28},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":42}},"42":{"$super":{"__isSmartRef__":true,"id":43}},"43":{"varMapping":{"__isSmartRef__":true,"id":44},"source":"function () {\n                try {\n                    // FIXME super is supposed to be static\n                    return Object.getPrototypeOf(obj)[name].apply(obj, arguments);\n                } catch (e) {\n                    if ($world)\n                        $world.logError(e, 'Error in $super call')\n                    else\n                        alert('Error in $super call: ' + e + '\\n' + e.stack);\n                    return null;\n                }\n            }","funcProperties":{"__isSmartRef__":true,"id":45},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"44":{"obj":{"__isSmartRef__":true,"id":28},"name":"onDrag"},"45":{},"46":{"user":"athomschke","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Nov 20 2014 16:17:38 GMT-0800 (PST)\")"},"47":{"varMapping":{"__isSmartRef__":true,"id":48},"source":"function onMouseDown(evt) {\n        // NOTE! This method is attached to all the list item morphs, so this\n        // in here is NOT the list but each individual list item morph\n        var list = this.owner.owner, // FIXME\n            isMultiSelect = !!list.isMultipleSelectionList;\n        if (!isMultiSelect) {\n            this.setIsSelected(list.allowDeselectClick ? !this.selected : true);\n        } else {\n            var multiSelectWithShift = list.multipleSelectionMode === 'multiSelectWithShift',\n                hasSelection = !!list.getSelectedIndexes().length,\n                shiftPressed = evt.isShiftDown();\n            if (multiSelectWithShift && !shiftPressed) {\n                var selected = this.selected;\n                list.deselectAll();\n                this.setIsSelected(!selected || !list.allowDeselectClick);\n            } else {\n                this.setIsSelected(!this.selected);\n            }\n        }\n        evt.stop(); return true;\n    }","funcProperties":{"__isSmartRef__":true,"id":53},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"48":{"this":{"__isSmartRef__":true,"id":28},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":49}},"49":{"$super":{"__isSmartRef__":true,"id":50}},"50":{"varMapping":{"__isSmartRef__":true,"id":51},"source":"function () {\n                try {\n                    // FIXME super is supposed to be static\n                    return Object.getPrototypeOf(obj)[name].apply(obj, arguments);\n                } catch (e) {\n                    if ($world)\n                        $world.logError(e, 'Error in $super call')\n                    else\n                        alert('Error in $super call: ' + e + '\\n' + e.stack);\n                    return null;\n                }\n            }","funcProperties":{"__isSmartRef__":true,"id":52},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"51":{"obj":{"__isSmartRef__":true,"id":28},"name":"onMouseDown"},"52":{},"53":{"user":"athomschke","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Nov 20 2014 16:17:38 GMT-0800 (PST)\")"},"54":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":55},"_WhiteSpaceHandling":"pre","textChunks":[{"__isSmartRef__":true,"id":56}],"_ClipMode":"hidden","derivationIds":[],"id":"CCFAEDB0-7AC4-4B65-9C9D-7FE3B3D187AA","_InputAllowed":false,"_HandStyle":"default","allowInput":false,"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":false,"draggingEnabled":true,"fixedWidth":true,"fixedHeight":true,"_FontFamily":"Helvetica","_FontSize":10,"evalEnabled":false,"isLabel":true,"eventsAreIgnored":false,"layout":{"__isSmartRef__":true,"id":58},"_StyleClassNames":["Morph","Text","list-item"],"_TextStylingMode":true,"isListItemMorph":true,"name":"2","index":2,"attributeConnections":[{"__isSmartRef__":true,"id":59}],"doNotSerialize":["$$selected"],"doNotCopyProperties":["$$selected"],"selected":false,"owner":{"__isSmartRef__":true,"id":1},"eventHandler":{"__isSmartRef__":true,"id":61},"_PointerEvents":"auto","__serializedExpressions__":["_TextColor","_Position"],"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":62},"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_TextColor":"Color.rgb(64,64,64)","_Position":"lively.pt(0.0,38.0)"},"55":{"_BorderWidth":0,"_Fill":null,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(200.0,19.0)","_Padding":"lively.rect(4,2,0,0)","_BorderColor":"Color.rgb(0,0,0)"},"56":{"style":{"__isSmartRef__":true,"id":57},"chunkOwner":{"__isSmartRef__":true,"id":54},"_id":"_710","storedString":"3","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"57":{"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"58":{"resizeWidth":true},"59":{"sourceObj":{"__isSmartRef__":true,"id":54},"sourceAttrName":"selected","targetObj":{"__isSmartRef__":true,"id":0},"targetMethodName":"selectionChanged","varMapping":{"__isSmartRef__":true,"id":60},"updaterString":"function ($upd, selected) { $upd(this.sourceObj.index, selected); }","__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"60":{"source":{"__isSmartRef__":true,"id":54},"target":{"__isSmartRef__":true,"id":0}},"61":{"morph":{"__isSmartRef__":true,"id":54},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"62":{"setIsSelected":{"__isSmartRef__":true,"id":63},"onDrag":{"__isSmartRef__":true,"id":66},"onMouseDown":{"__isSmartRef__":true,"id":73}},"63":{"varMapping":{"__isSmartRef__":true,"id":64},"source":"function setIsSelected(bool, suppressUpdate) {\n            if (!bool && this.selected) {\n                this.removeStyleClassName('selected');\n            } else if (bool && !this.selected){\n                this.addStyleClassName('selected');\n            }\n            var self = this;\n            function setState() { self.selected = bool; }\n            if (suppressUpdate) lively.bindings.noUpdate(setState); else setState();\n        }","funcProperties":{"__isSmartRef__":true,"id":65},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"64":{"this":{"__isSmartRef__":true,"id":54}},"65":{"user":"athomschke","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Nov 20 2014 16:17:38 GMT-0800 (PST)\")"},"66":{"varMapping":{"__isSmartRef__":true,"id":67},"source":"function onDrag(evt) {\n            if (!evt.hand.eventStartPos) return;\n            var list = this.owner.owner,\n                scrollByY = evt.hand.eventStartPos.subPt(evt.getPosition()).y / 4\n            list.setScroll(0, list.getScroll()[1]+scrollByY);\n        }","funcProperties":{"__isSmartRef__":true,"id":72},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"67":{"this":{"__isSmartRef__":true,"id":54},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":68}},"68":{"$super":{"__isSmartRef__":true,"id":69}},"69":{"varMapping":{"__isSmartRef__":true,"id":70},"source":"function () {\n                try {\n                    // FIXME super is supposed to be static\n                    return Object.getPrototypeOf(obj)[name].apply(obj, arguments);\n                } catch (e) {\n                    if ($world)\n                        $world.logError(e, 'Error in $super call')\n                    else\n                        alert('Error in $super call: ' + e + '\\n' + e.stack);\n                    return null;\n                }\n            }","funcProperties":{"__isSmartRef__":true,"id":71},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"70":{"obj":{"__isSmartRef__":true,"id":54},"name":"onDrag"},"71":{},"72":{"user":"athomschke","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Nov 20 2014 16:17:38 GMT-0800 (PST)\")"},"73":{"varMapping":{"__isSmartRef__":true,"id":74},"source":"function onMouseDown(evt) {\n        // NOTE! This method is attached to all the list item morphs, so this\n        // in here is NOT the list but each individual list item morph\n        var list = this.owner.owner, // FIXME\n            isMultiSelect = !!list.isMultipleSelectionList;\n        if (!isMultiSelect) {\n            this.setIsSelected(list.allowDeselectClick ? !this.selected : true);\n        } else {\n            var multiSelectWithShift = list.multipleSelectionMode === 'multiSelectWithShift',\n                hasSelection = !!list.getSelectedIndexes().length,\n                shiftPressed = evt.isShiftDown();\n            if (multiSelectWithShift && !shiftPressed) {\n                var selected = this.selected;\n                list.deselectAll();\n                this.setIsSelected(!selected || !list.allowDeselectClick);\n            } else {\n                this.setIsSelected(!this.selected);\n            }\n        }\n        evt.stop(); return true;\n    }","funcProperties":{"__isSmartRef__":true,"id":79},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"74":{"this":{"__isSmartRef__":true,"id":54},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":75}},"75":{"$super":{"__isSmartRef__":true,"id":76}},"76":{"varMapping":{"__isSmartRef__":true,"id":77},"source":"function () {\n                try {\n                    // FIXME super is supposed to be static\n                    return Object.getPrototypeOf(obj)[name].apply(obj, arguments);\n                } catch (e) {\n                    if ($world)\n                        $world.logError(e, 'Error in $super call')\n                    else\n                        alert('Error in $super call: ' + e + '\\n' + e.stack);\n                    return null;\n                }\n            }","funcProperties":{"__isSmartRef__":true,"id":78},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"77":{"obj":{"__isSmartRef__":true,"id":54},"name":"onMouseDown"},"78":{},"79":{"user":"athomschke","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Nov 20 2014 16:17:38 GMT-0800 (PST)\")"},"80":{"_Fill":null,"__serializedExpressions__":["_Position","_Extent","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(200.0,61.0)","_Padding":"lively.rect(0,0,0,0)"},"81":{"morph":{"__isSmartRef__":true,"id":1},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"82":{"resizeWidth":true,"adjustForNewBounds":true},"83":{"_BorderWidth":0,"__serializedExpressions__":["position","_Extent","_BorderColor","_Fill","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(200.0,300.0)","_BorderColor":"Color.rgb(0,0,0)","_Fill":"Color.rgb(255,255,255)","_Padding":"lively.rect(0,0,0,0)"},"84":{"partsSpaceName":"PartsBin/Documentation/","migrationLevel":8,"partName":"JournalTOC","comment":"Table of contents for a JournalStack","changes":[{"__isSmartRef__":true,"id":85},{"__isSmartRef__":true,"id":86},{"__isSmartRef__":true,"id":87},{"__isSmartRef__":true,"id":88},{"__isSmartRef__":true,"id":89},{"__isSmartRef__":true,"id":90}],"__serializedExpressions__":["lastModifiedDate"],"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo","__SourceModuleName__":"Global.lively.PartsBin","lastModifiedDate":"new Date(\"Thu Nov 20 2014 16:14:54 GMT-0800 (PST)\")"},"85":{"author":"undefined","message":"Click on scrollbar does not grab list","id":"16AABF98-2E7D-4875-9E66-CF86EB74AF93","__serializedExpressions__":["date"],"date":"new Date(\"Thu Mar 29 2012 05:39:24 GMT-0700 (PDT)\")"},"86":{"author":"robertkrahn","message":"new morphic lists","id":"ACF81045-E200-4DA6-B0C6-B9AB94590E84","__serializedExpressions__":["date"],"date":"new Date(\"Mon Sep 30 2013 14:32:00 GMT-0700 (PDT)\")"},"87":{"author":"robertkrahn","message":"no comment","id":"3D0531CA-D241-4692-89F0-2FCC7621B8DE","__serializedExpressions__":["date"],"date":"new Date(\"Tue Oct 01 2013 15:29:07 GMT-0700 (PDT)\")"},"88":{"author":"robertkrahn","message":"Fixed onMouseDown handler of text item morphs","id":"860182BB-590A-4CD9-AAB6-2F87F9BDF9B6","__serializedExpressions__":["date"],"date":"new Date(\"Fri Jun 27 2014 02:53:07 GMT-0700 (PDT)\")"},"89":{"author":"athomschke","message":"initial, not scrolling","id":"AEF76A5B-3720-4186-8A92-C7B36C0B4C88","__serializedExpressions__":["date"],"date":"new Date(\"Thu Nov 20 2014 16:14:53 GMT-0800 (PST)\")"},"90":{"__serializedExpressions__":["date"],"author":"athomschke","message":"scrolls now","id":"EEAE3A0D-2944-4542-BE17-11685E3766CD","date":"new Date(\"Thu Nov 20 2014 16:50:13 GMT-0800 (PST)\")"},"91":{"x":"hidden","y":"scroll"},"92":{"morph":{"__isSmartRef__":true,"id":0},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"93":{"listItemHeight":19,"padding":0,"maxListItems":16,"noOfCandidatesShown":4,"adjustForNewBounds":true,"__serializedExpressions__":["extent","maxExtent"],"extent":"lively.pt(200.0,300.0)","maxExtent":"lively.pt(200.0,300.0)"},"94":{"sourceObj":{"__isSmartRef__":true,"id":0},"sourceAttrName":"selection","targetObj":{"__isSmartRef__":true,"id":0},"targetMethodName":"onSelectionChange","varMapping":{"__isSmartRef__":true,"id":95},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"95":{"source":{"__isSmartRef__":true,"id":0},"target":{"__isSmartRef__":true,"id":0}},"96":{"onDropOn":{"__isSmartRef__":true,"id":97},"addEntryFor":{"__isSmartRef__":true,"id":104},"onSelectionChange":{"__isSmartRef__":true,"id":107}},"97":{"varMapping":{"__isSmartRef__":true,"id":98},"source":"function onDropOn(aMorph) {\n    if (aMorph.layout && aMorph.layout.layouter &&\n            aMorph.layout.layouter.isJournalLayout()) {\n        this.setList([])\n        aMorph.submorphs.select(function(content) {\n            return content.textChunks && content.textChunks.collect(function(ea) {\n                return ea.style.fontWeight\n            }).flatten()[0] === 'bold'\n        }).each(function(ea) {\n            this.addEntryFor(ea)\n        }.bind(this))\n        this.setExtent(pt(aMorph.getExtent().x, this.itemList.length * 20))\n    } else {\n        this.updateList([1,2,3])\n        this.setExtent(pt(200,300))\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":103},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"98":{"this":{"__isSmartRef__":true,"id":0},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":99}},"99":{"$super":{"__isSmartRef__":true,"id":100}},"100":{"varMapping":{"__isSmartRef__":true,"id":101},"source":"function () {\n                try {\n                    // FIXME super is supposed to be static\n                    return Object.getPrototypeOf(obj)[name].apply(obj, arguments);\n                } catch (e) {\n                    if ($world)\n                        $world.logError(e, 'Error in $super call')\n                    else\n                        alert('Error in $super call: ' + e + '\\n' + e.stack);\n                    return null;\n                }\n            }","funcProperties":{"__isSmartRef__":true,"id":102},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"101":{"obj":{"__isSmartRef__":true,"id":0},"name":"onDropOn"},"102":{},"103":{"user":"athomschke","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Nov 20 2014 16:15:57 GMT-0800 (PST)\")"},"104":{"varMapping":{"__isSmartRef__":true,"id":105},"source":"function addEntryFor(aHeadlineMorph) {\n    this.addItem({\n        string: '' + (this.itemList.length + 1) + ' ... ' + aHeadlineMorph.getTextString(),\n        value: aHeadlineMorph\n    })\n}","funcProperties":{"__isSmartRef__":true,"id":106},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"105":{"this":{"__isSmartRef__":true,"id":0}},"106":{"user":"athomschke","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Nov 20 2014 16:17:30 GMT-0800 (PST)\")"},"107":{"varMapping":{"__isSmartRef__":true,"id":108},"source":"function onSelectionChange(selection) {\n    if (selection) {\n        $world.setScroll($world.getScroll()[0],selection.globalBounds().y - 40)\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":109},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"108":{"this":{"__isSmartRef__":true,"id":0}},"109":{"__serializedExpressions__":["timestamp"],"user":"athomschke","timestamp":"new Date(\"Thu Nov 20 2014 16:49:12 GMT-0800 (PST)\")"},"isSimplifiedRegistry":true}}