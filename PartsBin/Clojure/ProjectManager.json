{"id":0,"registry":{"0":{"submorphs":[{"__isSmartRef__":true,"id":1},{"__isSmartRef__":true,"id":31},{"__isSmartRef__":true,"id":434},{"__isSmartRef__":true,"id":438},{"__isSmartRef__":true,"id":442}],"scripts":[],"shape":{"__isSmartRef__":true,"id":446},"_ClipMode":"visible","derivationIds":["8FD5720C-A7F1-4A99-BCA1-D8E3EC1F9598"],"id":"6D7DAC6D-F9C4-4751-A678-0111CAA23440","droppingEnabled":false,"halosEnabled":true,"draggingEnabled":true,"layout":{"__isSmartRef__":true,"id":447},"closeButton":{"__isSmartRef__":true,"id":8},"collapseButton":{"__isSmartRef__":true,"id":18},"reframeHandle":{"__isSmartRef__":true,"id":434},"rightReframeHandle":{"__isSmartRef__":true,"id":442},"bottomReframeHandle":{"__isSmartRef__":true,"id":438},"titleBar":{"__isSmartRef__":true,"id":1},"collapsedTransform":{"__isSmartRef__":true,"id":448},"expandedTransform":{"__isSmartRef__":true,"id":449},"ignoreEventsOnExpand":false,"_PreviousBorderWidth":0,"targetMorph":{"__isSmartRef__":true,"id":31},"eventHandler":{"__isSmartRef__":true,"id":450},"partsBinMetaInfo":{"__isSmartRef__":true,"id":172},"name":"ProjectManager","_StyleClassNames":["Morph","Window"],"showsHalos":false,"helperMorphs":[{"__isSmartRef__":true,"id":434},{"__isSmartRef__":true,"id":438},{"__isSmartRef__":true,"id":442}],"state":"expanded","__serializedExpressions__":["_Position","contentOffset","collapsedExtent","expandedExtent","expandedPosition","collapsedPosition"],"_Rotation":0,"_Scale":1,"__LivelyClassName__":"lively.morphic.Window","__SourceModuleName__":"Global.lively.morphic.Widgets","withoutLayers":["Global.lively.morphic.GrabbingLayer"],"_Position":"lively.pt(0.0,0.0)","contentOffset":"lively.pt(3.0,22.0)","collapsedExtent":"lively.pt(110.0,22.0)","expandedExtent":"lively.pt(451.0,445.0)","expandedPosition":"lively.pt(35.0,427.0)","collapsedPosition":"lively.pt(35.0,427.0)"},"1":{"submorphs":[{"__isSmartRef__":true,"id":2},{"__isSmartRef__":true,"id":8},{"__isSmartRef__":true,"id":18}],"scripts":[],"shape":{"__isSmartRef__":true,"id":28},"_ClipMode":"visible","derivationIds":["2081EA19-307A-489B-A449-D871DA980685"],"id":"D6FA4647-6B4E-44DB-B4E4-6106B3337D79","droppingEnabled":false,"halosEnabled":true,"layout":{"__isSmartRef__":true,"id":29},"windowMorph":{"__isSmartRef__":true,"id":0},"buttons":[{"__isSmartRef__":true,"id":8},{"__isSmartRef__":true,"id":18}],"label":{"__isSmartRef__":true,"id":2},"_PreviousBorderWidth":0,"owner":{"__isSmartRef__":true,"id":0},"eventHandler":{"__isSmartRef__":true,"id":30},"__serializedExpressions__":["_Position"],"__LivelyClassName__":"lively.morphic.TitleBar","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(0.0,0.0)"},"2":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":3},"_WhiteSpaceHandling":"pre","textChunks":[{"__isSmartRef__":true,"id":4}],"_ClipMode":"hidden","derivationIds":["AE93FCAB-C471-407C-8750-78534F8BDBCB"],"id":"DC34ABBD-3C5A-4014-8578-92D95DB62B4B","_InputAllowed":false,"_HandStyle":"default","allowInput":false,"_IsSelectable":false,"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"draggingEnabled":true,"fixedWidth":true,"fixedHeight":true,"_FontFamily":"Helvetica","_FontSize":10,"evalEnabled":false,"isLabel":true,"eventsAreIgnored":true,"layout":{"__isSmartRef__":true,"id":6},"owner":{"__isSmartRef__":true,"id":1},"_StyleClassNames":["Morph","Text","window-title"],"_TextStylingMode":true,"eventHandler":{"__isSmartRef__":true,"id":7},"priorSelectionRange":null,"_Align":"left","__serializedExpressions__":["_TextColor","_Position"],"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_TextColor":"Color.rgb(64,64,64)","_Position":"lively.pt(3.0,3.0)"},"3":{"_BorderWidth":0,"_Fill":null,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(432.0,16.0)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(0,0,0)"},"4":{"style":{"__isSmartRef__":true,"id":5},"chunkOwner":{"__isSmartRef__":true,"id":2},"_id":"_149626","storedString":"Projects","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"5":{"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"6":{"resizeWidth":true},"7":{"morph":{"__isSmartRef__":true,"id":2},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"8":{"submorphs":[{"__isSmartRef__":true,"id":9}],"scripts":[],"shape":{"__isSmartRef__":true,"id":14},"_ClipMode":"visible","derivationIds":["C9D73070-8B40-43F0-B25F-98B5437357E7"],"id":"1B046E62-7A16-49D0-8BFB-7775B308C0D4","grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"accessibleInInactiveWindow":true,"value":false,"toggle":false,"isActive":true,"label":{"__isSmartRef__":true,"id":9},"_PreviousBorderWidth":0,"owner":{"__isSmartRef__":true,"id":1},"_StyleClassNames":["Morph","Button","WindowControl","close"],"attributeConnections":[{"__isSmartRef__":true,"id":15}],"doNotSerialize":["$$fire"],"doNotCopyProperties":["$$fire"],"eventHandler":{"__isSmartRef__":true,"id":17},"isPressed":false,"__serializedExpressions__":["_Position"],"__LivelyClassName__":"lively.morphic.WindowControl","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(461.0,3.0)"},"9":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":10},"_WhiteSpaceHandling":"pre","textChunks":[{"__isSmartRef__":true,"id":11}],"_ClipMode":"hidden","derivationIds":["E20B39FC-55D3-4B88-B753-26756E4FF10E"],"id":"D4EBE7E2-B7CE-4118-8508-54D744B9F5FA","_InputAllowed":false,"_HandStyle":"default","allowInput":false,"_IsSelectable":true,"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"draggingEnabled":true,"fixedWidth":true,"fixedHeight":true,"_FontFamily":"Helvetica","_FontSize":10,"evalEnabled":false,"owner":{"__isSmartRef__":true,"id":8},"isLabel":true,"eventsAreIgnored":true,"_TextStylingMode":true,"eventsAreDisabled":true,"_PointerEvents":"none","eventHandler":{"__isSmartRef__":true,"id":13},"__serializedExpressions__":["_TextColor","_Position"],"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_TextColor":"Color.rgb(64,64,64)","_Position":"lively.pt(0.0,0.0)"},"10":{"_BorderWidth":0,"_Fill":null,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(17.0,17.0)","_Padding":"lively.rect(4,2,0,0)","_BorderColor":"Color.rgb(0,0,0)"},"11":{"style":{"__isSmartRef__":true,"id":12},"chunkOwner":{"__isSmartRef__":true,"id":9},"_id":"_149488","storedString":"X","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"12":{"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"13":{"morph":{"__isSmartRef__":true,"id":9},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"14":{"_BorderWidth":1,"_Fill":null,"_StrokeOpacity":0,"_BorderRadius":5,"_AppearanceStylingMode":true,"_BorderStylingMode":true,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(17.0,17.0)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(189,190,192)"},"15":{"sourceObj":{"__isSmartRef__":true,"id":8},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":0},"targetMethodName":"initiateShutdown","varMapping":{"__isSmartRef__":true,"id":16},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"16":{"source":{"__isSmartRef__":true,"id":8},"target":{"__isSmartRef__":true,"id":0}},"17":{"morph":{"__isSmartRef__":true,"id":8},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"18":{"submorphs":[{"__isSmartRef__":true,"id":19}],"scripts":[],"shape":{"__isSmartRef__":true,"id":24},"_ClipMode":"visible","derivationIds":["102330A4-7B9D-483B-84E7-051AEA768E83"],"id":"DF07BA55-8661-49D7-B450-4724FE6A2492","grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"accessibleInInactiveWindow":true,"value":false,"toggle":false,"isActive":true,"label":{"__isSmartRef__":true,"id":19},"_PreviousBorderWidth":0,"owner":{"__isSmartRef__":true,"id":1},"attributeConnections":[{"__isSmartRef__":true,"id":25}],"doNotSerialize":["$$fire"],"doNotCopyProperties":["$$fire"],"eventHandler":{"__isSmartRef__":true,"id":27},"isPressed":false,"_StyleClassNames":["Morph","Button","WindowControl"],"__serializedExpressions__":["_Position"],"__LivelyClassName__":"lively.morphic.WindowControl","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(441.0,3.0)"},"19":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":20},"_WhiteSpaceHandling":"pre","textChunks":[{"__isSmartRef__":true,"id":21}],"_ClipMode":"hidden","derivationIds":["A40F7D8D-833B-423F-9432-A426D96374DB"],"id":"054CF8B6-0C1E-451A-A6E2-CDECDF15421F","_InputAllowed":false,"_HandStyle":"default","allowInput":false,"_IsSelectable":true,"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"draggingEnabled":true,"fixedWidth":true,"fixedHeight":true,"_FontFamily":"Helvetica","_FontSize":10,"evalEnabled":false,"owner":{"__isSmartRef__":true,"id":18},"isLabel":true,"eventsAreIgnored":true,"_TextStylingMode":true,"eventsAreDisabled":true,"_PointerEvents":"none","eventHandler":{"__isSmartRef__":true,"id":23},"__serializedExpressions__":["_TextColor","_Position"],"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_TextColor":"Color.rgb(64,64,64)","_Position":"lively.pt(0.0,0.0)"},"20":{"_BorderWidth":0,"_Fill":null,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(17.0,17.0)","_Padding":"lively.rect(4,2,0,0)","_BorderColor":"Color.rgb(0,0,0)"},"21":{"style":{"__isSmartRef__":true,"id":22},"chunkOwner":{"__isSmartRef__":true,"id":19},"_id":"_149491","storedString":"–","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"22":{"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"23":{"morph":{"__isSmartRef__":true,"id":19},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"24":{"_BorderWidth":1,"_Fill":null,"_StrokeOpacity":0,"_BorderRadius":5,"_AppearanceStylingMode":true,"_BorderStylingMode":true,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(17.0,17.0)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(189,190,192)"},"25":{"sourceObj":{"__isSmartRef__":true,"id":18},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":0},"targetMethodName":"toggleCollapse","varMapping":{"__isSmartRef__":true,"id":26},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"26":{"source":{"__isSmartRef__":true,"id":18},"target":{"__isSmartRef__":true,"id":0}},"27":{"morph":{"__isSmartRef__":true,"id":18},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"28":{"_BorderWidth":0,"_BorderColor":null,"_Fill":null,"_AppearanceStylingMode":true,"_BorderStylingMode":true,"_BorderRadius":"8px 8px 0px 0px","__serializedExpressions__":["_Position","_Extent","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(481.0,22.0)","_Padding":"lively.rect(0,0,0,0)"},"29":{"resizeWidth":true,"adjustForNewBounds":true},"30":{"morph":{"__isSmartRef__":true,"id":1},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"31":{"submorphs":[{"__isSmartRef__":true,"id":32},{"__isSmartRef__":true,"id":45},{"__isSmartRef__":true,"id":71},{"__isSmartRef__":true,"id":97},{"__isSmartRef__":true,"id":123},{"__isSmartRef__":true,"id":149}],"scripts":[],"id":"2FE54230-F30A-4A8E-948E-9EB8E5C8A893","shape":{"__isSmartRef__":true,"id":171},"droppingEnabled":true,"halosEnabled":true,"registeredForMouseEvents":true,"showsHalos":false,"name":"ProjectOverview","partsBinMetaInfo":{"__isSmartRef__":true,"id":172},"eventHandler":{"__isSmartRef__":true,"id":190},"derivationIds":[127,"F0291F62-F100-480C-AEBF-0230398F7983","AE8B5ED7-E305-45BC-BE4A-1C28A49EE12B","39BA345C-17FA-45A0-BAC2-F0CF5654ACF8","FE91EA31-D8AE-461B-8A49-95DA5FBAE5B4","F38439A3-2F4E-4AC2-BF73-2633C00B1393","6748F5B5-2284-4748-A6EE-F1A261CBAD0B","BBAFB862-93AE-4F89-BCFF-9F1C67B7FE4C","7EC17E78-593A-4CC8-B7E3-859BCBBFE785","BD8BECDB-A9A1-4009-B433-C925F0AFCCFC","F2677A9D-5855-4DF2-B248-94545B34B762","D52188B3-7DC0-410E-96B1-50892AC00A37","EB6047EE-3EF7-4588-9722-06D426440FC4"],"partTests":{"__isSmartRef__":true,"id":191},"_ClipMode":"visible","moved":true,"owner":{"__isSmartRef__":true,"id":0},"_PreviousBorderWidth":0,"layout":{"__isSmartRef__":true,"id":196},"isBeingDragged":false,"_traitConfig_":[{"__isSmartRef__":true,"id":197}],"lastFocused":{"__isSmartRef__":true,"id":199},"isCopyMorphRef":true,"morphRefId":1,"__serializedExpressions__":["_Position","distanceToDragEvent"],"_Rotation":0,"_Scale":1,"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":352},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(3.0,22.0)","distanceToDragEvent":"lively.pt(343.0,-20.0)"},"32":{"submorphs":[{"__isSmartRef__":true,"id":33}],"scripts":[],"id":"DC6EDB32-B800-41C7-A250-82C44C851A4C","shape":{"__isSmartRef__":true,"id":37},"droppingEnabled":true,"halosEnabled":true,"itemList":[],"selectedIndexes":[],"showsHalos":false,"name":"projectList","partsBinMetaInfo":{"__isSmartRef__":true,"id":38},"_ClipMode":{"__isSmartRef__":true,"id":42},"eventHandler":{"__isSmartRef__":true,"id":43},"derivationIds":[2860,"30186701-49A1-49AD-A42F-27F425D92029","ADD09343-51ED-44F6-85F3-257C9A52C897","C1C00AC4-F3E1-44E1-8973-0E9903EFE3B9","2B85E408-84FC-4316-BD59-0C77BB49E637","9F4E3CCE-37F2-45F8-BFD5-C6393EFFBD93"],"isBeingDragged":false,"changeTriggered":true,"grabbingEnabled":false,"_FontSize":10,"moved":true,"itemMorphs":[],"layout":{"__isSmartRef__":true,"id":44},"owner":{"__isSmartRef__":true,"id":31},"isMultipleSelectionList":true,"multipleSelectionMode":"multiSelectWithShift","prevScroll":[0,0],"__serializedExpressions__":["_Position","distanceToDragEvent"],"_Rotation":0,"_Scale":1,"__LivelyClassName__":"lively.morphic.List","__SourceModuleName__":"Global.lively.morphic.Lists","_Position":"lively.pt(4.0,4.0)","distanceToDragEvent":"lively.pt(68.0,-9.0)"},"33":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":34},"_ClipMode":"visible","derivationIds":["5B4469C4-350D-4551-89E3-0CCAA4874419","99AE6204-7A5A-47D1-AE7C-1B39DB42669D","882065A8-6C98-48F8-AC38-FF8E2A024E39"],"id":"D0A8EC37-E99C-4217-B7E9-759E622A0D6B","droppingEnabled":true,"halosEnabled":false,"owner":{"__isSmartRef__":true,"id":32},"eventHandler":{"__isSmartRef__":true,"id":35},"showsHalos":false,"layout":{"__isSmartRef__":true,"id":36},"__serializedExpressions__":["_Position"],"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(0.0,0.0)"},"34":{"_Fill":null,"__serializedExpressions__":["_Position","_Extent","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(467.0,4.0)","_Padding":"lively.rect(0,0,0,0)"},"35":{"morph":{"__isSmartRef__":true,"id":33},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"36":{"resizeWidth":true,"adjustForNewBounds":true},"37":{"_BorderWidth":0,"_BorderStylingMode":false,"__serializedExpressions__":["position","_Extent","_BorderColor","_Fill","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(467.0,305.0)","_BorderColor":"Color.rgb(0,0,0)","_Fill":"Color.rgb(255,255,255)","_Padding":"lively.rect(0,0,0,0)"},"38":{"partsSpaceName":"PartsBin/Inputs/","migrationLevel":8,"partName":"List","comment":"a list morph","changes":[{"__isSmartRef__":true,"id":39},{"__isSmartRef__":true,"id":40},{"__isSmartRef__":true,"id":41}],"__serializedExpressions__":["lastModifiedDate"],"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo","__SourceModuleName__":"Global.lively.PartsBin","lastModifiedDate":"new Date(\"Tue Oct 01 2013 15:29:14 GMT-0700 (PDT)\")"},"39":{"author":"robertkrahn","message":"no comment","id":"3D0531CA-D241-4692-89F0-2FCC7621B8DE","__serializedExpressions__":["date"],"date":"new Date(\"Tue Oct 01 2013 15:29:07 GMT-0700 (PDT)\")"},"40":{"author":"robertkrahn","message":"new morphic lists","id":"ACF81045-E200-4DA6-B0C6-B9AB94590E84","__serializedExpressions__":["date"],"date":"new Date(\"Mon Sep 30 2013 14:32:00 GMT-0700 (PDT)\")"},"41":{"author":"undefined","message":"Click on scrollbar does not grab list","id":"16AABF98-2E7D-4875-9E66-CF86EB74AF93","__serializedExpressions__":["date"],"date":"new Date(\"Thu Mar 29 2012 05:39:24 GMT-0700 (PDT)\")"},"42":{"x":"hidden","y":"scroll"},"43":{"morph":{"__isSmartRef__":true,"id":32},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"44":{"listItemHeight":19,"padding":0,"maxListItems":17,"noOfCandidatesShown":1,"adjustForNewBounds":true,"resizeWidth":true,"resizeHeight":true,"__serializedExpressions__":["extent","maxExtent"],"extent":"lively.pt(467.0,305.0)","maxExtent":"lively.pt(467.0,305.0)"},"45":{"submorphs":[{"__isSmartRef__":true,"id":46}],"scripts":[],"shape":{"__isSmartRef__":true,"id":51},"eventHandler":{"__isSmartRef__":true,"id":52},"_ClipMode":"visible","derivationIds":["EC7EBB28-54AE-4244-80ED-3E13650F82B7","9FD2DCE2-B997-4536-B2A5-90D7DD92B3E6","0D8CC908-BD1C-4062-BB03-3FCEB910483D","36D437DB-A0F8-4F6B-8A8A-4669804700DB"],"id":"E6CC50E9-E552-407E-BD60-6CC581A5AE0C","grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"value":false,"toggle":false,"isActive":true,"label":{"__isSmartRef__":true,"id":46},"_PreviousBorderWidth":1,"isPressed":false,"showsHalos":false,"attributeConnections":[{"__isSmartRef__":true,"id":53},{"__isSmartRef__":true,"id":55}],"doNotSerialize":["$$fire"],"doNotCopyProperties":["$$fire"],"name":"addProjectButton","partsBinMetaInfo":{"__isSmartRef__":true,"id":57},"pinSpecs":[{"__isSmartRef__":true,"id":65}],"owner":{"__isSmartRef__":true,"id":31},"layout":{"__isSmartRef__":true,"id":66},"_StyleClassNames":["Morph","Button"],"__serializedExpressions__":["_Position","distanceToDragEvent"],"_Rotation":0,"_Scale":1,"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":67},"__LivelyClassName__":"lively.morphic.Button","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(4.0,312.0)","distanceToDragEvent":"lively.pt(66.0,-17.0)"},"46":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":47},"_WhiteSpaceHandling":"pre-wrap","textChunks":[{"__isSmartRef__":true,"id":48}],"eventHandler":{"__isSmartRef__":true,"id":50},"_ClipMode":"hidden","derivationIds":["7884E73F-0D17-44B3-907F-44A5223F1F3D","444B63A6-D9E7-4AB2-AB57-4A9146C18BFF","08999E10-CCC3-4CAB-99BC-4EF500309EC4","0ED33208-3AE7-485F-A08B-98284758175D"],"id":"DB7D893C-6AD5-4075-9C7E-4A0ED005AEE7","grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"fixedWidth":true,"_WordBreak":"break-all","fixedHeight":true,"_InputAllowed":false,"_HandStyle":"default","allowInput":false,"_FontFamily":"Helvetica","_FontSize":10,"evalEnabled":false,"owner":{"__isSmartRef__":true,"id":45},"isLabel":true,"_Align":"center","eventsAreIgnored":true,"_TextStylingMode":true,"showsHalos":false,"eventsAreDisabled":true,"_PointerEvents":"none","__serializedExpressions__":["_TextColor"],"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_TextColor":"Color.rgb(0,0,0)"},"47":{"_BorderWidth":0,"_Fill":null,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(20.0,20.0)","_Padding":"lively.rect(0,3,0,0)","_BorderColor":"Color.rgb(0,0,0)"},"48":{"style":{"__isSmartRef__":true,"id":49},"chunkOwner":{"__isSmartRef__":true,"id":46},"_id":"_114532","storedString":"+","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"49":{"__serializedExpressions__":["color"],"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore","color":"Color.rgb(0,0,0)"},"50":{"morph":{"__isSmartRef__":true,"id":46},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"51":{"_BorderWidth":1,"_BorderRadius":5,"_AppearanceStylingMode":true,"_BorderStylingMode":true,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(20.0,20.0)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(189,190,192)"},"52":{"morph":{"__isSmartRef__":true,"id":45},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"53":{"sourceObj":{"__isSmartRef__":true,"id":45},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":45},"targetMethodName":"doAction","varMapping":{"__isSmartRef__":true,"id":54},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"54":{"source":{"__isSmartRef__":true,"id":45},"target":{"__isSmartRef__":true,"id":45}},"55":{"sourceObj":{"__isSmartRef__":true,"id":45},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":31},"targetMethodName":"interactivelyAddProject","varMapping":{"__isSmartRef__":true,"id":56},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"56":{"source":{"__isSmartRef__":true,"id":45},"target":{"__isSmartRef__":true,"id":31}},"57":{"partName":"Button","requiredModules":[],"partsSpaceName":"PartsBin/Inputs/","comment":"A simple button that calls a method #doAction when pressed.","changes":[{"__isSmartRef__":true,"id":58},{"__isSmartRef__":true,"id":59},{"__isSmartRef__":true,"id":60},{"__isSmartRef__":true,"id":61},{"__isSmartRef__":true,"id":62},{"__isSmartRef__":true,"id":63},{"__isSmartRef__":true,"id":64}],"migrationLevel":7,"__serializedExpressions__":["lastModifiedDate"],"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo","__SourceModuleName__":"Global.lively.PartsBin","lastModifiedDate":"new Date(\"Tue Jul 23 2013 23:21:11 GMT-0700 (PDT)\")"},"58":{"author":"Dan","message":"no comment","id":"CFEC4071-14FF-4AEB-A399-197884CD18BF","__serializedExpressions__":["date"],"date":"new Date(\"Mon Jun 17 2013 10:24:50 GMT-0700 (PDT)\")"},"59":{"author":"Dan","message":"no comment","id":"A594459F-DA9B-49DD-A105-547B3F613CC5","__serializedExpressions__":["date"],"date":"new Date(\"Mon Jun 17 2013 10:22:38 GMT-0700 (PDT)\")"},"60":{"author":"robertkrahn","message":"no comment","id":"BB2EA501-D9AF-414B-A035-E1487DA6F0FD","__serializedExpressions__":["date"],"date":"new Date(\"Tue Apr 30 2013 20:36:30 GMT-0700 (PDT)\")"},"61":{"author":"robertkrahn","message":"no comment","id":"811BDE87-D8DD-48BB-97B2-7A3C3F3FAE32","__serializedExpressions__":["date"],"date":"new Date(\"Tue Apr 30 2013 20:35:59 GMT-0700 (PDT)\")"},"62":{"author":"robertkrahn","message":"test","id":"ACA617B4-0416-4E3C-9F4D-171A40F44F0F","__serializedExpressions__":["date"],"date":"new Date(\"Tue Apr 30 2013 20:34:25 GMT-0700 (PDT)\")"},"63":{"author":"robertkrahn","message":"no comment","id":"9B8B6BE4-4519-4A6C-8F47-70DE61BBB0FB","__serializedExpressions__":["date"],"date":"new Date(\"Tue Dec 11 2012 13:53:16 GMT-0800 (PST)\")"},"64":{"author":null,"message":"no comment","id":"F8B70225-5143-4A51-ABB4-344B488B3811","__serializedExpressions__":["date"],"date":"new Date(\"Tue Dec 11 2012 13:15:42 GMT-0800 (PST)\")"},"65":{"pinName":"fire","modality":"output","type":"Boolean","accessor":"fire","location":1.5},"66":{"moveVertical":true},"67":{"doAction":{"__isSmartRef__":true,"id":68}},"68":{"varMapping":{"__isSmartRef__":true,"id":69},"source":"function doAction() {\n    \n}","funcProperties":{"__isSmartRef__":true,"id":70},"__LivelyClassName__":"lively.Closure"},"69":{"this":{"__isSmartRef__":true,"id":45}},"70":{"user":"undefined","tags":[],"__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Tue Dec 11 2012 13:14:29 GMT-0800 (PST)\")"},"71":{"submorphs":[{"__isSmartRef__":true,"id":72}],"scripts":[],"shape":{"__isSmartRef__":true,"id":77},"eventHandler":{"__isSmartRef__":true,"id":78},"_ClipMode":"visible","derivationIds":["EC7EBB28-54AE-4244-80ED-3E13650F82B7","9FD2DCE2-B997-4536-B2A5-90D7DD92B3E6","0D8CC908-BD1C-4062-BB03-3FCEB910483D","36D437DB-A0F8-4F6B-8A8A-4669804700DB","11D4AA20-2DE0-43D5-AFB9-0C2B0844E929"],"id":"6856F32B-E650-4940-BDF6-91D7F40C2434","grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"value":false,"toggle":false,"isActive":true,"label":{"__isSmartRef__":true,"id":72},"_PreviousBorderWidth":1,"isPressed":false,"showsHalos":false,"attributeConnections":[{"__isSmartRef__":true,"id":79},{"__isSmartRef__":true,"id":81}],"doNotSerialize":["$$fire"],"doNotCopyProperties":["$$fire"],"name":"selectionButton","partsBinMetaInfo":{"__isSmartRef__":true,"id":83},"pinSpecs":[{"__isSmartRef__":true,"id":91}],"layout":{"__isSmartRef__":true,"id":92},"owner":{"__isSmartRef__":true,"id":31},"_StyleClassNames":["Morph","Button"],"__serializedExpressions__":["_Position","distanceToDragEvent"],"_Rotation":0,"_Scale":1,"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":93},"__LivelyClassName__":"lively.morphic.Button","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(161.0,312.0)","distanceToDragEvent":"lively.pt(60.0,-10.0)"},"72":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":73},"_WhiteSpaceHandling":"pre-wrap","textChunks":[{"__isSmartRef__":true,"id":74}],"eventHandler":{"__isSmartRef__":true,"id":76},"_ClipMode":"hidden","derivationIds":["7884E73F-0D17-44B3-907F-44A5223F1F3D","444B63A6-D9E7-4AB2-AB57-4A9146C18BFF","08999E10-CCC3-4CAB-99BC-4EF500309EC4","0ED33208-3AE7-485F-A08B-98284758175D","092FE735-7010-4894-B7DA-F3598F3B72D1"],"id":"6FFE1BAF-B122-4295-8BAE-E540C3997B08","grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"fixedWidth":true,"_WordBreak":"break-all","fixedHeight":true,"_InputAllowed":false,"_HandStyle":"default","allowInput":false,"_FontFamily":"Helvetica","_FontSize":10,"evalEnabled":false,"owner":{"__isSmartRef__":true,"id":71},"isLabel":true,"_Align":"center","eventsAreIgnored":true,"_TextStylingMode":true,"showsHalos":false,"eventsAreDisabled":true,"_PointerEvents":"none","__serializedExpressions__":["_TextColor"],"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_TextColor":"Color.rgb(0,0,0)"},"73":{"_BorderWidth":0,"_Fill":null,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(100.0,20.0)","_Padding":"lively.rect(0,3,0,0)","_BorderColor":"Color.rgb(0,0,0)"},"74":{"style":{"__isSmartRef__":true,"id":75},"chunkOwner":{"__isSmartRef__":true,"id":72},"_id":"_124539","storedString":"select...","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"75":{"__serializedExpressions__":["color"],"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore","color":"Color.rgb(0,0,0)"},"76":{"morph":{"__isSmartRef__":true,"id":72},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"77":{"_BorderWidth":1,"_BorderRadius":5,"_AppearanceStylingMode":true,"_BorderStylingMode":true,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(100.0,20.0)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(189,190,192)"},"78":{"morph":{"__isSmartRef__":true,"id":71},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"79":{"sourceObj":{"__isSmartRef__":true,"id":71},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":71},"targetMethodName":"doAction","varMapping":{"__isSmartRef__":true,"id":80},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"80":{"source":{"__isSmartRef__":true,"id":71},"target":{"__isSmartRef__":true,"id":71}},"81":{"sourceObj":{"__isSmartRef__":true,"id":71},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":31},"targetMethodName":"showSelectionMenu","varMapping":{"__isSmartRef__":true,"id":82},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"82":{"source":{"__isSmartRef__":true,"id":71},"target":{"__isSmartRef__":true,"id":31}},"83":{"partName":"Button","requiredModules":[],"partsSpaceName":"PartsBin/Inputs/","comment":"A simple button that calls a method #doAction when pressed.","changes":[{"__isSmartRef__":true,"id":84},{"__isSmartRef__":true,"id":85},{"__isSmartRef__":true,"id":86},{"__isSmartRef__":true,"id":87},{"__isSmartRef__":true,"id":88},{"__isSmartRef__":true,"id":89},{"__isSmartRef__":true,"id":90}],"migrationLevel":7,"__serializedExpressions__":["lastModifiedDate"],"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo","__SourceModuleName__":"Global.lively.PartsBin","lastModifiedDate":"new Date(\"Tue Jul 23 2013 23:21:11 GMT-0700 (PDT)\")"},"84":{"author":"Dan","message":"no comment","id":"CFEC4071-14FF-4AEB-A399-197884CD18BF","__serializedExpressions__":["date"],"date":"new Date(\"Mon Jun 17 2013 10:24:50 GMT-0700 (PDT)\")"},"85":{"author":"Dan","message":"no comment","id":"A594459F-DA9B-49DD-A105-547B3F613CC5","__serializedExpressions__":["date"],"date":"new Date(\"Mon Jun 17 2013 10:22:38 GMT-0700 (PDT)\")"},"86":{"author":"robertkrahn","message":"no comment","id":"BB2EA501-D9AF-414B-A035-E1487DA6F0FD","__serializedExpressions__":["date"],"date":"new Date(\"Tue Apr 30 2013 20:36:30 GMT-0700 (PDT)\")"},"87":{"author":"robertkrahn","message":"no comment","id":"811BDE87-D8DD-48BB-97B2-7A3C3F3FAE32","__serializedExpressions__":["date"],"date":"new Date(\"Tue Apr 30 2013 20:35:59 GMT-0700 (PDT)\")"},"88":{"author":"robertkrahn","message":"test","id":"ACA617B4-0416-4E3C-9F4D-171A40F44F0F","__serializedExpressions__":["date"],"date":"new Date(\"Tue Apr 30 2013 20:34:25 GMT-0700 (PDT)\")"},"89":{"author":"robertkrahn","message":"no comment","id":"9B8B6BE4-4519-4A6C-8F47-70DE61BBB0FB","__serializedExpressions__":["date"],"date":"new Date(\"Tue Dec 11 2012 13:53:16 GMT-0800 (PST)\")"},"90":{"author":null,"message":"no comment","id":"F8B70225-5143-4A51-ABB4-344B488B3811","__serializedExpressions__":["date"],"date":"new Date(\"Tue Dec 11 2012 13:15:42 GMT-0800 (PST)\")"},"91":{"pinName":"fire","modality":"output","type":"Boolean","accessor":"fire","location":1.5},"92":{"moveVertical":true,"moveHorizontal":true},"93":{"doAction":{"__isSmartRef__":true,"id":94}},"94":{"varMapping":{"__isSmartRef__":true,"id":95},"source":"function doAction() {\n    \n}","funcProperties":{"__isSmartRef__":true,"id":96},"__LivelyClassName__":"lively.Closure"},"95":{"this":{"__isSmartRef__":true,"id":71}},"96":{"user":"undefined","tags":[],"__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Tue Dec 11 2012 13:14:29 GMT-0800 (PST)\")"},"97":{"submorphs":[{"__isSmartRef__":true,"id":98}],"scripts":[],"shape":{"__isSmartRef__":true,"id":103},"eventHandler":{"__isSmartRef__":true,"id":104},"_ClipMode":"visible","derivationIds":["EC7EBB28-54AE-4244-80ED-3E13650F82B7","9FD2DCE2-B997-4536-B2A5-90D7DD92B3E6","0D8CC908-BD1C-4062-BB03-3FCEB910483D","36D437DB-A0F8-4F6B-8A8A-4669804700DB","927B6166-EC93-4058-AC7D-7E4065462D6D"],"id":"8F32DE30-9D17-4A8E-BE29-33965A223127","grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"value":false,"toggle":false,"isActive":true,"label":{"__isSmartRef__":true,"id":98},"_PreviousBorderWidth":1,"isPressed":false,"showsHalos":false,"attributeConnections":[{"__isSmartRef__":true,"id":105},{"__isSmartRef__":true,"id":107}],"doNotSerialize":["$$fire"],"doNotCopyProperties":["$$fire"],"name":"removeProjectButton","partsBinMetaInfo":{"__isSmartRef__":true,"id":109},"pinSpecs":[{"__isSmartRef__":true,"id":117}],"layout":{"__isSmartRef__":true,"id":118},"owner":{"__isSmartRef__":true,"id":31},"_StyleClassNames":["Morph","Button"],"__serializedExpressions__":["_Position","distanceToDragEvent"],"_Rotation":0,"_Scale":1,"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":119},"__LivelyClassName__":"lively.morphic.Button","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(26.0,312.0)","distanceToDragEvent":"lively.pt(30.0,-17.0)"},"98":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":99},"_WhiteSpaceHandling":"pre-wrap","textChunks":[{"__isSmartRef__":true,"id":100}],"eventHandler":{"__isSmartRef__":true,"id":102},"_ClipMode":"hidden","derivationIds":["7884E73F-0D17-44B3-907F-44A5223F1F3D","444B63A6-D9E7-4AB2-AB57-4A9146C18BFF","08999E10-CCC3-4CAB-99BC-4EF500309EC4","0ED33208-3AE7-485F-A08B-98284758175D","8500752B-B35B-4C06-BCFC-50CB7194C47D"],"id":"7B1EA967-AAC3-4FB4-9B8C-54A2277452B5","grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"fixedWidth":true,"_WordBreak":"break-all","fixedHeight":true,"_InputAllowed":false,"_HandStyle":"default","allowInput":false,"_FontFamily":"Helvetica","_FontSize":10,"evalEnabled":false,"owner":{"__isSmartRef__":true,"id":97},"isLabel":true,"_Align":"center","eventsAreIgnored":true,"_TextStylingMode":true,"showsHalos":false,"eventsAreDisabled":true,"_PointerEvents":"none","__serializedExpressions__":["_TextColor"],"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_TextColor":"Color.rgb(0,0,0)"},"99":{"_BorderWidth":0,"_Fill":null,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(20.0,20.0)","_Padding":"lively.rect(0,3,0,0)","_BorderColor":"Color.rgb(0,0,0)"},"100":{"style":{"__isSmartRef__":true,"id":101},"chunkOwner":{"__isSmartRef__":true,"id":98},"_id":"_114693","storedString":"-","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"101":{"__serializedExpressions__":["color"],"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore","color":"Color.rgb(0,0,0)"},"102":{"morph":{"__isSmartRef__":true,"id":98},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"103":{"_BorderWidth":1,"_BorderRadius":5,"_AppearanceStylingMode":true,"_BorderStylingMode":true,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(20.0,20.0)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(189,190,192)"},"104":{"morph":{"__isSmartRef__":true,"id":97},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"105":{"sourceObj":{"__isSmartRef__":true,"id":97},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":97},"targetMethodName":"doAction","varMapping":{"__isSmartRef__":true,"id":106},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"106":{"source":{"__isSmartRef__":true,"id":97},"target":{"__isSmartRef__":true,"id":97}},"107":{"sourceObj":{"__isSmartRef__":true,"id":97},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":31},"targetMethodName":"interactivelyRemoveProjects","varMapping":{"__isSmartRef__":true,"id":108},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"108":{"source":{"__isSmartRef__":true,"id":97},"target":{"__isSmartRef__":true,"id":31}},"109":{"partName":"Button","requiredModules":[],"partsSpaceName":"PartsBin/Inputs/","comment":"A simple button that calls a method #doAction when pressed.","changes":[{"__isSmartRef__":true,"id":110},{"__isSmartRef__":true,"id":111},{"__isSmartRef__":true,"id":112},{"__isSmartRef__":true,"id":113},{"__isSmartRef__":true,"id":114},{"__isSmartRef__":true,"id":115},{"__isSmartRef__":true,"id":116}],"migrationLevel":7,"__serializedExpressions__":["lastModifiedDate"],"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo","__SourceModuleName__":"Global.lively.PartsBin","lastModifiedDate":"new Date(\"Tue Jul 23 2013 23:21:11 GMT-0700 (PDT)\")"},"110":{"author":"Dan","message":"no comment","id":"CFEC4071-14FF-4AEB-A399-197884CD18BF","__serializedExpressions__":["date"],"date":"new Date(\"Mon Jun 17 2013 10:24:50 GMT-0700 (PDT)\")"},"111":{"author":"Dan","message":"no comment","id":"A594459F-DA9B-49DD-A105-547B3F613CC5","__serializedExpressions__":["date"],"date":"new Date(\"Mon Jun 17 2013 10:22:38 GMT-0700 (PDT)\")"},"112":{"author":"robertkrahn","message":"no comment","id":"BB2EA501-D9AF-414B-A035-E1487DA6F0FD","__serializedExpressions__":["date"],"date":"new Date(\"Tue Apr 30 2013 20:36:30 GMT-0700 (PDT)\")"},"113":{"author":"robertkrahn","message":"no comment","id":"811BDE87-D8DD-48BB-97B2-7A3C3F3FAE32","__serializedExpressions__":["date"],"date":"new Date(\"Tue Apr 30 2013 20:35:59 GMT-0700 (PDT)\")"},"114":{"author":"robertkrahn","message":"test","id":"ACA617B4-0416-4E3C-9F4D-171A40F44F0F","__serializedExpressions__":["date"],"date":"new Date(\"Tue Apr 30 2013 20:34:25 GMT-0700 (PDT)\")"},"115":{"author":"robertkrahn","message":"no comment","id":"9B8B6BE4-4519-4A6C-8F47-70DE61BBB0FB","__serializedExpressions__":["date"],"date":"new Date(\"Tue Dec 11 2012 13:53:16 GMT-0800 (PST)\")"},"116":{"author":null,"message":"no comment","id":"F8B70225-5143-4A51-ABB4-344B488B3811","__serializedExpressions__":["date"],"date":"new Date(\"Tue Dec 11 2012 13:15:42 GMT-0800 (PST)\")"},"117":{"pinName":"fire","modality":"output","type":"Boolean","accessor":"fire","location":1.5},"118":{"moveVertical":true},"119":{"doAction":{"__isSmartRef__":true,"id":120}},"120":{"varMapping":{"__isSmartRef__":true,"id":121},"source":"function doAction() {\n    \n}","funcProperties":{"__isSmartRef__":true,"id":122},"__LivelyClassName__":"lively.Closure"},"121":{"this":{"__isSmartRef__":true,"id":97}},"122":{"user":"undefined","tags":[],"__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Tue Dec 11 2012 13:14:29 GMT-0800 (PST)\")"},"123":{"submorphs":[{"__isSmartRef__":true,"id":124}],"scripts":[],"shape":{"__isSmartRef__":true,"id":129},"eventHandler":{"__isSmartRef__":true,"id":130},"_ClipMode":"visible","derivationIds":["EC7EBB28-54AE-4244-80ED-3E13650F82B7","9FD2DCE2-B997-4536-B2A5-90D7DD92B3E6","0D8CC908-BD1C-4062-BB03-3FCEB910483D","36D437DB-A0F8-4F6B-8A8A-4669804700DB","11D4AA20-2DE0-43D5-AFB9-0C2B0844E929","727DB1E3-BACA-4696-9904-532D7271EA1B"],"id":"48C4EF0D-F7B5-4644-B1A5-1B7284E6E2E0","grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"value":false,"toggle":false,"isActive":true,"label":{"__isSmartRef__":true,"id":124},"_PreviousBorderWidth":1,"isPressed":false,"showsHalos":false,"attributeConnections":[{"__isSmartRef__":true,"id":131},{"__isSmartRef__":true,"id":133}],"doNotSerialize":["$$fire"],"doNotCopyProperties":["$$fire"],"name":"runActionButton","partsBinMetaInfo":{"__isSmartRef__":true,"id":135},"pinSpecs":[{"__isSmartRef__":true,"id":143}],"layout":{"__isSmartRef__":true,"id":144},"_StyleClassNames":["Morph","Button"],"owner":{"__isSmartRef__":true,"id":31},"__serializedExpressions__":["_Position","distanceToDragEvent"],"_Rotation":0,"_Scale":1,"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":145},"__LivelyClassName__":"lively.morphic.Button","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(264.0,312.0)","distanceToDragEvent":"lively.pt(69.0,-17.0)"},"124":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":125},"_WhiteSpaceHandling":"pre-wrap","textChunks":[{"__isSmartRef__":true,"id":126}],"eventHandler":{"__isSmartRef__":true,"id":128},"_ClipMode":"hidden","derivationIds":["7884E73F-0D17-44B3-907F-44A5223F1F3D","444B63A6-D9E7-4AB2-AB57-4A9146C18BFF","08999E10-CCC3-4CAB-99BC-4EF500309EC4","0ED33208-3AE7-485F-A08B-98284758175D","092FE735-7010-4894-B7DA-F3598F3B72D1","229FF0F9-FC1C-4DE6-9FDB-5ADEBB664DB7"],"id":"8B30899F-7E4B-4A71-B82E-FC362BFB03BB","grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"fixedWidth":true,"_WordBreak":"break-all","fixedHeight":true,"_InputAllowed":false,"_HandStyle":"default","allowInput":false,"_FontFamily":"Helvetica","_FontSize":10,"evalEnabled":false,"owner":{"__isSmartRef__":true,"id":123},"isLabel":true,"_Align":"center","eventsAreIgnored":true,"_TextStylingMode":true,"showsHalos":false,"eventsAreDisabled":true,"_PointerEvents":"none","__serializedExpressions__":["_TextColor"],"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_TextColor":"Color.rgb(0,0,0)"},"125":{"_BorderWidth":0,"_Fill":null,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(100.0,20.0)","_Padding":"lively.rect(0,3,0,0)","_BorderColor":"Color.rgb(0,0,0)"},"126":{"style":{"__isSmartRef__":true,"id":127},"chunkOwner":{"__isSmartRef__":true,"id":124},"_id":"_5536","storedString":"run task...","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"127":{"__serializedExpressions__":["color"],"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore","color":"Color.rgb(0,0,0)"},"128":{"morph":{"__isSmartRef__":true,"id":124},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"129":{"_BorderWidth":1,"_BorderRadius":5,"_AppearanceStylingMode":true,"_BorderStylingMode":true,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(100.0,20.0)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(189,190,192)"},"130":{"morph":{"__isSmartRef__":true,"id":123},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"131":{"sourceObj":{"__isSmartRef__":true,"id":123},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":123},"targetMethodName":"doAction","varMapping":{"__isSmartRef__":true,"id":132},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"132":{"source":{"__isSmartRef__":true,"id":123},"target":{"__isSmartRef__":true,"id":123}},"133":{"sourceObj":{"__isSmartRef__":true,"id":123},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":31},"targetMethodName":"showMenuForSelections","varMapping":{"__isSmartRef__":true,"id":134},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"134":{"source":{"__isSmartRef__":true,"id":123},"target":{"__isSmartRef__":true,"id":31}},"135":{"partName":"Button","requiredModules":[],"partsSpaceName":"PartsBin/Inputs/","comment":"A simple button that calls a method #doAction when pressed.","changes":[{"__isSmartRef__":true,"id":136},{"__isSmartRef__":true,"id":137},{"__isSmartRef__":true,"id":138},{"__isSmartRef__":true,"id":139},{"__isSmartRef__":true,"id":140},{"__isSmartRef__":true,"id":141},{"__isSmartRef__":true,"id":142}],"migrationLevel":7,"__serializedExpressions__":["lastModifiedDate"],"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo","__SourceModuleName__":"Global.lively.PartsBin","lastModifiedDate":"new Date(\"Tue Jul 23 2013 23:21:11 GMT-0700 (PDT)\")"},"136":{"author":"Dan","message":"no comment","id":"CFEC4071-14FF-4AEB-A399-197884CD18BF","__serializedExpressions__":["date"],"date":"new Date(\"Mon Jun 17 2013 10:24:50 GMT-0700 (PDT)\")"},"137":{"author":"Dan","message":"no comment","id":"A594459F-DA9B-49DD-A105-547B3F613CC5","__serializedExpressions__":["date"],"date":"new Date(\"Mon Jun 17 2013 10:22:38 GMT-0700 (PDT)\")"},"138":{"author":"robertkrahn","message":"no comment","id":"BB2EA501-D9AF-414B-A035-E1487DA6F0FD","__serializedExpressions__":["date"],"date":"new Date(\"Tue Apr 30 2013 20:36:30 GMT-0700 (PDT)\")"},"139":{"author":"robertkrahn","message":"no comment","id":"811BDE87-D8DD-48BB-97B2-7A3C3F3FAE32","__serializedExpressions__":["date"],"date":"new Date(\"Tue Apr 30 2013 20:35:59 GMT-0700 (PDT)\")"},"140":{"author":"robertkrahn","message":"test","id":"ACA617B4-0416-4E3C-9F4D-171A40F44F0F","__serializedExpressions__":["date"],"date":"new Date(\"Tue Apr 30 2013 20:34:25 GMT-0700 (PDT)\")"},"141":{"author":"robertkrahn","message":"no comment","id":"9B8B6BE4-4519-4A6C-8F47-70DE61BBB0FB","__serializedExpressions__":["date"],"date":"new Date(\"Tue Dec 11 2012 13:53:16 GMT-0800 (PST)\")"},"142":{"author":null,"message":"no comment","id":"F8B70225-5143-4A51-ABB4-344B488B3811","__serializedExpressions__":["date"],"date":"new Date(\"Tue Dec 11 2012 13:15:42 GMT-0800 (PST)\")"},"143":{"pinName":"fire","modality":"output","type":"Boolean","accessor":"fire","location":1.5},"144":{"moveVertical":true,"moveHorizontal":true},"145":{"doAction":{"__isSmartRef__":true,"id":146}},"146":{"varMapping":{"__isSmartRef__":true,"id":147},"source":"function doAction() {\n    \n}","funcProperties":{"__isSmartRef__":true,"id":148},"__LivelyClassName__":"lively.Closure"},"147":{"this":{"__isSmartRef__":true,"id":123}},"148":{"user":"undefined","tags":[],"__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Tue Dec 11 2012 13:14:29 GMT-0800 (PST)\")"},"149":{"submorphs":[{"__isSmartRef__":true,"id":150}],"scripts":[],"shape":{"__isSmartRef__":true,"id":155},"eventHandler":{"__isSmartRef__":true,"id":156},"_ClipMode":"visible","derivationIds":["EC7EBB28-54AE-4244-80ED-3E13650F82B7","9FD2DCE2-B997-4536-B2A5-90D7DD92B3E6","0D8CC908-BD1C-4062-BB03-3FCEB910483D","36D437DB-A0F8-4F6B-8A8A-4669804700DB","11D4AA20-2DE0-43D5-AFB9-0C2B0844E929","727DB1E3-BACA-4696-9904-532D7271EA1B","5CD00BBF-4EDE-4FEB-A02B-CC1BAA4DFCD2"],"id":"A7FEA359-19DF-4179-A901-C826B04E9653","grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"value":false,"toggle":false,"isActive":true,"label":{"__isSmartRef__":true,"id":150},"_PreviousBorderWidth":1,"isPressed":false,"showsHalos":false,"attributeConnections":[{"__isSmartRef__":true,"id":157},{"__isSmartRef__":true,"id":159}],"doNotSerialize":["$$fire"],"doNotCopyProperties":["$$fire"],"name":"projectInfoButton","partsBinMetaInfo":{"__isSmartRef__":true,"id":161},"pinSpecs":[{"__isSmartRef__":true,"id":169}],"layout":{"__isSmartRef__":true,"id":170},"_StyleClassNames":["Morph","Button"],"owner":{"__isSmartRef__":true,"id":31},"doAction":false,"__serializedExpressions__":["_Position","distanceToDragEvent"],"_Rotation":0,"_Scale":1,"__LivelyClassName__":"lively.morphic.Button","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(367.0,312.0)","distanceToDragEvent":"lively.pt(64.0,-13.0)"},"150":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":151},"_WhiteSpaceHandling":"pre-wrap","textChunks":[{"__isSmartRef__":true,"id":152}],"eventHandler":{"__isSmartRef__":true,"id":154},"_ClipMode":"hidden","derivationIds":["7884E73F-0D17-44B3-907F-44A5223F1F3D","444B63A6-D9E7-4AB2-AB57-4A9146C18BFF","08999E10-CCC3-4CAB-99BC-4EF500309EC4","0ED33208-3AE7-485F-A08B-98284758175D","092FE735-7010-4894-B7DA-F3598F3B72D1","229FF0F9-FC1C-4DE6-9FDB-5ADEBB664DB7","84058646-9A5B-4FF2-8666-AF8999C1F49D"],"id":"04A484C9-FA20-446F-851D-A07EB0A125BA","grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"fixedWidth":true,"_WordBreak":"break-all","fixedHeight":true,"_InputAllowed":false,"_HandStyle":"default","allowInput":false,"_FontFamily":"Helvetica","_FontSize":10,"evalEnabled":false,"owner":{"__isSmartRef__":true,"id":149},"isLabel":true,"_Align":"center","eventsAreIgnored":true,"_TextStylingMode":true,"showsHalos":false,"eventsAreDisabled":true,"_PointerEvents":"none","__serializedExpressions__":["_TextColor"],"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_TextColor":"Color.rgb(0,0,0)"},"151":{"_BorderWidth":0,"_Fill":null,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(100.0,20.0)","_Padding":"lively.rect(0,3,0,0)","_BorderColor":"Color.rgb(0,0,0)"},"152":{"style":{"__isSmartRef__":true,"id":153},"chunkOwner":{"__isSmartRef__":true,"id":150},"_id":"_5899","storedString":"project infos","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"153":{"__serializedExpressions__":["color"],"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore","color":"Color.rgb(0,0,0)"},"154":{"morph":{"__isSmartRef__":true,"id":150},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"155":{"_BorderWidth":1,"_BorderRadius":5,"_AppearanceStylingMode":true,"_BorderStylingMode":true,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(100.0,20.0)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(189,190,192)"},"156":{"morph":{"__isSmartRef__":true,"id":149},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"157":{"sourceObj":{"__isSmartRef__":true,"id":149},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":149},"targetMethodName":"doAction","varMapping":{"__isSmartRef__":true,"id":158},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"158":{"source":{"__isSmartRef__":true,"id":149},"target":{"__isSmartRef__":true,"id":149}},"159":{"sourceObj":{"__isSmartRef__":true,"id":149},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":31},"targetMethodName":"showProjectInfos","varMapping":{"__isSmartRef__":true,"id":160},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"160":{"source":{"__isSmartRef__":true,"id":149},"target":{"__isSmartRef__":true,"id":31}},"161":{"partName":"Button","requiredModules":[],"partsSpaceName":"PartsBin/Inputs/","comment":"A simple button that calls a method #doAction when pressed.","changes":[{"__isSmartRef__":true,"id":162},{"__isSmartRef__":true,"id":163},{"__isSmartRef__":true,"id":164},{"__isSmartRef__":true,"id":165},{"__isSmartRef__":true,"id":166},{"__isSmartRef__":true,"id":167},{"__isSmartRef__":true,"id":168}],"migrationLevel":7,"__serializedExpressions__":["lastModifiedDate"],"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo","__SourceModuleName__":"Global.lively.PartsBin","lastModifiedDate":"new Date(\"Tue Jul 23 2013 23:21:11 GMT-0700 (PDT)\")"},"162":{"author":"Dan","message":"no comment","id":"CFEC4071-14FF-4AEB-A399-197884CD18BF","__serializedExpressions__":["date"],"date":"new Date(\"Mon Jun 17 2013 10:24:50 GMT-0700 (PDT)\")"},"163":{"author":"Dan","message":"no comment","id":"A594459F-DA9B-49DD-A105-547B3F613CC5","__serializedExpressions__":["date"],"date":"new Date(\"Mon Jun 17 2013 10:22:38 GMT-0700 (PDT)\")"},"164":{"author":"robertkrahn","message":"no comment","id":"BB2EA501-D9AF-414B-A035-E1487DA6F0FD","__serializedExpressions__":["date"],"date":"new Date(\"Tue Apr 30 2013 20:36:30 GMT-0700 (PDT)\")"},"165":{"author":"robertkrahn","message":"no comment","id":"811BDE87-D8DD-48BB-97B2-7A3C3F3FAE32","__serializedExpressions__":["date"],"date":"new Date(\"Tue Apr 30 2013 20:35:59 GMT-0700 (PDT)\")"},"166":{"author":"robertkrahn","message":"test","id":"ACA617B4-0416-4E3C-9F4D-171A40F44F0F","__serializedExpressions__":["date"],"date":"new Date(\"Tue Apr 30 2013 20:34:25 GMT-0700 (PDT)\")"},"167":{"author":"robertkrahn","message":"no comment","id":"9B8B6BE4-4519-4A6C-8F47-70DE61BBB0FB","__serializedExpressions__":["date"],"date":"new Date(\"Tue Dec 11 2012 13:53:16 GMT-0800 (PST)\")"},"168":{"author":null,"message":"no comment","id":"F8B70225-5143-4A51-ABB4-344B488B3811","__serializedExpressions__":["date"],"date":"new Date(\"Tue Dec 11 2012 13:15:42 GMT-0800 (PST)\")"},"169":{"pinName":"fire","modality":"output","type":"Boolean","accessor":"fire","location":1.5},"170":{"moveVertical":true,"moveHorizontal":true},"171":{"_BorderWidth":1,"_ClipMode":"visible","_BorderRadius":0,"_Opacity":1,"_BorderStyle":"solid","_BorderStylingMode":true,"__serializedExpressions__":["position","_Extent","_BorderColor","_Fill","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(475.0,337.0)","_BorderColor":"Color.rgb(95,94,95)","_Fill":"Color.rgb(255,255,255)","_Padding":"lively.rect(0,0,0,0)"},"172":{"partsSpaceName":"PartsBin/Clojure/","comment":"A plain simple rectangle","migrationLevel":9,"partName":"ProjectManager","changes":[{"__isSmartRef__":true,"id":173},{"__isSmartRef__":true,"id":174},{"__isSmartRef__":true,"id":175},{"__isSmartRef__":true,"id":176},{"__isSmartRef__":true,"id":177},{"__isSmartRef__":true,"id":178},{"__isSmartRef__":true,"id":179},{"__isSmartRef__":true,"id":180},{"__isSmartRef__":true,"id":181},{"__isSmartRef__":true,"id":182},{"__isSmartRef__":true,"id":183},{"__isSmartRef__":true,"id":184},{"__isSmartRef__":true,"id":185},{"__isSmartRef__":true,"id":186},{"__isSmartRef__":true,"id":187},{"__isSmartRef__":true,"id":188},{"__isSmartRef__":true,"id":189}],"__serializedExpressions__":["lastModifiedDate"],"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo","__SourceModuleName__":"Global.lively.PartsBin","lastModifiedDate":"new Date(\"Tue Nov 05 2013 09:48:15 GMT-0800 (PST)\")"},"173":{"author":"robertkrahn","message":"no comment","id":"A452871F-4EB9-45D1-94B8-6065CBA7B8FD","__serializedExpressions__":["date"],"date":"new Date(\"Mon Jul 29 2013 23:20:51 GMT-0700 (PDT)\")"},"174":{"author":"SAPLivelyScreen","message":"no comment","id":"7A44D8CA-6D5F-42A3-A4B4-4D7F51EECA52","__serializedExpressions__":["date"],"date":"new Date(\"Tue Jun 18 2013 11:49:27 GMT-0700 (PDT)\")"},"175":{"author":"SAPLivelyScreen","message":"no comment","id":"EF145198-0649-41BD-A92E-521D98FEC49D","__serializedExpressions__":["date"],"date":"new Date(\"Wed May 29 2013 15:36:50 GMT-0700 (PDT)\")"},"176":{"author":"jenslincke","message":"added legend","id":"7ADA3049-56C1-4D32-874B-F664A79DDB20","__serializedExpressions__":["date"],"date":"new Date(\"Fri Jan 18 2013 07:47:05 GMT-0800 (PST)\")"},"177":{"author":"jenslincke","message":"no comment","id":"A4B86A7E-A398-4C29-BEE0-4AA045ABABD2","__serializedExpressions__":["date"],"date":"new Date(\"Fri Jan 18 2013 07:42:31 GMT-0800 (PST)\")"},"178":{"author":"jenslincke","message":"I want my blue rectangle back!","id":"5AA9291A-869F-4D36-8095-4721B5A5B205","__serializedExpressions__":["date"],"date":"new Date(\"Thu Nov 22 2012 01:35:51 GMT-0800 (PST)\")"},"179":{"author":"bgnauk","message":"no comment","id":"0124E570-50B7-4CE3-83A1-6E7BA89B5CD8","__serializedExpressions__":["date"],"date":"new Date(\"Mon Jun 18 2012 10:35:08 GMT-0700 (PDT)\")"},"180":{"author":"undefined","message":"suddenly, the rectangle became a CarDemo","id":"B5083AA8-9BAE-48DD-A6B4-FD7DB3998350","__serializedExpressions__":["date"],"date":"new Date(\"Mon Apr 09 2012 04:42:07 GMT-0700 (PDT)\")"},"181":{"author":"undefined","message":"css transitions","id":"1004E0FC-D96B-4F40-B3E0-F514A3FCFFD7","__serializedExpressions__":["date"],"date":"new Date(\"Wed Mar 14 2012 02:42:26 GMT-0700 (PDT)\")"},"182":{"author":"fbo","message":"","id":"BD1C654D-9100-4B66-BC62-B15FF2498B2B","__serializedExpressions__":["date"],"date":"new Date(\"Fri Feb 24 2012 17:59:09 GMT-0800 (PST)\")"},"183":{"author":"undefined","message":"sorry","id":"44B56D2E-9B59-4C67-A305-49A6E10E66C2","__serializedExpressions__":["date"],"date":"new Date(\"Wed Mar 14 2012 02:53:45 GMT-0700 (PDT)\")"},"184":{"author":"undefined","message":"whoopsie","id":"CEA5DCD5-2DB7-40AD-A776-262A7A0666FC","__serializedExpressions__":["date"],"date":"new Date(\"Thu May 03 2012 06:51:30 GMT-0700 (PDT)\")"},"185":{"author":"undefined","message":"whoopsie","id":"3F17A2D2-3C24-424B-B0FA-E43112267D23","__serializedExpressions__":["date"],"date":"new Date(\"Thu May 03 2012 06:51:36 GMT-0700 (PDT)\")"},"186":{"author":"jenslincke","message":"no comment","id":"AEB2F41B-2C88-4BBA-8875-93CD17CBA1C8","__serializedExpressions__":["date"],"date":"new Date(\"Wed Jan 23 2013 03:57:18 GMT-0800 (PST)\")"},"187":{"author":"robertkrahn","message":"no comment","id":"67FD74CD-7AE4-4050-ADC7-4DF73804258D","__serializedExpressions__":["date"],"date":"new Date(\"Thu May 30 2013 00:18:06 GMT-0700 (PDT)\")"},"188":{"author":"robertkrahn","message":"no comment","id":"FBBB9C99-B61C-4D5F-8750-6E2987DF0C9C","__serializedExpressions__":["date"],"date":"new Date(\"Thu Jun 20 2013 15:16:24 GMT-0700 (PDT)\")"},"189":{"__serializedExpressions__":["date"],"author":"robertkrahn","message":"no comment","id":"7B226C71-D231-4015-922C-C0724CE52E57","date":"new Date(\"Thu Apr 16 2015 03:01:12 GMT-0700 (PDT)\")"},"190":{"morph":{"__isSmartRef__":true,"id":31},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"191":{"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":192}},"192":{"test01IsMorph":{"__isSmartRef__":true,"id":193}},"193":{"varMapping":{"__isSmartRef__":true,"id":194},"source":"function test01IsMorph(aPart) {\n    this.assert(aPart.isMorph, 'rectangle should be a morph');\n}","funcProperties":{"__isSmartRef__":true,"id":195},"__LivelyClassName__":"lively.Closure"},"194":{"this":{"__isSmartRef__":true,"id":191}},"195":{},"196":{"adjustForNewBounds":true,"resizeWidth":true,"resizeHeight":true},"197":{"traitName":"lively.morphic.SetStatusMessageTrait","options":{"__isSmartRef__":true,"id":198}},"198":{},"199":{"storedTextString":"","submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":200},"derivationIds":[],"id":"D7EDB2C9-B304-4BA1-B30E-69C66539BEE3","grabbingEnabled":false,"halosEnabled":true,"_FontSize":12,"doNotSerialize":["whenOpenedInWorldCallbacks","$$textString","$$savedTextString"],"attributeConnections":[{"__isSmartRef__":true,"id":205},{"__isSmartRef__":true,"id":207},{"__isSmartRef__":true,"id":260},{"__isSmartRef__":true,"id":262}],"_ShowGutter":false,"_TextMode":"text","_Theme":"chrome","_LineWrapping":false,"_ShowInvisibles":false,"_ShowPrintMargin":false,"_ShowIndents":true,"_ShowActiveLine":false,"_SoftTabs":true,"_AutocompletionEnabled":true,"_ShowWarnings":true,"_ShowErrors":true,"_TabSize":4,"name":"CommandLine","style":{"__isSmartRef__":true,"id":264},"clearOnInput":true,"doNotCopyProperties":["$$textString","$$savedTextString"],"draggingEnabled":false,"_Rotation":0,"_Scale":1,"layout":{"__isSmartRef__":true,"id":265},"commandHistory":{"__isSmartRef__":true,"id":266},"connections":{"__isSmartRef__":true,"id":267},"owner":{"__isSmartRef__":true,"id":212},"inputChange":"","eventHandler":{"__isSmartRef__":true,"id":269},"allowInput":true,"isCommandLine":true,"_isFocused":false,"inputChanged":"","__serializedExpressions__":["_Position"],"textString":"","__serializedLivelyClosures__":{"__isSmartRef__":true,"id":270},"__LivelyClassName__":"lively.morphic.CodeEditor","__SourceModuleName__":"Global.lively.ide.CodeEditor","_Position":"lively.pt(4.0,28.0)"},"200":{"_BorderWidth":0,"_Fill":null,"_BorderStyle":"solid","_BorderRadius":0,"_Opacity":1,"attributeConnections":[{"__isSmartRef__":true,"id":201},{"__isSmartRef__":true,"id":203}],"doNotSerialize":["$$aceEditor"],"doNotCopyProperties":["$$aceEditor"],"__serializedExpressions__":["_BorderColor","_Extent","extent"],"__LivelyClassName__":"lively.morphic.CodeEditorShape","__SourceModuleName__":"Global.lively.ide.CodeEditor","_BorderColor":"Color.rgb(0,0,0)","_Extent":"lively.pt(572.0,18.0)","extent":"lively.pt(572.0,18.0)"},"201":{"sourceObj":{"__isSmartRef__":true,"id":200},"sourceAttrName":"aceEditor","targetObj":{"__isSmartRef__":true,"id":200},"targetMethodName":"setExtent","varMapping":{"__isSmartRef__":true,"id":202},"removeAfterUpdate":true,"converterString":"function (ed) { return this.targetObj.extent; }","__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"202":{"source":{"__isSmartRef__":true,"id":200},"target":{"__isSmartRef__":true,"id":200}},"203":{"sourceObj":{"__isSmartRef__":true,"id":200},"sourceAttrName":"aceEditor","targetObj":{"__isSmartRef__":true,"id":200},"targetMethodName":"setBorderWidth","varMapping":{"__isSmartRef__":true,"id":204},"removeAfterUpdate":true,"converterString":"function (ed) { return this.targetObj.getBorderWidth(); }","__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"204":{"source":{"__isSmartRef__":true,"id":200},"target":{"__isSmartRef__":true,"id":200}},"205":{"sourceObj":{"__isSmartRef__":true,"id":199},"sourceAttrName":"textString","targetObj":{"__isSmartRef__":true,"id":199},"targetMethodName":"inputChange","varMapping":{"__isSmartRef__":true,"id":206},"converterString":"function () { return this.sourceObj.getInput(); }","__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"206":{"source":{"__isSmartRef__":true,"id":199},"target":{"__isSmartRef__":true,"id":199}},"207":{"sourceObj":{"__isSmartRef__":true,"id":199},"sourceAttrName":"savedTextString","targetObj":{"__isSmartRef__":true,"id":208},"targetMethodName":"result","varMapping":{"__isSmartRef__":true,"id":259},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"208":{"result":"/Users/robert/clojure/cloxp-com","message":"Enter the base directory of the project","callbackCount":1,"attributeConnections":[{"__isSmartRef__":true,"id":209}],"doNotSerialize":["$$result"],"doNotCopyProperties":["$$result"],"buttons":["Ok","Cancel"],"options":{"__isSmartRef__":true,"id":211},"panel":{"__isSmartRef__":true,"id":212},"label":{"__isSmartRef__":true,"id":213},"okButton":{"__isSmartRef__":true,"id":218},"cancelButton":{"__isSmartRef__":true,"id":231},"inputText":{"__isSmartRef__":true,"id":199},"view":{"__isSmartRef__":true,"id":212},"__LivelyClassName__":"lively.morphic.PromptDialog","__SourceModuleName__":"Global.lively.morphic.Widgets"},"209":{"sourceObj":{"__isSmartRef__":true,"id":208},"sourceAttrName":"result","targetObj":{"__isSmartRef__":true,"id":208},"targetMethodName":"triggerCallback","varMapping":{"__isSmartRef__":true,"id":210},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"210":{"source":{"__isSmartRef__":true,"id":208},"target":{"__isSmartRef__":true,"id":208}},"211":{"input":"/Users/robert/clojure/clojure-system-files/","historyId":"ProjectOverview.addProject"},"212":{"submorphs":[{"__isSmartRef__":true,"id":213},{"__isSmartRef__":true,"id":218},{"__isSmartRef__":true,"id":231},{"__isSmartRef__":true,"id":199}],"scripts":[],"shape":{"__isSmartRef__":true,"id":244},"_ClipMode":"visible","derivationIds":[],"id":"6CFB392A-C57D-4355-9C39-7CCAF3E72946","droppingEnabled":true,"halosEnabled":true,"grabbingEnabled":false,"draggingEnabled":false,"isLockOwner":true,"layout":{"__isSmartRef__":true,"id":245},"attributeConnections":[{"__isSmartRef__":true,"id":246},{"__isSmartRef__":true,"id":248}],"focusTarget":{"__isSmartRef__":true,"id":199},"ownerApp":{"__isSmartRef__":true,"id":208},"owner":null,"eventHandler":{"__isSmartRef__":true,"id":250},"_Rotation":0,"_Scale":1,"__serializedExpressions__":["_Position"],"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":251},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","withoutLayers":["Global.lively.morphic.GrabbingLayer"],"_Position":"lively.pt(-49.5,135.5)"},"213":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":214},"_WhiteSpaceHandling":"pre","textChunks":[{"__isSmartRef__":true,"id":215}],"_ClipMode":"hidden","derivationIds":[],"id":"70A6CA8E-3D05-4C42-B64B-A9B860820DCF","_InputAllowed":false,"_HandStyle":"default","allowInput":false,"_IsSelectable":true,"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"draggingEnabled":false,"fixedWidth":false,"fixedHeight":false,"_FontFamily":"Helvetica","_FontSize":10,"evalEnabled":false,"isLabel":true,"eventsAreIgnored":true,"owner":{"__isSmartRef__":true,"id":212},"eventHandler":{"__isSmartRef__":true,"id":217},"__serializedExpressions__":["_TextColor","_Position"],"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_TextColor":"Color.rgb(64,64,64)","_Position":"lively.pt(0.0,-0.2)"},"214":{"_BorderWidth":0,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor","_Fill"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(4.0,4.2)","_Extent":"lively.pt(572.0,19.0)","_Padding":"lively.rect(2,3,0,0)","_BorderColor":"Color.rgb(0,0,0)","_Fill":"Color.rgb(255,255,255)"},"215":{"style":{"__isSmartRef__":true,"id":216},"chunkOwner":{"__isSmartRef__":true,"id":213},"_id":"_181279","storedString":"Enter the base directory of the project","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"216":{"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"217":{"morph":{"__isSmartRef__":true,"id":213},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"218":{"submorphs":[{"__isSmartRef__":true,"id":219}],"scripts":[],"shape":{"__isSmartRef__":true,"id":224},"_ClipMode":"visible","derivationIds":[],"id":"504B77C9-2131-4A13-80FE-79F95AFAEBCE","grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"value":false,"toggle":false,"isActive":true,"label":{"__isSmartRef__":true,"id":219},"_PreviousBorderWidth":1,"layout":{"__isSmartRef__":true,"id":225},"attributeConnections":[{"__isSmartRef__":true,"id":226},{"__isSmartRef__":true,"id":228}],"doNotSerialize":["$$fire"],"doNotCopyProperties":["$$fire"],"owner":{"__isSmartRef__":true,"id":212},"idx":0,"eventHandler":{"__isSmartRef__":true,"id":230},"__serializedExpressions__":["_Position"],"__LivelyClassName__":"lively.morphic.Button","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(422.0,57.0)"},"219":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":220},"_WhiteSpaceHandling":"pre","textChunks":[{"__isSmartRef__":true,"id":221}],"_ClipMode":"hidden","derivationIds":[],"id":"134C8AAD-4DA6-4959-B430-B46A21EEEC75","_InputAllowed":false,"_HandStyle":"default","allowInput":false,"_IsSelectable":true,"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"draggingEnabled":true,"fixedWidth":true,"fixedHeight":true,"_FontFamily":"Helvetica","_FontSize":10,"evalEnabled":false,"owner":{"__isSmartRef__":true,"id":218},"isLabel":true,"eventsAreIgnored":true,"_Align":"center","_TextStylingMode":true,"eventsAreDisabled":true,"_PointerEvents":"none","eventHandler":{"__isSmartRef__":true,"id":223},"__serializedExpressions__":["_TextColor","_Position"],"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_TextColor":"Color.rgb(0,0,0)","_Position":"lively.pt(0.0,0.0)"},"220":{"_BorderWidth":0,"_Fill":null,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(75.0,30.0)","_Padding":"lively.rect(0,3,0,0)","_BorderColor":"Color.rgb(0,0,0)"},"221":{"style":{"__isSmartRef__":true,"id":222},"chunkOwner":{"__isSmartRef__":true,"id":219},"_id":"_181282","storedString":"Ok","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"222":{"__serializedExpressions__":["color"],"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore","color":"Color.rgb(0,0,0)"},"223":{"morph":{"__isSmartRef__":true,"id":219},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"224":{"_BorderWidth":1,"_Fill":null,"_BorderRadius":5,"_AppearanceStylingMode":true,"_BorderStylingMode":true,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(75.0,30.0)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(189,190,192)"},"225":{"moveVertical":true,"moveHorizontal":true},"226":{"sourceObj":{"__isSmartRef__":true,"id":218},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":208},"targetMethodName":"removeTopLevel","varMapping":{"__isSmartRef__":true,"id":227},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"227":{"source":{"__isSmartRef__":true,"id":218},"target":{"__isSmartRef__":true,"id":208}},"228":{"sourceObj":{"__isSmartRef__":true,"id":218},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":199},"targetMethodName":"doSave","varMapping":{"__isSmartRef__":true,"id":229},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"229":{"source":{"__isSmartRef__":true,"id":218},"target":{"__isSmartRef__":true,"id":199}},"230":{"morph":{"__isSmartRef__":true,"id":218},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"231":{"submorphs":[{"__isSmartRef__":true,"id":232}],"scripts":[],"shape":{"__isSmartRef__":true,"id":237},"_ClipMode":"visible","derivationIds":[],"id":"D65C9115-C117-4F84-8294-3DAC0F1F3AA8","grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"value":false,"toggle":false,"isActive":true,"label":{"__isSmartRef__":true,"id":232},"_PreviousBorderWidth":1,"layout":{"__isSmartRef__":true,"id":238},"attributeConnections":[{"__isSmartRef__":true,"id":239},{"__isSmartRef__":true,"id":241}],"doNotSerialize":["$$fire"],"doNotCopyProperties":["$$fire"],"owner":{"__isSmartRef__":true,"id":212},"idx":1,"eventHandler":{"__isSmartRef__":true,"id":243},"__serializedExpressions__":["_Position"],"__LivelyClassName__":"lively.morphic.Button","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(501.0,57.0)"},"232":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":233},"_WhiteSpaceHandling":"pre","textChunks":[{"__isSmartRef__":true,"id":234}],"_ClipMode":"hidden","derivationIds":[],"id":"60D424E7-9DD8-4B73-AC90-ED1F950027A7","_InputAllowed":false,"_HandStyle":"default","allowInput":false,"_IsSelectable":true,"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"draggingEnabled":true,"fixedWidth":true,"fixedHeight":true,"_FontFamily":"Helvetica","_FontSize":10,"evalEnabled":false,"owner":{"__isSmartRef__":true,"id":231},"isLabel":true,"eventsAreIgnored":true,"_Align":"center","_TextStylingMode":true,"eventsAreDisabled":true,"_PointerEvents":"none","eventHandler":{"__isSmartRef__":true,"id":236},"__serializedExpressions__":["_TextColor","_Position"],"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_TextColor":"Color.rgb(0,0,0)","_Position":"lively.pt(0.0,0.0)"},"233":{"_BorderWidth":0,"_Fill":null,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(75.0,30.0)","_Padding":"lively.rect(0,3,0,0)","_BorderColor":"Color.rgb(0,0,0)"},"234":{"style":{"__isSmartRef__":true,"id":235},"chunkOwner":{"__isSmartRef__":true,"id":232},"_id":"_181285","storedString":"Cancel","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"235":{"__serializedExpressions__":["color"],"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore","color":"Color.rgb(0,0,0)"},"236":{"morph":{"__isSmartRef__":true,"id":232},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"237":{"_BorderWidth":1,"_Fill":null,"_BorderRadius":5,"_AppearanceStylingMode":true,"_BorderStylingMode":true,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(75.0,30.0)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(189,190,192)"},"238":{"moveVertical":true,"moveHorizontal":true},"239":{"sourceObj":{"__isSmartRef__":true,"id":231},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":208},"targetMethodName":"removeTopLevel","varMapping":{"__isSmartRef__":true,"id":240},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"240":{"source":{"__isSmartRef__":true,"id":231},"target":{"__isSmartRef__":true,"id":208}},"241":{"sourceObj":{"__isSmartRef__":true,"id":231},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":208},"targetMethodName":"result","varMapping":{"__isSmartRef__":true,"id":242},"converterString":"function () { return null; }","__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"242":{"source":{"__isSmartRef__":true,"id":231},"target":{"__isSmartRef__":true,"id":208}},"243":{"morph":{"__isSmartRef__":true,"id":231},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"244":{"_BorderWidth":1,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor","_Fill"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(580.0,91.0)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(102,102,102)","_Fill":"Color.rgb(210,210,210)"},"245":{"adjustForNewBounds":true},"246":{"sourceObj":{"__isSmartRef__":true,"id":212},"sourceAttrName":"onEscPressed","targetObj":{"__isSmartRef__":true,"id":208},"targetMethodName":"result","varMapping":{"__isSmartRef__":true,"id":247},"converterString":"function () { return null}","__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"247":{"source":{"__isSmartRef__":true,"id":212},"target":{"__isSmartRef__":true,"id":208}},"248":{"sourceObj":{"__isSmartRef__":true,"id":212},"sourceAttrName":"remove","targetMethodName":"remove","varMapping":{"__isSmartRef__":true,"id":249},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"249":{"source":{"__isSmartRef__":true,"id":212}},"250":{"morph":{"__isSmartRef__":true,"id":212},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"251":{"focus":{"__isSmartRef__":true,"id":252}},"252":{"varMapping":{"__isSmartRef__":true,"id":253},"source":"function focus() {\n            if (this.focusTarget) this.focusTarget.focus();\n            else $super();\n        }","funcProperties":{"__isSmartRef__":true,"id":258},"__LivelyClassName__":"lively.Closure"},"253":{"this":{"__isSmartRef__":true,"id":212},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":254}},"254":{"$super":{"__isSmartRef__":true,"id":255}},"255":{"varMapping":{"__isSmartRef__":true,"id":256},"source":"function () {\n        try {\n          // FIXME super is supposed to be static\n          return Object.getPrototypeOf(obj)[name].apply(obj, arguments);\n        } catch (e) {\n          if (typeof $world !== undefined) $world.logError(e, 'Error in $super call')\n          else alert('Error in $super call: ' + e + '\\n' + e.stack);\n          return null;\n        }\n      }","funcProperties":{"__isSmartRef__":true,"id":257},"__LivelyClassName__":"lively.Closure"},"256":{"obj":{"__isSmartRef__":true,"id":212},"name":"focus"},"257":{},"258":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Apr 09 2015 11:29:50 GMT-0700 (PDT)\")"},"259":{"source":{"__isSmartRef__":true,"id":199},"target":{"__isSmartRef__":true,"id":208}},"260":{"sourceObj":{"__isSmartRef__":true,"id":199},"sourceAttrName":"onEscPressed","targetObj":{"__isSmartRef__":true,"id":208},"targetMethodName":"result","varMapping":{"__isSmartRef__":true,"id":261},"converterString":"function () { return null }","__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"261":{"source":{"__isSmartRef__":true,"id":199},"target":{"__isSmartRef__":true,"id":208}},"262":{"sourceObj":{"__isSmartRef__":true,"id":199},"sourceAttrName":"textString","targetObj":{"__isSmartRef__":true,"id":199},"targetMethodName":"inputChanged","varMapping":{"__isSmartRef__":true,"id":263},"converterString":"function (string) { return this.sourceObj.getInput(); }","__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"263":{"source":{"__isSmartRef__":true,"id":199},"target":{"__isSmartRef__":true,"id":199}},"264":{"gutter":false,"enableGrabbing":false,"enableDragging":false,"clipMode":"hidden","fontSize":12},"265":{"resizeWidth":true,"moveVertical":true},"266":{"items":["/Users/robert/clojure/cloxp-com"],"max":30,"index":0},"267":{"input":{"__isSmartRef__":true,"id":268}},"268":{},"269":{"morph":{"__isSmartRef__":true,"id":199},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"270":{"addCommandToHistory":{"__isSmartRef__":true,"id":271},"browseHistory":{"__isSmartRef__":true,"id":274},"commandLineInput":{"__isSmartRef__":true,"id":277},"clear":{"__isSmartRef__":true,"id":280},"focus":{"__isSmartRef__":true,"id":287},"getInput":{"__isSmartRef__":true,"id":294},"setInput":{"__isSmartRef__":true,"id":297},"initializeAce":{"__isSmartRef__":true,"id":300},"makeEditorLabelAware":{"__isSmartRef__":true,"id":307},"setLabel":{"__isSmartRef__":true,"id":310},"setAndShowHistItem":{"__isSmartRef__":true,"id":313},"showHistItem":{"__isSmartRef__":true,"id":316},"showNextCommand":{"__isSmartRef__":true,"id":319},"showPrevCommand":{"__isSmartRef__":true,"id":322},"onKeyDown":{"__isSmartRef__":true,"id":325},"initCommandLine":{"__isSmartRef__":true,"id":332},"reset":{"__isSmartRef__":true,"id":335},"onLoad":{"__isSmartRef__":true,"id":338},"onFromBuildSpecCreated":{"__isSmartRef__":true,"id":345}},"271":{"varMapping":{"__isSmartRef__":true,"id":272},"source":"function addCommandToHistory(cmd) {\n        var hist = this.commandHistory,\n            items = hist.items;\n        if (items.last() === cmd) return;\n        items.push(cmd);\n        if (items.length > hist.max) {\n            hist.items = items = items.slice(-hist.max);\n        }\n        hist.index = items.length - 1;\n    }","funcProperties":{"__isSmartRef__":true,"id":273},"__LivelyClassName__":"lively.Closure"},"272":{"this":{"__isSmartRef__":true,"id":199}},"273":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Apr 09 2015 11:29:50 GMT-0700 (PDT)\")"},"274":{"varMapping":{"__isSmartRef__":true,"id":275},"source":"function browseHistory() {\n        var cmdL = this;\n        var items = this.commandHistory.items.map(function(item, i) {\n            return {isListItem: true, string: item, value: i}\n        }).reverse();\n        lively.ide.tools.SelectionNarrowing.chooseOne(items, function(err, i) {\n            Object.isNumber(i) && cmdL.setAndShowHistItem(i);\n            cmdL.focus.bind(cmdL).delay(0);\n        });\n    }","funcProperties":{"__isSmartRef__":true,"id":276},"__LivelyClassName__":"lively.Closure"},"275":{"this":{"__isSmartRef__":true,"id":199}},"276":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Apr 09 2015 11:29:50 GMT-0700 (PDT)\")"},"277":{"varMapping":{"__isSmartRef__":true,"id":278},"source":"function commandLineInput(text) {\n        if (text.length > 0) this.addCommandToHistory(text);\n        lively.bindings.signal(this, 'input', text);\n        // for compatibility with old texts:\n        lively.bindings.signal(this, 'savedTextString', text);\n        this.clearOnInput && this.clear();\n    }","funcProperties":{"__isSmartRef__":true,"id":279},"__LivelyClassName__":"lively.Closure"},"278":{"this":{"__isSmartRef__":true,"id":199}},"279":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Apr 09 2015 11:29:50 GMT-0700 (PDT)\")"},"280":{"varMapping":{"__isSmartRef__":true,"id":281},"source":"function clear() {\n        $super();\n        if (this.labelString) this.textString = this.labelString;\n    }","funcProperties":{"__isSmartRef__":true,"id":286},"__LivelyClassName__":"lively.Closure"},"281":{"this":{"__isSmartRef__":true,"id":199},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":282}},"282":{"$super":{"__isSmartRef__":true,"id":283}},"283":{"varMapping":{"__isSmartRef__":true,"id":284},"source":"function () {\n        try {\n          // FIXME super is supposed to be static\n          return Object.getPrototypeOf(obj)[name].apply(obj, arguments);\n        } catch (e) {\n          if (typeof $world !== undefined) $world.logError(e, 'Error in $super call')\n          else alert('Error in $super call: ' + e + '\\n' + e.stack);\n          return null;\n        }\n      }","funcProperties":{"__isSmartRef__":true,"id":285},"__LivelyClassName__":"lively.Closure"},"284":{"obj":{"__isSmartRef__":true,"id":199},"name":"clear"},"285":{},"286":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Apr 09 2015 11:29:50 GMT-0700 (PDT)\")"},"287":{"varMapping":{"__isSmartRef__":true,"id":288},"source":"function focus() {\n        if (this.labelString) {\n            var p = this.getCursorPositionAce();\n            if (p && p.row === 0 && p.column < this.labelString.length) {\n                p.column = this.labelString.length;\n                this.withAceDo(function(ed) { ed.moveCursorToPosition(p); })\n            }\n        }\n        var win = this.getWindow();\n        win && (win.targetMorph.lastFocused = this);\n        return $super();\n    }","funcProperties":{"__isSmartRef__":true,"id":293},"__LivelyClassName__":"lively.Closure"},"288":{"this":{"__isSmartRef__":true,"id":199},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":289}},"289":{"$super":{"__isSmartRef__":true,"id":290}},"290":{"varMapping":{"__isSmartRef__":true,"id":291},"source":"function () {\n        try {\n          // FIXME super is supposed to be static\n          return Object.getPrototypeOf(obj)[name].apply(obj, arguments);\n        } catch (e) {\n          if (typeof $world !== undefined) $world.logError(e, 'Error in $super call')\n          else alert('Error in $super call: ' + e + '\\n' + e.stack);\n          return null;\n        }\n      }","funcProperties":{"__isSmartRef__":true,"id":292},"__LivelyClassName__":"lively.Closure"},"291":{"obj":{"__isSmartRef__":true,"id":199},"name":"focus"},"292":{},"293":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Apr 09 2015 11:29:50 GMT-0700 (PDT)\")"},"294":{"varMapping":{"__isSmartRef__":true,"id":295},"source":"function getInput() {\n        var input = this.textString;\n        if (this.labelString && input.indexOf(this.labelString) === 0) {\n            input = input.slice(this.labelString.length);\n        }\n        return input;\n    }","funcProperties":{"__isSmartRef__":true,"id":296},"__LivelyClassName__":"lively.Closure"},"295":{"this":{"__isSmartRef__":true,"id":199}},"296":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Apr 09 2015 11:29:50 GMT-0700 (PDT)\")"},"297":{"varMapping":{"__isSmartRef__":true,"id":298},"source":"function setInput(text) {\n        var input = text;\n        if (this.labelString) text = this.labelString + text;\n        this.textString = text;\n        return input;\n    }","funcProperties":{"__isSmartRef__":true,"id":299},"__LivelyClassName__":"lively.Closure"},"298":{"this":{"__isSmartRef__":true,"id":199}},"299":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Apr 09 2015 11:29:50 GMT-0700 (PDT)\")"},"300":{"varMapping":{"__isSmartRef__":true,"id":301},"source":"function initializeAce() {\n        this.withAceDo(function(ed) { this.makeEditorLabelAware(ed); });\n        lively.bindings.connect(this, 'textString', this, 'inputChanged', {\n            converter: function(string) { return this.sourceObj.getInput(); }\n        });\n        return $super();\n    }","funcProperties":{"__isSmartRef__":true,"id":306},"__LivelyClassName__":"lively.Closure"},"301":{"this":{"__isSmartRef__":true,"id":199},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":302}},"302":{"$super":{"__isSmartRef__":true,"id":303}},"303":{"varMapping":{"__isSmartRef__":true,"id":304},"source":"function () {\n        try {\n          // FIXME super is supposed to be static\n          return Object.getPrototypeOf(obj)[name].apply(obj, arguments);\n        } catch (e) {\n          if (typeof $world !== undefined) $world.logError(e, 'Error in $super call')\n          else alert('Error in $super call: ' + e + '\\n' + e.stack);\n          return null;\n        }\n      }","funcProperties":{"__isSmartRef__":true,"id":305},"__LivelyClassName__":"lively.Closure"},"304":{"obj":{"__isSmartRef__":true,"id":199},"name":"initializeAce"},"305":{},"306":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Apr 09 2015 11:29:50 GMT-0700 (PDT)\")"},"307":{"varMapping":{"__isSmartRef__":true,"id":308},"source":"function makeEditorLabelAware(ed) {\n        function offsetColumnForLabel(session, row, column) {\n                // -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-\n            var labelString = session.labelString;\n            if (!labelString || row !== 0) return column;\n            var lineString = session.getDisplayLine(row, null, 0, 0);\n            if (lineString.startsWith(labelString) && column < labelString.length) {\n                column = labelString.length;\n            }\n            return column;\n        }\n\n        ed.selection.moveCursorTo = ed.selection.moveCursorTo.wrap(function(proceed, row, column, keepDesiredColumn) {\n            column = offsetColumnForLabel(this.session, row, column);\n            return proceed(row, column, keepDesiredColumn);\n        });\n\n        ed.selection.setSelectionAnchor = ed.selection.setSelectionAnchor.wrap(function(proceed,row, column) {\n            column = offsetColumnForLabel(this.session, row,column);\n            return proceed(row, column);\n        });\n    }","funcProperties":{"__isSmartRef__":true,"id":309},"__LivelyClassName__":"lively.Closure"},"308":{"this":{"__isSmartRef__":true,"id":199}},"309":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Apr 09 2015 11:29:50 GMT-0700 (PDT)\")"},"310":{"varMapping":{"__isSmartRef__":true,"id":311},"source":"function setLabel(labelString) {\n        var textString = this.textString;\n        if (this.labelString && this.textString.indexOf(this.labelString) === 0) {\n            textString = textString.slice(this.labelString.length);\n        }\n        this.labelString = labelString;\n        this.withAceDo(function(ed) { ed.session.labelString = labelString; });\n        this.setInput(textString);\n    }","funcProperties":{"__isSmartRef__":true,"id":312},"__LivelyClassName__":"lively.Closure"},"311":{"this":{"__isSmartRef__":true,"id":199}},"312":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Apr 09 2015 11:29:50 GMT-0700 (PDT)\")"},"313":{"varMapping":{"__isSmartRef__":true,"id":314},"source":"function setAndShowHistItem(idx) {\n    var hist = this.commandHistory, items = hist.items, len = items.length-1, i = idx;\n    if (!Numbers.between(i, 0, len+1)) hist.index = i = len;\n    else hist.index = i;\n    if (this.getInput() !== items[i] && typeof items[i] !== 'undefined') this.setInput(items[i]);\n}","funcProperties":{"__isSmartRef__":true,"id":315},"__LivelyClassName__":"lively.Closure"},"314":{"this":{"__isSmartRef__":true,"id":199}},"315":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Apr 09 2015 11:29:50 GMT-0700 (PDT)\")"},"316":{"varMapping":{"__isSmartRef__":true,"id":317},"source":"function showHistItem(dir) {\n        dir = dir || 'next';\n        var hist = this.commandHistory, items = hist.items, len = items.length-1, i = hist.index;\n        if (!Numbers.between(i, 0, len+1)) hist.index = i = len;\n        if (this.getInput() !== items[i] && typeof items[i] !== 'undefined') { this.setInput(items[i]); return; }\n        if (dir === 'next') {\n            if (i > len) return;\n            i = ++hist.index;\n        } else {\n            if (i <= 0) return;\n            i = --hist.index;\n        }\n        this.setInput(items[i] || '');\n    }","funcProperties":{"__isSmartRef__":true,"id":318},"__LivelyClassName__":"lively.Closure"},"317":{"this":{"__isSmartRef__":true,"id":199}},"318":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Apr 09 2015 11:29:50 GMT-0700 (PDT)\")"},"319":{"varMapping":{"__isSmartRef__":true,"id":320},"source":"function showNextCommand() {\n        this.showHistItem('next');\n    }","funcProperties":{"__isSmartRef__":true,"id":321},"__LivelyClassName__":"lively.Closure"},"320":{"this":{"__isSmartRef__":true,"id":199}},"321":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Apr 09 2015 11:29:50 GMT-0700 (PDT)\")"},"322":{"varMapping":{"__isSmartRef__":true,"id":323},"source":"function showPrevCommand() {\n        this.showHistItem('prev');\n    }","funcProperties":{"__isSmartRef__":true,"id":324},"__LivelyClassName__":"lively.Closure"},"323":{"this":{"__isSmartRef__":true,"id":199}},"324":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Apr 09 2015 11:29:50 GMT-0700 (PDT)\")"},"325":{"varMapping":{"__isSmartRef__":true,"id":326},"source":"function onKeyDown(evt) {\n        if (this.showsCompleter()) return $super(evt);\n        var sig = evt.getKeyString();\n        switch(sig) {\n            case 'Enter': this.commandLineInput(this.getInput()); evt.stop(); return true;\n            case 'Up':\n            case 'Control-Up':\n            case 'Alt-P': this.showPrevCommand(); this.focus(); evt.stop(); return true;\n            case 'Down':\n            case 'Alt-å': // \"Alt-N\"\n            case 'Control-Down': this.showNextCommand(); this.focus(); evt.stop(); return true;\n            case 'Alt-H': this.browseHistory(); evt.stop(); return true;\n            case 'Esc':\n            case 'Control-G': this.clear(); evt.stop(); return true;\n            default: return $super(evt);        \n        }\n    }","funcProperties":{"__isSmartRef__":true,"id":331},"__LivelyClassName__":"lively.Closure"},"326":{"this":{"__isSmartRef__":true,"id":199},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":327}},"327":{"$super":{"__isSmartRef__":true,"id":328}},"328":{"varMapping":{"__isSmartRef__":true,"id":329},"source":"function () {\n        try {\n          // FIXME super is supposed to be static\n          return Object.getPrototypeOf(obj)[name].apply(obj, arguments);\n        } catch (e) {\n          if (typeof $world !== undefined) $world.logError(e, 'Error in $super call')\n          else alert('Error in $super call: ' + e + '\\n' + e.stack);\n          return null;\n        }\n      }","funcProperties":{"__isSmartRef__":true,"id":330},"__LivelyClassName__":"lively.Closure"},"329":{"obj":{"__isSmartRef__":true,"id":199},"name":"onKeyDown"},"330":{},"331":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Apr 09 2015 11:29:50 GMT-0700 (PDT)\")"},"332":{"varMapping":{"__isSmartRef__":true,"id":333},"source":"function initCommandLine(ed) {\n        this.isCommandLine = true;\n        ed.renderer.scrollBar.element.style.display = 'none';\n        ed.renderer.scrollBar.width = 0;\n        ed.resize(true);\n    }","funcProperties":{"__isSmartRef__":true,"id":334},"__LivelyClassName__":"lively.Closure"},"333":{"this":{"__isSmartRef__":true,"id":199}},"334":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Apr 09 2015 11:29:50 GMT-0700 (PDT)\")"},"335":{"varMapping":{"__isSmartRef__":true,"id":336},"source":"function reset() {\n        this.commandHistory = {items: [], max: 30, index: 0};\n        this.connections = {input: {}};\n    }","funcProperties":{"__isSmartRef__":true,"id":337},"__LivelyClassName__":"lively.Closure"},"336":{"this":{"__isSmartRef__":true,"id":199}},"337":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Apr 09 2015 11:29:50 GMT-0700 (PDT)\")"},"338":{"varMapping":{"__isSmartRef__":true,"id":339},"source":"function onLoad() {\n        $super();\n        this.withAceDo(function(ed) { this.initCommandLine(ed); });\n    }","funcProperties":{"__isSmartRef__":true,"id":344},"__LivelyClassName__":"lively.Closure"},"339":{"this":{"__isSmartRef__":true,"id":199},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":340}},"340":{"$super":{"__isSmartRef__":true,"id":341}},"341":{"varMapping":{"__isSmartRef__":true,"id":342},"source":"function () {\n        try {\n          // FIXME super is supposed to be static\n          return Object.getPrototypeOf(obj)[name].apply(obj, arguments);\n        } catch (e) {\n          if (typeof $world !== undefined) $world.logError(e, 'Error in $super call')\n          else alert('Error in $super call: ' + e + '\\n' + e.stack);\n          return null;\n        }\n      }","funcProperties":{"__isSmartRef__":true,"id":343},"__LivelyClassName__":"lively.Closure"},"342":{"obj":{"__isSmartRef__":true,"id":199},"name":"onLoad"},"343":{},"344":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Apr 09 2015 11:29:50 GMT-0700 (PDT)\")"},"345":{"varMapping":{"__isSmartRef__":true,"id":346},"source":"function onFromBuildSpecCreated() {\n        this.reset();\n        this.labelString && lively.bindings.noUpdate(function() {\n            this.setLabel(this.labelString);\n            this.setCursorPosition(pt(this.labelString.length, 0));\n        }.bind(this));\n        lively.bindings.connect(this, 'textString', this, 'inputChange', {\n            converter: function() { return this.sourceObj.getInput(); }\n        });\n    }","funcProperties":{"__isSmartRef__":true,"id":351},"__LivelyClassName__":"lively.Closure"},"346":{"this":{"__isSmartRef__":true,"id":199},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":347}},"347":{"$super":{"__isSmartRef__":true,"id":348}},"348":{"varMapping":{"__isSmartRef__":true,"id":349},"source":"function () {\n        try {\n          // FIXME super is supposed to be static\n          return Object.getPrototypeOf(obj)[name].apply(obj, arguments);\n        } catch (e) {\n          if (typeof $world !== undefined) $world.logError(e, 'Error in $super call')\n          else alert('Error in $super call: ' + e + '\\n' + e.stack);\n          return null;\n        }\n      }","funcProperties":{"__isSmartRef__":true,"id":350},"__LivelyClassName__":"lively.Closure"},"349":{"obj":{"__isSmartRef__":true,"id":199},"name":"onFromBuildSpecCreated"},"350":{},"351":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Apr 09 2015 11:29:50 GMT-0700 (PDT)\")"},"352":{"showMenuForSelections":{"__isSmartRef__":true,"id":353},"reset":{"__isSmartRef__":true,"id":356},"toggleSelection":{"__isSmartRef__":true,"id":359},"removeProject":{"__isSmartRef__":true,"id":362},"addProject":{"__isSmartRef__":true,"id":365},"defaultProjects":{"__isSmartRef__":true,"id":368},"allProjects":{"__isSmartRef__":true,"id":371},"selectedProjects":{"__isSmartRef__":true,"id":374},"showSelectionMenu":{"__isSmartRef__":true,"id":377},"projects_showStatusOverview":{"__isSmartRef__":true,"id":380},"project_openConfFile":{"__isSmartRef__":true,"id":383},"project_loadProject":{"__isSmartRef__":true,"id":386},"interactivelyAddProject":{"__isSmartRef__":true,"id":389},"interactivelyRemoveProjects":{"__isSmartRef__":true,"id":392},"project_doInstallOrBuild":{"__isSmartRef__":true,"id":395},"projects_build":{"__isSmartRef__":true,"id":398},"project_runShellCommand":{"__isSmartRef__":true,"id":401},"fetchProjectInfos":{"__isSmartRef__":true,"id":404},"projects_printDependencies":{"__isSmartRef__":true,"id":407},"projects_topoSortByDeps":{"__isSmartRef__":true,"id":410},"interactivelyUpdateProjectVersion":{"__isSmartRef__":true,"id":413},"printProject":{"__isSmartRef__":true,"id":416},"interactivelyUpdateProjectDependencyVersion":{"__isSmartRef__":true,"id":419},"showProjectInfos":{"__isSmartRef__":true,"id":422},"projects_showInfo":{"__isSmartRef__":true,"id":425},"ensureProjectDir":{"__isSmartRef__":true,"id":428},"fetchGitStatus":{"__isSmartRef__":true,"id":431}},"353":{"varMapping":{"__isSmartRef__":true,"id":354},"source":"function showMenuForSelections() {\n  var self = this, items = [], projects = this.selectedProjects(), pl = this.get(\"projectList\");\n  if (!projects.length) items = [[\"nothing selected\", function() {}]];\n  else if (projects.length === 1) {\n    var proj = projects[0];\n    items = [\n      [\"set as current directory\", function() { lively.shell.setWorkingDirectory(proj.dir); }],\n      [\"open directory viewer\", function() { lively.require(\"lively.ide.tools.DirViewer\").toRun(function() { lively.ide.tools.DirViewer.on(proj.dir); }); }],\n      [\"open project config\", function() { self.project_openConfFile(proj); }],\n    ];\n  }\n\n  items = items.concat([\n    [\"load into runtime\", function() {\n      lively.lang.arr.mapAsyncSeries(projects,\n        function(p, _, n) { self.project_loadProject(p, function() { n(); }); },\n        function(err) { });\n    }],\n    [\"git status\", function() { self.projects_showStatusOverview(projects); }],\n    {isMenuItem: true, isDivider: true},\n    [\"lein install\", function() { self.projects_build(projects, \"install\"); }],\n    [\"lein deploy\", function() { self.projects_build(projects, \"deploy\"); }]\n  ]);\n\n  lively.morphic.Menu.openAtHand(null, items);\n}","funcProperties":{"__isSmartRef__":true,"id":355},"__LivelyClassName__":"lively.Closure"},"354":{"this":{"__isSmartRef__":true,"id":31}},"355":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Mon Apr 06 2015 00:46:49 GMT-0700 (PDT)\")"},"356":{"varMapping":{"__isSmartRef__":true,"id":357},"source":"function reset() {\n  this.get(\"projectList\").setList([]);\n  this.get(\"projectList\").enableMultipleSelections('multiSelectWithShift');\n  lively.bindings.connect(this.get(\"runActionButton\"), 'fire', this, 'showMenuForSelections');\n  lively.bindings.connect(this.get(\"projectInfoButton\"), 'fire', this, 'showProjectInfos');\n  lively.bindings.connect(this.get(\"selectionButton\"), 'fire', this, 'showSelectionMenu');\n  lively.bindings.connect(this.get(\"addProjectButton\"), 'fire', this, 'interactivelyAddProject');\n  lively.bindings.connect(this.get(\"removeProjectButton\"), 'fire', this, 'interactivelyRemoveProjects');\n\n  // defined in lively.morphic.MorphAddons\n  Global.Trait('lively.morphic.SetStatusMessageTrait').applyTo(this);\n  // this.setStatusMessage(\"foo\")\n  this._statusMorph && this._statusMorph.remove();\n  delete this._statusMorph;\n  // this.getWindow().copyToPartsBinWithUserRequest();\n}","funcProperties":{"__isSmartRef__":true,"id":358},"__LivelyClassName__":"lively.Closure"},"357":{"this":{"__isSmartRef__":true,"id":31}},"358":{"__serializedExpressions__":["timestamp"],"user":"robertkrahn","timestamp":"new Date(\"Thu Apr 16 2015 03:00:43 GMT-0700 (PDT)\")"},"359":{"varMapping":{"__isSmartRef__":true,"id":360},"source":"function toggleSelection() {\n  var selections = this.selectedProjects();\n  if (!selections.length) this.get(\"projectList\").selectAll();\n  else this.get(\"projectList\").deselectAll();\n}","funcProperties":{"__isSmartRef__":true,"id":361},"__LivelyClassName__":"lively.Closure"},"360":{"this":{"__isSmartRef__":true,"id":31}},"361":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Wed Apr 01 2015 14:01:56 GMT-0700 (PDT)\")"},"362":{"varMapping":{"__isSmartRef__":true,"id":363},"source":"function removeProject(proj) {\n  var items = this.get(\"projectList\").itemList.select(function(ea) {\n    return ea.value && ea.value.name !== proj.name;\n  });\n  this.get(\"projectList\").setList(items);\n}","funcProperties":{"__isSmartRef__":true,"id":364},"__LivelyClassName__":"lively.Closure"},"363":{"this":{"__isSmartRef__":true,"id":31}},"364":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Wed Apr 01 2015 13:57:09 GMT-0700 (PDT)\")"},"365":{"varMapping":{"__isSmartRef__":true,"id":366},"source":"function addProject(projDir, thenDo) {\n  var self = this, project;\n\n  lively.lang.fun.composeAsync(\n    self.ensureProjectDir.bind(self),\n    function(projDir, n) { self.fetchProjectInfos([{dir: projDir}], n) },\n    function(projects, n) {\n      if (!projects || !projects[0]) n(new Error(\"Could not read project at \" + projDir));\n      else { project = projects[0]; n(); }\n    },\n    addProjectToList\n  )(projDir, function(err) { thenDo && thenDo(err, project); });\n\n  // -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-\n\n  function addProjectToList(n) {\n    self.get(\"projectList\").addItem(\n      {isListItem: true, value: project, string: self.printProject(project)});\n  }\n}","funcProperties":{"__isSmartRef__":true,"id":367},"__LivelyClassName__":"lively.Closure"},"366":{"this":{"__isSmartRef__":true,"id":31}},"367":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Sun Apr 05 2015 19:04:04 GMT-0700 (PDT)\")"},"368":{"varMapping":{"__isSmartRef__":true,"id":369},"source":"function defaultProjects() {\n  // this.defaultProjects();\n  // this.selectedProjects()[0].dependencies\n\n  var self = this\n  this.get(\"projectList\").setList([]);\n\n  function add(project) {\n    self.get(\"projectList\").addItem(\n      {isListItem: true, value: project, string: self.printProject(project)});\n  }\n\n  add({name: \"LivelyKernel\",     type: \"js\", dir: \"/Users/robert/Lively/LivelyKernel\", branch: \"clojure-support\", deps: [\"system-navigator\", \"system-files\", \"cloxp-trace\", \"cloxp-repl\", \"cloxp-cljs\"]});\n\n  add({name: \"paredit.js\",       type: \"js\", dir: \"/Users/robert/Lively/paredit-js\"});\n  add({name: \"ace.improved\",     type: \"js\", dir: \"/Users/robert/Lively/ace.improved\"});\n  add({name: \"nrepl-client\",     type: \"js\", dir: \"/Users/robert/Lively/node-nrepl-client\"});\n\n  add({name: \"subprocess\",     type: \"clj\", dir: \"/Users/robert/clojure/subprocess\"});\n  add({name: \"system-files\",     type: \"clj\", dir: \"/Users/robert/clojure/clojure-system-files\"});\n  add({name: \"cloxp-source-reader\", type: \"clj\", dir: \"/Users/robert/clojure/cloxp-source-reader\"});\n  add({name: \"cloxp-projects\", type: \"clj\", dir: \"/Users/robert/clojure/cloxp-projects\"});\n  add({name: \"system-navigator\", type: \"clj\", dir: \"/Users/robert/clojure/system-navigator\"});\n  add({name: \"cloxp-trace\",      type: \"clj\", dir: \"/Users/robert/clojure/cloxp-trace\"});\n  add({name: \"cloxp-repl\" ,      type: \"clj\", dir: \"/Users/robert/clojure/cloxp-repl\"});\n  add({name: \"cloxp-cljs\" ,      type: \"clj\", dir: \"/Users/robert/clojure/cloxp-cljs\"});\n  add({name: \"cloxp\",            type: \"clj\", dir: \"/Users/robert/clojure/cloxp\"});\n  add({name: \"websocket-test\",type: \"clj\", dir: \"/Users/robert/clojure/websocket-test\"});\n  add({name: \"cloxp-blog\",       type: \"clj\", dir: \"/Users/robert/clojure/cloxp-blog\"});\n}","funcProperties":{"__isSmartRef__":true,"id":370},"__LivelyClassName__":"lively.Closure"},"369":{"this":{"__isSmartRef__":true,"id":31}},"370":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Sun Apr 05 2015 18:13:59 GMT-0700 (PDT)\")"},"371":{"varMapping":{"__isSmartRef__":true,"id":372},"source":"function allProjects() {\n  return this.get(\"projectList\").getValues();\n}","funcProperties":{"__isSmartRef__":true,"id":373},"__LivelyClassName__":"lively.Closure"},"372":{"this":{"__isSmartRef__":true,"id":31}},"373":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Wed Apr 01 2015 13:59:01 GMT-0700 (PDT)\")"},"374":{"varMapping":{"__isSmartRef__":true,"id":375},"source":"function selectedProjects() {\n  return this.get(\"projectList\").getSelections();\n}","funcProperties":{"__isSmartRef__":true,"id":376},"__LivelyClassName__":"lively.Closure"},"375":{"this":{"__isSmartRef__":true,"id":31}},"376":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Wed Apr 01 2015 13:59:17 GMT-0700 (PDT)\")"},"377":{"varMapping":{"__isSmartRef__":true,"id":378},"source":"function showSelectionMenu() {\n  var self = this, pl = this.get(\"projectList\");\n  var items = [\n    [\"select all\", function() { pl.selectAll(); }],\n    [\"select none\", function() { pl.deselectAll(); }],\n    [\"invert selection\", function() {\n      var allProjects = self.allProjects();\n      var selections = self.selectedProjects();\n      pl.deselectAll();\n      pl.setSelections(allProjects.withoutAll(selections));\n    }]\n  ]\n\n  lively.morphic.Menu.openAtHand(null, items);\n}","funcProperties":{"__isSmartRef__":true,"id":379},"__LivelyClassName__":"lively.Closure"},"378":{"this":{"__isSmartRef__":true,"id":31}},"379":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Sun Apr 05 2015 17:44:57 GMT-0700 (PDT)\")"},"380":{"varMapping":{"__isSmartRef__":true,"id":381},"source":"function projects_showStatusOverview(projects) {\n  var self = this;\n\n  interactivelyCheckIfDepsAreUptodate(projects);\n\n  // -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-\n\n  function interactivelyCheckIfDepsAreUptodate(projects, thenDo) {\n    checkIfDepsAreUptodate(projects, function(err, result) {\n      result && result.unshift([\"name\", \"git up-to-date?\", \"local changes?\"]);\n      var content = err ? String(err) : Strings.printTable(result);\n\n      var lines = lively.lang.string.lines(content);\n      var header = lines[0];\n      var projectStati = lines.slice(1);\n      var spec = [[header], [\" git\\n\"]].concat(lively.lang.arr.flatmap(\n        projectStati,\n        function(s, i) {\n          return [\n            [s], [\" \"],\n            [\"[status]\", {type: 'action', onClick: function() { self.project_runShellCommand(\"git st\", projects[i]); }}],\n            [\" \"],\n            [\"[diff]\", {type: 'action', onClick: function() { self.project_runShellCommand(\"git diff\", projects[i]); }}],\n            [\"\\n\"]];\n          }));\n\n      $world.addActionText(spec, {\n        title: \"Project status\",\n      }).getWindow().openInWorld().comeForward();\n      thenDo && thenDo(result);\n    });\n  }\n\n  function checkIfDepsAreUptodate(deps, thenDo) {\n    var pBar = $world.addStatusProgress(\"checking if projects are up to date...\");\n    pBar.align(pBar.bounds(), $world.visibleBounds().center());\n    var counter = 0;\n    lively.lang.arr.mapAsyncSeries(deps,\n      function(p, _, next) {\n        pBar.setValue(++counter/deps.length);\n        lively.lang.fun.waitForAll([\n          isRepoUpToDate.curry(p.name, p.dir, p.branch),\n          isRepoDirty.curry(p.name, p.dir, p.branch)],\n          function(err, result) {\n            next(err, [p.name, result[0], result[1]]); });\n      }, function(err, results) {\n          pBar.remove();\n          thenDo && thenDo(err, results);\n        });\n  }\n\n  function isRepoUpToDate(repoName, repoDir, branch, thenDo) {\n    getRemoteAndLocalHeadRef(repoDir, branch, function(err, refs) {\n      if (err) return thenDo && thenDo(err, false);\n      thenDo && thenDo(null, refs.remote === refs.local);\n    });\n  }\n\n  function isRepoDirty(repoName, repoDir, branch, thenDo) {\n    var cmdString = 'cd ' + repoDir + '; [[ $(git diff --shortstat 2> /dev/null | tail -n1) != \"\" ]] && echo \"*\"';\n    lively.shell.run(cmdString, function(cmd) {\n      var isDirty = cmd.resultString(true).trim().length > 0;\n      thenDo(null, isDirty); });\n  }\n\n  function getRemoteAndLocalHeadRef(repoDir, branch, thenDo) {\n    branch = branch || \"master\";\n    var cmdString = \"if [[ ! -d \" + repoDir + \" ]]; then echo 'does not exist'; else \"\n                    + \"cd \" + repoDir + \"; remote=`git ls-remote origin \" + branch + \"`;\\n\"\n                    + \"local=`git show-ref --hash \" + branch + \" | tail -n 1`;\\n\"\n                    + \"echo \\\"{\\\\\\\"remote\\\\\\\": \\\\\\\"$remote\\\\\\\", \\\\\\\"local\\\\\\\": \\\\\\\"$local\\\\\\\"}\\\"; fi;\";\n    lively.shell.run(cmdString, {}, function(cmd) {\n      if (cmd.getStdout().match(/does not exist/)) return thenDo(null, {remote: \"\", local: repoDir + \" does not exist\"});\n      var out;\n      try {out = JSON.parse(cmd.getStdout().replace(/\\s/g, \" \"))} catch (e) {\n        show(\"cd \" + repoDir + \"\\n\" + cmdString + \"\\n\" + cmd.resultString(true))\n        return thenDo && thenDo(e); }\n      var remoteRef = (out.remote || \"\").trim().split(\" \").first(),\n          localRef = (out.local || \"\").trim().split(\" \").first(),\n          result = {remote: remoteRef, local: localRef};\n      thenDo && thenDo(null, result)})\n  }\n}","funcProperties":{"__isSmartRef__":true,"id":382},"__LivelyClassName__":"lively.Closure"},"381":{"this":{"__isSmartRef__":true,"id":31}},"382":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Sun Apr 05 2015 17:44:57 GMT-0700 (PDT)\")"},"383":{"varMapping":{"__isSmartRef__":true,"id":384},"source":"function project_openConfFile(proj) {\n  var self = this;\n\n  lively.lang.fun.composeAsync(\n    findCljConfFile,\n    findPackageJson,\n    openFile\n  )(function(err) {\n    if (err)\n      self.setStatusMessage(\"Error retrieving project config:\\n\" + err);\n  });\n\n  // -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-\n\n  function findCljConfFile(n) {\n    Global.clojure.Runtime.doEval(\n      lively.lang.string.format(\n        \"(rksm.cloxp-projects.core/find-project-configuration-file \\\"%s\\\")\", proj.dir),\n      {requiredNamespaces: [\"rksm.cloxp-projects.core\"], passError: true},\n      function(err, result) {\n        if (err) n(err);\n        else if (!result || result === \"nil\") n(null,null);\n        else n(null, result.replace(/^\"|\"$/g, \"\"));\n      });\n  }\n\n  function findPackageJson(projFile, n) {\n    if (projFile) return n(null, projFile);\n    lively.shell.run('echo \"`pwd`/`ls package.json`\";', {cwd: proj.dir}, function(err, cmd) {\n      var out = cmd.resultString(true);\n      show(out)\n      if (err || !out || out.include(\"No such file or directory\")) n(null);\n      else n(null, out.trim());\n    });\n  }\n\n  function openFile(file, n) {\n    lively.ide.openFile(file);\n    n();\n  }\n}","funcProperties":{"__isSmartRef__":true,"id":385},"__LivelyClassName__":"lively.Closure"},"384":{"this":{"__isSmartRef__":true,"id":31}},"385":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Sun Apr 05 2015 17:44:57 GMT-0700 (PDT)\")"},"386":{"varMapping":{"__isSmartRef__":true,"id":387},"source":"function project_loadProject(proj, thenDo) {\n\n  var indicatorClose, self = this;\n  lively.morphic.tools.LoadingIndicator.open(\n    \"loading project\\n\" + proj.name,\n    function(close) { indicatorClose = close; });\n\n  setTimeout(function() { indicatorClose && indicatorClose(); }, 2*60*1000);\n\n  lively.lang.fun.composeAsync(\n    function(next) {\n      var actions = lively.lang.fun.either(\n        function() { next(new Error('timeout loading ' + proj.name)); },\n        function(err, loadResult, warnings) { next(err, loadResult, warnings); });\n      setTimeout(actions[0], 50*1000);\n      load(actions[1]);\n    }\n  )(function(err, loadResult, warnings) {\n    indicatorClose && indicatorClose();\n    (function() {\n      if (err || warnings.length) {\n        $world.addCodeEditor({\n          title: lively.lang.string.format(\"%s loading %s\",\n            err ? \"error \" : \"warnings\",\n            loadResult && loadResult.dir ? \" \" + loadResult.dir : \"\"),\n          content: lively.lang.string.format(\"%s\\n\\n\\n%s\",\n            err ? String(err) + \"\\n\\n\\n\" : \"\",\n            warnings ? warnings.join(\"\\n\\n\") : \"\"),\n          textMode: \"text\",\n          extent: pt(600,400),\n          lineWrapping: false\n        });\n      } else self.setStatusMessage(loadResult.dir + \" loaded\");\n      thenDo && thenDo(err, loadResult);\n    }).delay(0.2);\n  });\n\n  function load(next) {\n    var warnings = [];\n    Global.clojure.Projects.loadProjectInteractively({\n      showWarningFn: function(w) { warnings.push(w); },\n      projectDir: proj.dir,\n      askToLoadNamespaces: true,\n      setCurrentDir: true,\n      informBrowsers: true\n    }, function(err, loadResult) { next(err, loadResult, warnings); });\n  }\n}","funcProperties":{"__isSmartRef__":true,"id":388},"__LivelyClassName__":"lively.Closure"},"387":{"this":{"__isSmartRef__":true,"id":31}},"388":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Mon Apr 06 2015 00:48:52 GMT-0700 (PDT)\")"},"389":{"varMapping":{"__isSmartRef__":true,"id":390},"source":"function interactivelyAddProject() {\n  var self = this;\n  $world.prompt(\"Enter the base directory of the project\", function(input) {\n    if (!input) return;\n    self.addProject(input, function(err, project) {\n      if (err) {\n        self.setStatusMessage(\"Error adding project: \" + err);\n      } else {\n        self.setStatusMessage(\"Added \" + project.name);\n      }\n    });\n  }, {input: lively.shell.cwd(), historyId: \"ProjectOverview.addProject\"});\n}","funcProperties":{"__isSmartRef__":true,"id":391},"__LivelyClassName__":"lively.Closure"},"390":{"this":{"__isSmartRef__":true,"id":31}},"391":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Sun Apr 05 2015 17:18:27 GMT-0700 (PDT)\")"},"392":{"varMapping":{"__isSmartRef__":true,"id":393},"source":"function interactivelyRemoveProjects() {\n  var self = this, ps = this.selectedProjects()\n  $world.confirm(\"Really remove projects: \" + ps.pluck(\"name\").join(\", \") + \"?\", function(input) {\n    if (!input) return;\n    ps.forEach(function(ea) { self.removeProject(ea); });\n  });\n}","funcProperties":{"__isSmartRef__":true,"id":394},"__LivelyClassName__":"lively.Closure"},"393":{"this":{"__isSmartRef__":true,"id":31}},"394":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Wed Apr 01 2015 14:22:01 GMT-0700 (PDT)\")"},"395":{"varMapping":{"__isSmartRef__":true,"id":396},"source":"function project_doInstallOrBuild(project, action, thenDo) {\n  var self = this;\n  // var installOrDeploy = \"install\" || \"deploy\";\n  action = action || \"install\";\n  if (action === \"deploy\") action = \"deploy clojars\";\n\n  lively.lang.fun.composeAsync(\n    function(n) {\n      lively.require('lively.ide.tools.ShellCommandRunner')\n        .toRun(function() { n(); });\n    },\n    function fetchConfig(n) {\n      var code = lively.lang.string.format(\n        '(rksm.cloxp-projects.core/find-project-configuration-file \"%s\")',\n        project.dir);\n      Global.clojure.Runtime.doEval(code, {requiredNamespaces: [\"rksm.cloxp-projects.core\"], resultIsJSON: false, passError: true}, function(err, config) {\n        try { config = eval(config); } catch (e) {}\n        config = config && config.trim() !== \"nil\" ? config.trim() : null;\n        n(config ? null : new Error(\"Dont know how\"), config); });\n    },\n\n    function doInstall(config, n) {\n      if (!config) return n(new Error(\"no config found!\"));\n      var cmdString = null;\n      if (config.match(/pom.xml$/))\n        cmdString = \"cd \" + project.dir + \"; mvn \" + action;\n      if (config.match(/project.clj$/))\n        cmdString = \"cd \" + project.dir + \"; lein do clean, test, \" + action;\n      if (!cmdString)\n        return n(new Error(\"Cannot install from config \" + config));\n      lively.ide.tools.ShellCommandRunner.run(cmdString, {cwd: project.dir}, n)\n    }\n\n  )(function(err, cmd) {\n    err = err || (cmd.getCode() && cmd.resultString(true));\n    err && self.setStatusMessage(\"Error trying to install \" + project.dir + \":\\n\" +\n      String(err).truncate(300));\n    thenDo && thenDo(err, cmd);\n  })\n}","funcProperties":{"__isSmartRef__":true,"id":397},"__LivelyClassName__":"lively.Closure"},"396":{"this":{"__isSmartRef__":true,"id":31}},"397":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Sun Apr 05 2015 01:22:04 GMT-0700 (PDT)\")"},"398":{"varMapping":{"__isSmartRef__":true,"id":399},"source":"function projects_build(projects, action) {\n  // this.buildMany();\n  // var selections = this.selectedProjects();\n\n  var self = this;\n\n  lively.lang.fun.composeAsync(\n    function(n) { n(null, projects); },\n    function getDeps(selections, next) {\n      var fetchProjects = !selections.every(function(ea) { return ea.hasOwnProperty(\"dependencies\"); });\n      self.projects_topoSortByDeps(selections, true/*onlyLocal*/, fetchProjects, next);\n    },\n    function build(projects, n) {\n        var pBar = $world.addStatusProgress(\"building \" + projects.length + \" projects...\");\n        projects.mapAsyncSeries(function(proj, i, n) {\n          pBar.setValue(i/projects.length);\n          self.project_doInstallOrBuild(proj, action, n);\n        }, function(err, commands) { pBar.remove(); n(err); });\n    }\n  )(function(err) {\n    if (err) $world.inform(\"Error while building: \" + String(err).truncate(600).split(\"\\n\").map(function(ea) { return ea.truncate(140); }).join(\"\\n\"));\n    else self.setStatusMessage(\"build projects\");\n  });\n\n}","funcProperties":{"__isSmartRef__":true,"id":400},"__LivelyClassName__":"lively.Closure"},"399":{"this":{"__isSmartRef__":true,"id":31}},"400":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Mon Apr 06 2015 17:43:26 GMT-0700 (PDT)\")"},"401":{"varMapping":{"__isSmartRef__":true,"id":402},"source":"function project_runShellCommand(cmd, project) {\n  var cmdString = lively.lang.string.format(\"cd %s; \" + cmd, project.dir);\n  if (lively.module('lively.ide.tools.ShellCommandRunner').isLoaded()) run();\n  else lively.require('lively.ide.tools.ShellCommandRunner').toRun(run);\n\n  function run() {\n    lively.ide.tools.ShellCommandRunner.run(cmdString, {extent: pt(700, 600)}, function() {});\n  }\n}","funcProperties":{"__isSmartRef__":true,"id":403},"__LivelyClassName__":"lively.Closure"},"402":{"this":{"__isSmartRef__":true,"id":31}},"403":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Sun Apr 05 2015 17:44:57 GMT-0700 (PDT)\")"},"404":{"varMapping":{"__isSmartRef__":true,"id":405},"source":"function fetchProjectInfos(projects, thenDo) {\n\n  lively.lang.arr.mapAsyncSeries(projects, function(p, _, next) {\n    lively.lang.fun.composeAsync(\n      manualDeps,\n      getPackageJSON, packageJSONToProjectInfo,\n      cljProjectInfo\n    )(p, next)\n  }, function(err, projects) {\n    if (err) show(\"fetchProjectInfos error: %s\", err);\n    thenDo && thenDo(err, projects);\n  });\n\n  function getPackageJSON(p, thenDo) {\n    lively.shell.cat(p.dir + \"/package.json\", {}, function(err, source) {\n      if (!err) try { var json = JSON.parse(source); } catch (e) {}\n      thenDo(null, p, json || {});\n    });\n  }\n\n  function packageJSONToProjectInfo(p, packageJson, thenDo) {\n    if (!packageJson) return thenDo(null, p);\n    if (!p.name) p.name = packageJson.name;\n    var deps = uniqDeps((p.dependencies || [])\n      .concat(packageJson.dependencies || [])\n      .concat(packageJson.devDependencies || [])\n      .concat(packageJson.optionalDependencies || []));\n    lively.lang.obj.extend(p,\n      {version: packageJson.version, dependencies: deps});\n    thenDo(null, p);\n  }\n\n  function manualDeps(p, thenDo) {\n    p.dependencies = (p.dependencies || []).concat(p.deps || []);\n    thenDo(null, p);\n  }\n\n  function cljProjectInfo(p, thenDo) {\n    var code = \"(rksm.cloxp-projects.lein/project-info->json \\\"\" + p.dir + \"\\\" {:include-plugins? true, :clean? true, :include-dev? true})\"\n    Global.clojure.Runtime.doEval(\n      code,\n      {requiredNamespaces: [\"rksm.cloxp-projects.lein\"], resultIsJSON: true, passError: true},\n      function(err, result) {\n        if (err || !result) return thenDo(err, p);\n        var deps = (result.dependencies || []).map(function(ea) {\n          var pair = ea[0].split(\"/\");\n          return {name: pair.last(), group: pair.first(), version: ea[1]};\n        });\n\n        if (!p.name) p.name = result.name;\n        lively.lang.obj.extend(p, {\n          group: result.group,\n          description: result.description,\n          version: result.version,\n          cljName: result.name,\n          dependencies: uniqDeps((p.dependencies || []).concat(deps))\n        });\n\n        thenDo(null, p);\n      });\n  }\n\n  function uniqDeps(deps) {\n    return deps.uniqBy(function(a,b) {\n      return (a.name || a) === (b.name || b); });\n  }\n}","funcProperties":{"__isSmartRef__":true,"id":406},"__LivelyClassName__":"lively.Closure"},"405":{"this":{"__isSmartRef__":true,"id":31}},"406":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Sun Apr 05 2015 17:13:45 GMT-0700 (PDT)\")"},"407":{"varMapping":{"__isSmartRef__":true,"id":408},"source":"function projects_printDependencies(projects, onlyLocal, editorMorph, thenDo) {\n// var projects = this.get(\"projectList\").getSelections();\n// this.projects_printDependencies(projects, true);\n\n  var self = this, indicatorClose;\n\n  lively.lang.fun.composeAsync(\n    function(n) {\n      lively.require(\"lively.morphic.tools.LoadingIndicator\").toRun(function() {\n        lively.morphic.tools.LoadingIndicator.open(\"fetching data\",\n          function(close) { indicatorClose = close; n(); }); });\n    },\n    self.fetchProjectInfos.bind(self, projects.clone()),\n    function(projects, n) { printDependencies(projects, n); },function(printed, next) {\n      if (editorMorph) {\n        editorMorph.setAttributedText(printed);\n        editorMorph.getWindow().comeForward();\n      } else {\n        $world.addActionText(printed, {\n          title: \"dependencies\",\n          extent: pt(480,700)\n        }).getWindow().comeForward();\n      }\n      next(null, printed);\n    }\n  )(function(err, printed) {\n    indicatorClose && indicatorClose();\n    err && self.setStatusMessage(String(err));\n    thenDo && thenDo(err, printed);\n  });\n\n  function printDependencies(projects, thenDo) {\n    var printedDeps = projects.reduce(function(printed, p) {\n      var deps = (p.dependencies || []);\n\n      if (onlyLocal) {\n        deps = deps.filter(function(dep) {\n          var n = dep.name || dep;\n          return !!projects.detect(function(p) { return p.name === n; });\n        });\n      }\n\n      var depsPrinted = lively.lang.arr.flatmap(deps, function(ea) {\n        if (!ea) return [null];\n        if (typeof ea === \"string\") return [[\"  \"], [ea], [\"\\n\"]];\n        if (ea.name) return [[\"  \"], [ea.name + \" \" + ea.version], [\"\\n\"]]\n        return [null];\n      }).compact();\n\n      return printed\n        .concat([\n          [lively.lang.string.format(\n            \"%s%s:\",\n            p.name,\n            p.version ? \" (\" + p.version + \")\" : \"\")],\n          [\" \"],\n          [\"[update version]\", {\n            type: \"meta.action.markup.underline.link\",\n            onClick: function(evt, ed, attr) {\n              self.interactivelyUpdateProjectVersion(\n                p, projects, function(err) {\n                  if (err) ed.$morph.setStatusMessage(String(err));\n                  else {\n                    self.projects_printDependencies(\n                      projects, onlyLocal, ed.$morph);\n                  }\n                });\n              }\n          }],\n          [\"\\n\"]])\n        .concat(depsPrinted)\n        .concat([[\"\\n\"]]);\n    }, []);\n\n    thenDo && thenDo(null, printedDeps);\n  }\n}","funcProperties":{"__isSmartRef__":true,"id":409},"__LivelyClassName__":"lively.Closure"},"408":{"this":{"__isSmartRef__":true,"id":31}},"409":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Sun Apr 05 2015 17:44:57 GMT-0700 (PDT)\")"},"410":{"varMapping":{"__isSmartRef__":true,"id":411},"source":"function projects_topoSortByDeps(projects, onlyLocal, fetchProjectInfos, thenDo) {\n// var projects = this.get(\"projectList\").getSelections();\n// this.projects_topoSortByDeps(projects, false, function(err, sorted) { show(\"%s\", sorted.pluck(\"name\").join(\"\\n\")); });\n\n  var self = this;\n\n  lively.lang.fun.composeAsync(\n    fetchProjectInfos ?\n      self.fetchProjectInfos.bind(self) :\n      function(ps, n) { n(null, ps); },\n    function(projects, n) {\n      var deps = {};\n      if (onlyLocal) {\n        var projNames = projects.pluck(\"name\");\n        projects.forEach(function(p) {\n          deps[p.name] = p.dependencies.filter(function(ea) {\n            return lively.lang.arr.include(projNames, ea.name || ea); });\n        })\n      } else {\n        projects.forEach(function(p) { deps[p.name] = (p.dependencies || []).clone(); });\n      }\n      n(null, projects, deps)\n    },\n    function(projects, deps, n) {\n      var sorted = sortedProjectsByDeps([], projects, deps);\n      n(null, sorted);\n    }\n  )(projects.clone(), thenDo);\n\n  // -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-\n\n  function sortedProjectsByDeps(sorted, projects, deps, i) {\n    if (!i) i = 0;\n    if (!projects.length || i > 1000) return sorted.concat(projects).uniq();\n    sorted = sorted.concat(projects.filter(function(ea) {\n      return deps[ea.name].every(function(dep) {\n        var name = Object.isString(dep) ? dep : dep.name;\n        return sorted.some(function(ea) { return ea.name === name; })\n      });\n    }));\n    projects = projects.withoutAll(sorted);\n    return sortedProjectsByDeps(sorted, projects, deps, i+1);\n  }\n\n}","funcProperties":{"__isSmartRef__":true,"id":412},"__LivelyClassName__":"lively.Closure"},"411":{"this":{"__isSmartRef__":true,"id":31}},"412":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Mon Apr 06 2015 17:44:48 GMT-0700 (PDT)\")"},"413":{"varMapping":{"__isSmartRef__":true,"id":414},"source":"function interactivelyUpdateProjectVersion(project, allProjects, thenDo) {\n\n  var self = this, newVersion;\n  lively.lang.fun.composeAsync(\n    function(n) {\n      $world.prompt(\"Enter new version:\", function(input) {\n        newVersion = input;\n        n(input ? null : new Error(\"Invalid version entered\")); }, project.version);\n    },\n\n    function updateProjectConfig(n) {\n      var code = lively.lang.string.format(\n        '(rksm.cloxp-projects.versions/update-project-version-in-file! (constantly \"%s\") \"%s\")',\n        newVersion, project.dir);\n      Global.clojure.Runtime.doEval(\n        code,\n        {requiredNamespaces: [\"rksm.cloxp-projects.versions\"], passError: true},\n        function(err) { n(err); });\n    },\n\n  function(n) { project.version = newVersion; n(); }\n    // function(n) { $world.confirm(\"Build project \" + project.name + \"?\", function(input) { n(null, !!input); }); },\n\n    // function(build, n) {\n    //   if (!build) n();\n    //   else self.project_doInstallOrBuild(project, 'install', function(err) { n(err); })\n    // },\n\n    // function(n) { $world.confirm(\"Update dependencies?\", function(input) { n(null, !!input); }); },\n\n    // function updateDeps(shouldUpdate, n) {\n    //   if (!shouldUpdate) return n();\n    //   var depProjects = allProjects.filter(function(ea) {\n    //     return ea.dependencies.some(function(dep) {\n    //       return (dep.name || dep) === project.name; })\n    //   });\n\n    //   depProjects.mapAsyncSeries(function(p, _, n) {\n    //     var code = lively.lang.string.format(\n    //       '(rksm.cloxp-projects.versions/update-project-dep-in-file! [%s \"%s\"] \"%s\")',\n    //       (project.group ? project.group + \"/\" : \"\") + project.name, newVersion, p.dir);\n\n    //     Global.clojure.Runtime.doEval(\n    //       code,\n    //       {requiredNamespaces: [\"rksm.cloxp-projects.versions\"], passError: true},\n    //       function(err) { n(err); });\n    //   }, function(err) { n(err); })\n    // }\n\n  )(function(err) { thenDo && thenDo(err); })\n}","funcProperties":{"__isSmartRef__":true,"id":415},"__LivelyClassName__":"lively.Closure"},"414":{"this":{"__isSmartRef__":true,"id":31}},"415":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Sun Apr 05 2015 19:43:36 GMT-0700 (PDT)\")"},"416":{"varMapping":{"__isSmartRef__":true,"id":417},"source":"function printProject(project) {\n  return lively.lang.string.format(\"%s (%s)\", project.name, project.dir)\n}","funcProperties":{"__isSmartRef__":true,"id":418},"__LivelyClassName__":"lively.Closure"},"417":{"this":{"__isSmartRef__":true,"id":31}},"418":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Sun Apr 05 2015 17:10:19 GMT-0700 (PDT)\")"},"419":{"varMapping":{"__isSmartRef__":true,"id":420},"source":"function interactivelyUpdateProjectDependencyVersion(project, dep, allProjects, thenDo) {\n\n  var self = this, newVersion,\n      depName = dep.name || dep,\n      depProject = allProjects.detect(function(ea) { return ea.name === depName; }),\n      realDep = project.dependencies.detect(function(ea) {\n        return (dep.group ? ea.group === dep.group : true)\n            && ea.name === dep.name\n            && (dep.version ? ea.version === dep.version : true);\n      });\n\n  lively.lang.fun.composeAsync(\n    function(n) {\n      $world.prompt(\"Enter new version:\",\n        function(input) {\n          newVersion = input;\n          n(input ? null : new Error(\"Invalid version entered\")); },\n        depProject ? depProject.version : (realDep ? realDep.version : \"\"));\n    },\n\n    function updateDep(n) {\n      var code = lively.lang.string.format(\n        '(rksm.cloxp-projects.versions/update-project-dep-in-file! [%s \"%s\"] \"%s\")',\n        (dep.group ? dep.group + \"/\" : \"\") + depName, newVersion, project.dir);\n\n      Global.clojure.Runtime.doEval(\n        code,\n        {requiredNamespaces: [\"rksm.cloxp-projects.versions\"], passError: true},\n        function(err) { n(err); });\n    },\n\n    function(n) {\n      if (realDep) realDep.version = newVersion;\n      n();\n    }\n\n    // function updateDeps(shouldUpdate, n) {\n    //   if (!shouldUpdate) return n();\n    //   var depProjects = allProjects.filter(function(ea) {\n    //     return ea.dependencies.some(function(dep) {\n    //       return (dep.name || dep) === project.name; })\n    //   });\n\n    //   depProjects.mapAsyncSeries(function(p, _, n) {\n    //     var code = lively.lang.string.format(\n    //       '(rksm.cloxp-projects.versions/update-project-dep-in-file! [%s \"%s\"] \"%s\")',\n    //       (project.group ? project.group + \"/\" : \"\") + project.name, newVersion, p.dir);\n\n    //     Global.clojure.Runtime.doEval(\n    //       code,\n    //       {requiredNamespaces: [\"rksm.cloxp-projects.versions\"], passError: true},\n    //       function(err) { n(err); });\n    //   }, function(err) { n(err); })\n    // }\n\n  )(function(err) { thenDo && thenDo(err); })\n}","funcProperties":{"__isSmartRef__":true,"id":421},"__LivelyClassName__":"lively.Closure"},"420":{"this":{"__isSmartRef__":true,"id":31}},"421":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Sun Apr 05 2015 17:59:03 GMT-0700 (PDT)\")"},"422":{"varMapping":{"__isSmartRef__":true,"id":423},"source":"function showProjectInfos() {\n  var self = this, items = [], projects = this.selectedProjects(), pl = this.get(\"projectList\");\n  if (!projects.length) items = [[\"nothing selected\", function() {}]];\n  this.projects_showInfo(\n    projects,\n    true/*fetchProjectInfos*/,\n    false/*onlyLocal*/,\n    true/*shouldDoGitStatus*/\n  );\n}","funcProperties":{"__isSmartRef__":true,"id":424},"__LivelyClassName__":"lively.Closure"},"423":{"this":{"__isSmartRef__":true,"id":31}},"424":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Sun Apr 05 2015 23:12:55 GMT-0700 (PDT)\")"},"425":{"varMapping":{"__isSmartRef__":true,"id":426},"source":"function projects_showInfo(projects, fetchInfos, onlyLocal, shouldDoGitStatus, editorMorph, thenDo) {\n  if (typeof onlyLocal === \"undefined\") onlyLocal = false;\n  // var fetchInfos = !editorMorph;\n\n    // [\"show status\", function() { self.projects_showStatusOverview(projects); }],\n    // [\"dependencies...\", [\n    //   [\"local\", function() { self.projects_printDependencies(projects, true, null); }],\n    //   [\"all\", function() { self.projects_printDependencies(projects, false, null); }]\n    // ]]\n\n  var self = this, indicatorClose;\n\n  var actionStyle = \"meta.action.markup.underline\";\n  var localDepStyle = \"markup.italic\";\n  var localDepActionStyle = \"meta.action.markup.underline.markup.italic\";\n\n\n  lively.lang.fun.composeAsync(\n    function step1_fetchProjectInfos(n) {\n      if (!fetchInfos) n(null, projects);\n      else {\n        lively.lang.fun.composeAsync(\n          function(n) {\n            lively.require(\"lively.morphic.tools.LoadingIndicator\").toRun(function() {\n              lively.morphic.tools.LoadingIndicator.open(\"fetching data\",\n                function(close) { indicatorClose = close; n(); }); });\n          },\n          self.fetchProjectInfos.bind(self, projects.clone())\n        )(n);\n      }\n    },\n\n    function step2_fetchProjectGitStatus(projects, n) {\n      if (shouldDoGitStatus) self.fetchGitStatus(projects, n);\n      else n(null, projects);\n    },\n\n    function step3_printDependencies(projects, n) { printDependencies(projects, n); },\n    \n    function(printed, next) {\n      printed = [\n        [\"[refresh]\", {type: actionStyle, onClick: function(evt, ed, attr) { update(true, true, ed.$morph); }}],\n        [\"\\n\\n\"]\n      ].concat(printed);\n\n      if (editorMorph) {\n        editorMorph.setAttributedText(printed);\n        editorMorph.getWindow().comeForward();\n      } else {\n        $world.addActionText(printed, {\n          title: \"Project info / status\",\n          extent: pt(480,700)\n        }).getWindow().comeForward();\n      }\n\n      next(null, printed);\n    }\n  )(function(err, printed) {\n    indicatorClose && indicatorClose();\n    err && self.setStatusMessage(String(err));\n    thenDo && thenDo(err, printed);\n  });\n\n  function printGitStatus(project) {\n    var s = project.gitStatus;\n    if (!s) return [];\n    return [\n      [lively.lang.string.format(\n        \"local changes: %s, up-to-date: %s\",\n        s.hasLocalChanges, s.remoteHasUpdates)],\n        [\" \"],\n        [\"[status]\", {type: 'action', onClick: function() { self.project_runShellCommand(\"git st\", project); }}],\n        [\" \"],\n        [\"[diff]\", {type: 'action', onClick: function() { self.project_runShellCommand(\"git diff\", project); }}],\n        [\"\\n\"]];\n  }\n\n  function printDependencies(projects, thenDo) {\n    var printedDeps = projects.reduce(function(printed, p) {\n      var deps = (p.dependencies || []).clone();\n      var localDeps = deps.filter(function(dep) {\n        var n = dep.name || dep;\n        return !!projects.detect(function(p) { return p.name === n; });\n      });\n\n      if (onlyLocal) deps = localDeps;\n      else deps = localDeps.concat(deps.withoutAll(localDeps)); // reorder\n\n      var depsPrinted = lively.lang.arr.flatmap(deps, function(ea) {\n        if (!ea) return [null];\n        var updateVersion = function(evt, ed, attr) { self.interactivelyUpdateProjectDependencyVersion(p, ea, projects, update.curry(false, false, ed.$morph)); }\n\n        // if (typeof ea === \"string\") return [[\"  \"], [ea], [\"\\n\"]];\n        // if (ea.name) return [[\"  \"], [ea.name + \" \" + ea.version], [\"\\n\"]]\n\n        if (typeof ea === \"string\") return [\n          [\"    \"],\n          [ea, {type: actionStyle, onClick: updateVersion}],\n          [\"\\n\"]];\n        if (ea.name) return [\n          [\"    \"], [ea.name + \" \", {type: localDeps.include(ea) ? localDepStyle : \"\"}],\n          [ea.version, {type: localDeps.include(ea) ? localDepActionStyle : actionStyle, onClick: updateVersion}],\n          [\"\\n\"]];\n        return [null];\n      }).compact();\n\n      return printed\n        .concat([\n          [p.name],\n          [\" \"],\n          p.version ? [\"(\" + p.version + \")\", {\n            type: actionStyle,\n            onClick: function(evt, ed, attr) { self.interactivelyUpdateProjectVersion(p, projects, update.curry(false, false, ed.$morph)); }\n          }] : [\"\"],\n          [\" \"],\n          [\"[open config]\", {type: actionStyle, onClick: function(evt, ed, attr) { self.project_openConfFile(p); }}],\n          [\"\\n  \"]])\n        .concat(printGitStatus(p))\n        .concat([[\"  dependencies:\\n\"]])\n        .concat(depsPrinted)\n        .concat([[\"\\n\"]]);\n    }, []);\n\n    thenDo && thenDo(null, printedDeps);\n  }\n\n\n  // -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-\n\n  function update(fetchGitStatus, shouldDoGitStatus, editor, err) {\n    if (err) editor.setStatusMessage(String(err));\n    self.projects_showInfo(projects, fetchGitStatus, onlyLocal, shouldDoGitStatus, editor);\n  }\n\n}","funcProperties":{"__isSmartRef__":true,"id":427},"__LivelyClassName__":"lively.Closure"},"426":{"this":{"__isSmartRef__":true,"id":31}},"427":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Mon Apr 06 2015 17:34:26 GMT-0700 (PDT)\")"},"428":{"varMapping":{"__isSmartRef__":true,"id":429},"source":"function ensureProjectDir(projDir, thenDo) {\n\n  var code = lively.lang.string.format('(rksm.cloxp-projects.lein/new-project nil \"%s\")', projDir);\n  Global.clojure.Runtime.doEval(code,\n    {requiredNamespaces: [\"rksm.cloxp-projects.lein\"], resultIsJSON: false, passError: true},\n    function(err) { thenDo(err, projDir); });\n}","funcProperties":{"__isSmartRef__":true,"id":430},"__LivelyClassName__":"lively.Closure"},"429":{"this":{"__isSmartRef__":true,"id":31}},"430":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Sun Apr 05 2015 19:34:08 GMT-0700 (PDT)\")"},"431":{"varMapping":{"__isSmartRef__":true,"id":432},"source":"function fetchGitStatus(projects, thenDo) {\n  // returns [{project: p, remoteHasUpdates: BOOLEAN, hasLocalChanges: BOOLEAN}]\n  var self = this;\n\n  checkIfProjectsAreUptodate(projects, thenDo);\n\n  // -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-\n\n  function checkIfProjectsAreUptodate(deps, thenDo) {\n    var pBar = $world.addStatusProgress(\"checking if projects are up to date...\");\n    pBar.align(pBar.bounds(), $world.visibleBounds().center());\n    var counter = 0;\n    lively.lang.arr.mapAsyncSeries(deps,\n      function(p, _, next) {\n        pBar.setValue(++counter/deps.length);\n        lively.lang.fun.waitForAll([\n          isRepoUpToDate.curry(p.name, p.dir, p.branch),\n          isRepoDirty.curry(p.name, p.dir, p.branch)],\n          function(err, result) {\n            if (err) return next(err, p);\n            p.gitStatus = {remoteHasUpdates: result[0], hasLocalChanges: result[1]};\n            next(null, p);\n            // next(err, {project: p, remoteHasUpdates: result[0], hasLocalChanges: result[1]});\n            // next(err, {project: p, remoteHasUpdates: result[0], hasLocalChanges: result[1]});\n          });\n      }, function(err, results) {\n          pBar.remove();\n          thenDo && thenDo(err, results);\n        });\n  }\n\n  function isRepoUpToDate(repoName, repoDir, branch, thenDo) {\n    getRemoteAndLocalHeadRef(repoDir, branch, function(err, refs) {\n      if (err) return thenDo && thenDo(err, false);\n      thenDo && thenDo(null, refs.remote === refs.local);\n    });\n  }\n\n  function isRepoDirty(repoName, repoDir, branch, thenDo) {\n    var cmdString = 'cd ' + repoDir + '; [[ $(git diff --shortstat 2> /dev/null | tail -n1) != \"\" ]] && echo \"*\"';\n    lively.shell.run(cmdString, function(cmd) {\n      var isDirty = cmd.resultString(true).trim().length > 0;\n      thenDo(null, isDirty); });\n  }\n\n  function getRemoteAndLocalHeadRef(repoDir, branch, thenDo) {\n    branch = branch || \"master\";\n    var cmdString = \"if [[ ! -d \" + repoDir + \" ]]; then echo 'does not exist'; else \"\n                    + \"cd \" + repoDir + \"; remote=`git ls-remote origin \" + branch + \"`;\\n\"\n                    + \"local=`git show-ref --hash \" + branch + \" | tail -n 1`;\\n\"\n                    + \"echo \\\"{\\\\\\\"remote\\\\\\\": \\\\\\\"$remote\\\\\\\", \\\\\\\"local\\\\\\\": \\\\\\\"$local\\\\\\\"}\\\"; fi;\";\n    lively.shell.run(cmdString, {}, function(cmd) {\n      if (cmd.getStdout().match(/does not exist/)) return thenDo(null, {remote: \"\", local: repoDir + \" does not exist\"});\n      var out;\n      try {out = JSON.parse(cmd.getStdout().replace(/\\s/g, \" \"))} catch (e) {\n        show(\"cd \" + repoDir + \"\\n\" + cmdString + \"\\n\" + cmd.resultString(true))\n        return thenDo && thenDo(e); }\n      var remoteRef = (out.remote || \"\").trim().split(\" \").first(),\n          localRef = (out.local || \"\").trim().split(\" \").first(),\n          result = {remote: remoteRef, local: localRef};\n      thenDo && thenDo(null, result)})\n  }\n}","funcProperties":{"__isSmartRef__":true,"id":433},"__LivelyClassName__":"lively.Closure"},"432":{"this":{"__isSmartRef__":true,"id":31}},"433":{"user":"robertkrahn","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Sun Apr 05 2015 22:57:33 GMT-0700 (PDT)\")"},"434":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":435},"_ClipMode":"visible","derivationIds":["DC414700-E83E-47BB-9D2B-81C8C7E0B4AE"],"id":"16A8BC5C-8294-40C6-9044-041BAB6363CD","droppingEnabled":true,"halosEnabled":true,"type":"corner","_StyleClassNames":["Morph","Box","ReframeHandle","reframe-handle corner"],"layout":{"__isSmartRef__":true,"id":436},"owner":{"__isSmartRef__":true,"id":0},"eventHandler":{"__isSmartRef__":true,"id":437},"__serializedExpressions__":["_Position"],"__LivelyClassName__":"lively.morphic.ReframeHandle","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(467.0,348.0)"},"435":{"_BorderWidth":0,"_BorderColor":null,"_Fill":null,"__serializedExpressions__":["_Position","_Extent","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(14.0,14.0)","_Padding":"lively.rect(0,0,0,0)"},"436":{"moveVertical":true,"moveHorizontal":true},"437":{"morph":{"__isSmartRef__":true,"id":434},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"438":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":439},"_ClipMode":"visible","derivationIds":["E139B625-F358-4607-9B86-5B8460F0605D"],"id":"729FAAF1-55D7-49CD-992C-854B39DD80EF","droppingEnabled":true,"halosEnabled":true,"type":"bottom","_StyleClassNames":["Morph","Box","ReframeHandle","reframe-handle bottom"],"layout":{"__isSmartRef__":true,"id":440},"owner":{"__isSmartRef__":true,"id":0},"eventHandler":{"__isSmartRef__":true,"id":441},"__serializedExpressions__":["_Position"],"__LivelyClassName__":"lively.morphic.ReframeHandle","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(0.0,359.0)"},"439":{"_BorderWidth":0,"_BorderColor":null,"_Fill":null,"__serializedExpressions__":["_Position","_Extent","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(467.0,3.0)","_Padding":"lively.rect(0,0,0,0)"},"440":{"moveVertical":true},"441":{"morph":{"__isSmartRef__":true,"id":438},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"442":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":443},"_ClipMode":"visible","derivationIds":["E2E1EE17-F341-48D0-A26F-D6DF7FF4BDCA"],"id":"64EEFCD9-7FDB-4253-8225-BD68A8E575A7","droppingEnabled":true,"halosEnabled":true,"type":"right","_StyleClassNames":["Morph","Box","ReframeHandle","reframe-handle right"],"layout":{"__isSmartRef__":true,"id":444},"owner":{"__isSmartRef__":true,"id":0},"eventHandler":{"__isSmartRef__":true,"id":445},"__serializedExpressions__":["_Position"],"__LivelyClassName__":"lively.morphic.ReframeHandle","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(478.0,0.0)"},"443":{"_BorderWidth":0,"_BorderColor":null,"_Fill":null,"__serializedExpressions__":["_Position","_Extent","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(3.0,348.0)","_Padding":"lively.rect(0,0,0,0)"},"444":{"moveHorizontal":true},"445":{"morph":{"__isSmartRef__":true,"id":442},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"446":{"_BorderWidth":0,"_BorderColor":null,"_Fill":null,"_StrokeOpacity":false,"_BorderRadius":false,"_AppearanceStylingMode":true,"_BorderStylingMode":true,"__serializedExpressions__":["_Padding","_Extent","_Position"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Padding":"lively.rect(0,0,0,0)","_Extent":"lively.pt(481.0,362.0)","_Position":"lively.pt(0.0,0.0)"},"447":{"adjustForNewBounds":true},"448":{"a":1,"b":0,"c":0,"d":1,"e":35,"f":427,"__LivelyClassName__":"lively.morphic.Similitude","__SourceModuleName__":"Global.lively.morphic.Graphics"},"449":{"a":1,"b":0,"c":0,"d":1,"e":35,"f":427,"__LivelyClassName__":"lively.morphic.Similitude","__SourceModuleName__":"Global.lively.morphic.Graphics"},"450":{"morph":{"__isSmartRef__":true,"id":0},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"isSimplifiedRegistry":true}}