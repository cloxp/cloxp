{"id":0,"registry":{"0":{"submorphs":[{"__isSmartRef__":true,"id":1},{"__isSmartRef__":true,"id":68},{"__isSmartRef__":true,"id":153},{"__isSmartRef__":true,"id":166},{"__isSmartRef__":true,"id":177},{"__isSmartRef__":true,"id":74},{"__isSmartRef__":true,"id":229},{"__isSmartRef__":true,"id":239}],"scripts":[],"id":"6F7E06C1-BD49-413A-B28D-383DE8ED1624","shape":{"__isSmartRef__":true,"id":250},"droppingEnabled":true,"halosEnabled":true,"registeredForMouseEvents":true,"__serializedExpressions__":["_Position","color"],"showsHalos":false,"name":"ColorPicker","partsBinMetaInfo":{"__isSmartRef__":true,"id":251},"eventHandler":{"__isSmartRef__":true,"id":278},"derivationIds":[127,"F0291F62-F100-480C-AEBF-0230398F7983","AE8B5ED7-E305-45BC-BE4A-1C28A49EE12B","39BA345C-17FA-45A0-BAC2-F0CF5654ACF8","FE91EA31-D8AE-461B-8A49-95DA5FBAE5B4","F38439A3-2F4E-4AC2-BF73-2633C00B1393","6748F5B5-2284-4748-A6EE-F1A261CBAD0B","BBAFB862-93AE-4F89-BCFF-9F1C67B7FE4C","E335BEAC-8C4C-409F-9E55-6DC8C0DCA07D","9C0B0367-F4E2-42A7-9FA4-DBD6156A34AC","71C4F78B-E5D1-45C0-B9F2-2B1A890459DE","CE9A0A6D-1F98-4C0A-B8AB-4F8126E5A7EA","D8A9B603-D04C-499D-B25E-3EF552F2A7D0","76576C2E-587C-4832-A9ED-31E5004CEAC5"],"partTests":{"__isSmartRef__":true,"id":279},"_ClipMode":"visible","moved":true,"isBeingDragged":false,"magnets":[{"__isSmartRef__":true,"id":284},{"__isSmartRef__":true,"id":285},{"__isSmartRef__":true,"id":286},{"__isSmartRef__":true,"id":287},{"__isSmartRef__":true,"id":288},{"__isSmartRef__":true,"id":289},{"__isSmartRef__":true,"id":290},{"__isSmartRef__":true,"id":291}],"layout":{"__isSmartRef__":true,"id":292},"sat":1,"brt":0.4,"hue":0,"updateColorFromTextString":"#FF0000","isJustChangingTheString":false,"alpha":1,"_Rotation":0,"_Scale":1,"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":293},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(0.0,0.0)","color":"Color.rgb(204,0,0)"},"1":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":2},"eventHandler":{"__isSmartRef__":true,"id":3},"_ClipMode":"visible","derivationIds":["8BBA25FF-3A0E-4E03-ADC0-00485155BEDC","52409495-4302-4DA5-826D-E08EA7873250","77A2E558-9CE3-4627-B30E-5B1613A02C5F","5669C963-A863-4851-93B3-A10F9DF308A1","A6B8A3D8-FAA4-4943-9E1E-C10C9C560C29","DE89E9E0-9073-4D52-ADC5-C0BD02A3E137","C87C1D49-7670-40DD-A793-06E0A723AF46"],"id":"E4F60026-96D4-493E-ABF4-6253AE1AC121","droppingEnabled":true,"halosEnabled":true,"showsHalos":false,"__serializedExpressions__":["_Position","distanceToDragEvent"],"partsBinMetaInfo":{"__isSmartRef__":true,"id":4},"name":"SaturationBrightnessField","isBeingDragged":false,"draggingEnabled":false,"grabbingEnabled":false,"mouseIsDown":false,"brt":0.985,"attributeConnections":[{"__isSmartRef__":true,"id":6},{"__isSmartRef__":true,"id":47}],"doNotSerialize":["$$sat","$$brt"],"doNotCopyProperties":["$$sat","$$brt"],"sat":0.095,"magnets":[{"__isSmartRef__":true,"id":49},{"__isSmartRef__":true,"id":50},{"__isSmartRef__":true,"id":51},{"__isSmartRef__":true,"id":52},{"__isSmartRef__":true,"id":53},{"__isSmartRef__":true,"id":54},{"__isSmartRef__":true,"id":55},{"__isSmartRef__":true,"id":56}],"isCopyMorphRef":true,"morphRefId":1,"owner":{"__isSmartRef__":true,"id":0},"_Rotation":0,"_Scale":1,"_adaptCanvasSizeHTMLInProgress":false,"_canvasSerializationDataURI":"data:image/png;base64,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","__serializedLivelyClosures__":{"__isSmartRef__":true,"id":57},"__LivelyClassName__":"lively.morphic.CanvasMorph","__SourceModuleName__":"Global.lively.morphic.AdditionalMorphs","_Position":"lively.pt(10.0,10.0)","distanceToDragEvent":"lively.pt(140.0,-9.0)"},"2":{"_NodeClass":["Morph","CanvasMorph"],"__serializedExpressions__":["_Extent","_Padding","extent","_BorderColor"],"stringifiedShapeNode":"<canvas xmlns=\"http://www.w3.org/1999/xhtml\" style=\"overflow: visible; padding: 0px; width: 196px; height: 196px; border: 1px solid rgb(0, 0, 0); opacity: 1;\" class=\"Morph CanvasMorph\" id=\"null\" width=\"198\" height=\"198\" data-lively-morphid=\"E4F60026-96D4-493E-ABF4-6253AE1AC121\"><div style=\"top: 0px !important; left: 0px !important; position: absolute !important; margin-top: -1px !important; margin-left: -1px !important; \"><div tabindex=\"-1\" style=\"-webkit-transform: rotate(0deg) scale(1, 1); -webkit-transform-origin: 0px 0px; position: absolute; left: 0px; top: 0px; \"><canvas xmlns=\"http://www.w3.org/1999/xhtml\" style=\"overflow: visible; padding: 0px; width: 198px; height: 198px; border: 1px solid rgb(0, 0, 0); opacity: 1; \" class=\"Morph CanvasMorph\" id=\"morph-1eb48398-c523-4100-a621-7eb1042fd474\" width=\"198\" height=\"198\"></canvas></div></div><div style=\"top: 0px !important; left: 0px !important; position: absolute !important; margin-top: -1px !important; margin-left: -1px !important; \"><div tabindex=\"-1\" style=\"-webkit-transform: rotate(0deg) scale(1, 1); -webkit-transform-origin: 0px 0px; position: absolute; left: 0px; top: 0px; \"><canvas xmlns=\"http://www.w3.org/1999/xhtml\" style=\"overflow: visible; padding: 0px; width: 198px; height: 198px; border: 1px solid rgb(0, 0, 0); opacity: 1; \" class=\"Morph CanvasMorph\" id=\"morph-14aea17f-5f53-43a7-a6ee-3eba46934c7a\" width=\"198\" height=\"198\"></canvas></div></div><div style=\"top: 0px !important; left: 0px !important; position: absolute !important; margin-top: -1px !important; margin-left: -1px !important; \"><div tabindex=\"-1\" style=\"-webkit-transform: rotate(0deg) scale(1, 1); -webkit-transform-origin: 0px 0px; position: absolute; left: 0px; top: 0px; \"><canvas xmlns=\"http://www.w3.org/1999/xhtml\" style=\"overflow: visible; padding: 0px; width: 198px; height: 198px; border: 1px solid rgb(0, 0, 0); opacity: 1; \" class=\"Morph CanvasMorph\" id=\"morph-14aea17f-5f53-43a7-a6ee-3eba46934c7a\" width=\"198\" height=\"198\"></canvas></div></div><div style=\"top: 0px !important; left: 0px !important; position: absolute !important; margin-top: -1px !important; margin-left: -1px !important; \"><div tabindex=\"-1\" style=\"-webkit-transform: rotate(0deg) scale(1, 1); -webkit-transform-origin: 0px 0px; position: absolute; left: 0px; top: 0px; \"><canvas xmlns=\"http://www.w3.org/1999/xhtml\" style=\"overflow: visible; padding: 0px; width: 198px; height: 198px; border: 1px solid rgb(0, 0, 0); opacity: 1; \" class=\"Morph CanvasMorph\" id=\"morph-14aea17f-5f53-43a7-a6ee-3eba46934c7a\" width=\"198\" height=\"198\"></canvas></div></div><div style=\"top: 0px !important; left: 0px !important; position: absolute !important; margin-top: -1px !important; margin-left: -1px !important; \"><div tabindex=\"-1\" style=\"-webkit-transform: rotate(0deg) scale(1, 1); -webkit-transform-origin: 0px 0px; position: absolute; left: 0px; top: 0px; \"><canvas xmlns=\"http://www.w3.org/1999/xhtml\" style=\"overflow: visible; padding: 0px; width: 198px; height: 198px; border: 1px solid rgb(0, 0, 0); opacity: 1; \" class=\"Morph CanvasMorph\" id=\"morph-14aea17f-5f53-43a7-a6ee-3eba46934c7a\" width=\"198\" height=\"198\"></canvas></div></div><div style=\"top: 0px !important; left: 0px !important; position: absolute !important; margin-top: -1px !important; margin-left: -1px !important; \"><div tabindex=\"-1\" style=\"-webkit-transform: rotate(0deg) scale(1, 1); -webkit-transform-origin: 0px 0px; position: absolute; left: 0px; top: 0px; \"><canvas xmlns=\"http://www.w3.org/1999/xhtml\" style=\"overflow: visible; padding: 0px; width: 198px; height: 198px; border: 1px solid rgb(0, 0, 0); opacity: 1; \" class=\"Morph CanvasMorph\" id=\"morph-14aea17f-5f53-43a7-a6ee-3eba46934c7a\" width=\"198\" height=\"198\"></canvas></div></div><div style=\"top: 0px !important; left: 0px !important; position: absolute !important; margin-top: -1px !important; margin-left: -1px !important; \"><div tabindex=\"-1\" style=\"-webkit-transform: rotate(0deg) scale(1, 1); -webkit-transform-origin: 0px 0px; position: absolute; left: 0px; top: 0px; \"><canvas xmlns=\"http://www.w3.org/1999/xhtml\" style=\"overflow: visible; padding: 0px; width: 198px; height: 198px; border: 1px solid rgb(0, 0, 0); opacity: 1; \" class=\"Morph CanvasMorph\" id=\"morph-14aea17f-5f53-43a7-a6ee-3eba46934c7a\" width=\"198\" height=\"198\"></canvas></div></div><div style=\"top: 0px !important; left: 0px !important; position: absolute !important; margin-top: -1px !important; margin-left: -1px !important; \"><div tabindex=\"-1\" style=\"-webkit-transform: rotate(0deg) scale(1, 1); -webkit-transform-origin: 0px 0px; position: absolute; left: 0px; top: 0px; \"><canvas xmlns=\"http://www.w3.org/1999/xhtml\" style=\"overflow: visible; padding: 0px; width: 198px; height: 198px; border: 1px solid rgb(0, 0, 0); opacity: 1; \" class=\"Morph CanvasMorph\" id=\"morph-14aea17f-5f53-43a7-a6ee-3eba46934c7a\" width=\"198\" height=\"198\"></canvas></div></div><div style=\"top: 0px !important; left: 0px !important; position: absolute !important; margin-top: -1px !important; margin-left: -1px !important; \"><div tabindex=\"-1\" style=\"-webkit-transform: rotate(0deg) scale(1, 1); -webkit-transform-origin: 0px 0px; position: absolute; left: 0px; top: 0px; \"><canvas xmlns=\"http://www.w3.org/1999/xhtml\" style=\"overflow: visible; padding: 0px; width: 198px; height: 198px; border: 1px solid rgb(0, 0, 0); opacity: 1; \" class=\"Morph CanvasMorph\" id=\"morph-14aea17f-5f53-43a7-a6ee-3eba46934c7a\" width=\"198\" height=\"198\"></canvas></div></div><div style=\"top: 0px !important; left: 0px !important; position: absolute !important; margin-top: -1px !important; margin-left: -1px !important; \"><div tabindex=\"-1\" style=\"-webkit-transform: rotate(0deg) scale(1, 1); -webkit-transform-origin: 0px 0px; position: absolute; left: 0px; top: 0px; \"><canvas xmlns=\"http://www.w3.org/1999/xhtml\" style=\"overflow: visible; padding: 0px; width: 198px; height: 198px; border: 1px solid rgb(0, 0, 0); opacity: 1; \" class=\"Morph CanvasMorph\" id=\"morph-14aea17f-5f53-43a7-a6ee-3eba46934c7a\" width=\"198\" height=\"198\"></canvas></div></div><div style=\"top: 0px !important; left: 0px !important; position: absolute !important; margin-top: -1px !important; margin-left: -1px !important; \"><div tabindex=\"-1\" style=\"-webkit-transform: rotate(0deg) scale(1, 1); -webkit-transform-origin: 0px 0px; position: absolute; left: 0px; top: 0px; \"><canvas xmlns=\"http://www.w3.org/1999/xhtml\" style=\"overflow: visible; padding: 0px; width: 198px; height: 198px; border: 1px solid rgb(0, 0, 0); opacity: 1; \" class=\"Morph CanvasMorph\" id=\"morph-14aea17f-5f53-43a7-a6ee-3eba46934c7a\" width=\"198\" height=\"198\"></canvas></div></div></canvas>","_BorderWidth":1,"_BorderRadius":0,"_Opacity":1,"_BorderStyle":"solid","_AppearanceStylingMode":false,"isStyleSheetAppearance":false,"_BorderStylingMode":false,"isStyleSheetBorder":false,"__LivelyClassName__":"lively.morphic.Shapes.External","__SourceModuleName__":"Global.lively.morphic.Shapes","_Extent":"lively.pt(198.0,198.0)","_Padding":"lively.rect(0,0,0,0)","extent":"lively.pt(198.0,198.0)","_BorderColor":"Color.rgb(0,0,0)"},"3":{"morph":{"__isSmartRef__":true,"id":1},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"4":{"partName":"HTMLCanvas","requiredModules":[],"partsSpaceName":"PartsBin/Sandbox","comment":"Interface to an HTML Canvas object.\n\nUse getContext() to get the 2d context.\nThen just use that to draw things.","changes":[{"__isSmartRef__":true,"id":5}],"migrationLevel":4,"revisionOnLoad":177548,"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo","__SourceModuleName__":"Global.lively.PartsBin"},"5":{"__serializedExpressions__":["date"],"author":"bgnauk","message":"no comment","id":"E504CA1C-BE2D-4AB1-AA4C-3CC2BDF1D95A","date":"new Date(\"Thu Aug 09 2012 15:54:00 GMT-0700 (PDT)\")"},"6":{"sourceObj":{"__isSmartRef__":true,"id":1},"sourceAttrName":"sat","targetObj":{"__isSmartRef__":true,"id":7},"targetMethodName":"updateSat","__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"7":{"submorphs":[],"scripts":[],"id":"BC16EA92-0EBE-41FF-8982-20B8A416F4B1","shape":{"__isSmartRef__":true,"id":8},"droppingEnabled":true,"halosEnabled":true,"registeredForMouseEvents":true,"__serializedExpressions__":["_Position","distanceToDragEvent","color"],"showsHalos":false,"name":"ColorDisplay","partsBinMetaInfo":{"__isSmartRef__":true,"id":9},"eventHandler":{"__isSmartRef__":true,"id":17},"derivationIds":[127,"F0291F62-F100-480C-AEBF-0230398F7983","AE8B5ED7-E305-45BC-BE4A-1C28A49EE12B","39BA345C-17FA-45A0-BAC2-F0CF5654ACF8","FE91EA31-D8AE-461B-8A49-95DA5FBAE5B4","F38439A3-2F4E-4AC2-BF73-2633C00B1393","6748F5B5-2284-4748-A6EE-F1A261CBAD0B","BBAFB862-93AE-4F89-BCFF-9F1C67B7FE4C"],"partTests":{"__isSmartRef__":true,"id":18},"_ClipMode":"visible","moved":true,"owner":null,"isBeingDragged":false,"hue":0.5842105263157895,"sat":0.095,"brt":0.985,"magnets":[{"__isSmartRef__":true,"id":23},{"__isSmartRef__":true,"id":24},{"__isSmartRef__":true,"id":25},{"__isSmartRef__":true,"id":26},{"__isSmartRef__":true,"id":27},{"__isSmartRef__":true,"id":28},{"__isSmartRef__":true,"id":29},{"__isSmartRef__":true,"id":30}],"isCopyMorphRef":true,"morphRefId":1,"_Rotation":0,"_Scale":1,"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":31},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(270.0,150.0)","distanceToDragEvent":"lively.pt(37.0,-9.0)","color":"Color.rgb(251,251,252)"},"8":{"__serializedExpressions__":["position","_Extent","_BorderColor","_Fill","_Padding"],"_BorderWidth":1,"_ClipMode":"visible","_BorderRadius":0,"_Opacity":1,"_BorderStyle":"solid","__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(60.0,60.0)","_BorderColor":"Color.rgb(0,0,0)","_Fill":"Color.rgb(235,2,59)","_Padding":"lively.rect(0,0,0,0)"},"9":{"partsSpaceName":"PartsBin/Basic","comment":"A simple box morph. A really orange one. Its amazing what you can build out of simple boxes.... Who needs stars when you got orange rectangles!","migrationLevel":4,"partName":"Rectangle","changes":[{"__isSmartRef__":true,"id":10},{"__isSmartRef__":true,"id":11},{"__isSmartRef__":true,"id":12},{"__isSmartRef__":true,"id":13},{"__isSmartRef__":true,"id":14},{"__isSmartRef__":true,"id":15},{"__isSmartRef__":true,"id":16}],"revisionOnLoad":171602,"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo","__SourceModuleName__":"Global.lively.PartsBin"},"10":{"__serializedExpressions__":["date"],"author":"undefined","message":"whoopsie","id":"3F17A2D2-3C24-424B-B0FA-E43112267D23","date":"new Date(\"Thu May 03 2012 06:51:36 GMT-0700 (PDT)\")"},"11":{"__serializedExpressions__":["date"],"author":"undefined","message":"whoopsie","id":"CEA5DCD5-2DB7-40AD-A776-262A7A0666FC","date":"new Date(\"Thu May 03 2012 06:51:30 GMT-0700 (PDT)\")"},"12":{"__serializedExpressions__":["date"],"author":"undefined","message":"sorry","id":"44B56D2E-9B59-4C67-A305-49A6E10E66C2","date":"new Date(\"Wed Mar 14 2012 02:53:45 GMT-0700 (PDT)\")"},"13":{"__serializedExpressions__":["date"],"author":"fbo","message":"","id":"BD1C654D-9100-4B66-BC62-B15FF2498B2B","date":"new Date(\"Fri Feb 24 2012 17:59:09 GMT-0800 (PST)\")"},"14":{"__serializedExpressions__":["date"],"author":"undefined","message":"css transitions","id":"1004E0FC-D96B-4F40-B3E0-F514A3FCFFD7","date":"new Date(\"Wed Mar 14 2012 02:42:26 GMT-0700 (PDT)\")"},"15":{"__serializedExpressions__":["date"],"author":"undefined","message":"suddenly, the rectangle became a CarDemo","id":"B5083AA8-9BAE-48DD-A6B4-FD7DB3998350","date":"new Date(\"Mon Apr 09 2012 04:42:07 GMT-0700 (PDT)\")"},"16":{"__serializedExpressions__":["date"],"author":"bgnauk","message":"no comment","id":"0124E570-50B7-4CE3-83A1-6E7BA89B5CD8","date":"new Date(\"Mon Jun 18 2012 10:35:08 GMT-0700 (PDT)\")"},"17":{"morph":{"__isSmartRef__":true,"id":7},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"18":{"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":19}},"19":{"test01IsMorph":{"__isSmartRef__":true,"id":20}},"20":{"varMapping":{"__isSmartRef__":true,"id":21},"source":"function test01IsMorph(aPart) {\n    this.assert(aPart.isMorph, 'rectangle should be a morph');\n}","funcProperties":{"__isSmartRef__":true,"id":22},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"21":{"this":{"__isSmartRef__":true,"id":18}},"22":{},"23":{"morph":{"__isSmartRef__":true,"id":7},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.0,0.0)","cachedGlobalPosition":"lively.pt(561.0,337.0)"},"24":{"morph":{"__isSmartRef__":true,"id":7},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.5,0.0)","cachedGlobalPosition":"lively.pt(581.0,337.0)"},"25":{"morph":{"__isSmartRef__":true,"id":7},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(1.0,0.0)","cachedGlobalPosition":"lively.pt(601.0,337.0)"},"26":{"morph":{"__isSmartRef__":true,"id":7},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(1.0,0.5)","cachedGlobalPosition":"lively.pt(601.0,357.0)"},"27":{"morph":{"__isSmartRef__":true,"id":7},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(1.0,1.0)","cachedGlobalPosition":"lively.pt(601.0,377.0)"},"28":{"morph":{"__isSmartRef__":true,"id":7},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.5,1.0)","cachedGlobalPosition":"lively.pt(581.0,377.0)"},"29":{"morph":{"__isSmartRef__":true,"id":7},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.0,1.0)","cachedGlobalPosition":"lively.pt(561.0,377.0)"},"30":{"morph":{"__isSmartRef__":true,"id":7},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.0,0.5)","cachedGlobalPosition":"lively.pt(561.0,357.0)"},"31":{"updateHue":{"__isSmartRef__":true,"id":32},"updateSat":{"__isSmartRef__":true,"id":35},"updateBrt":{"__isSmartRef__":true,"id":38},"updateRGB":{"__isSmartRef__":true,"id":41},"updateColor":{"__isSmartRef__":true,"id":44}},"32":{"varMapping":{"__isSmartRef__":true,"id":33},"source":"function updateHue(hue) {\n        this.hue = hue;\n    this.updateRGB();\n}","funcProperties":{"__isSmartRef__":true,"id":34},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"33":{"this":{"__isSmartRef__":true,"id":7}},"34":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Thu Aug 09 2012 17:35:41 GMT-0700 (PDT)\")"},"35":{"varMapping":{"__isSmartRef__":true,"id":36},"source":"function updateSat(sat) {\n    this.sat = sat;\n    this.updateRGB();\n}","funcProperties":{"__isSmartRef__":true,"id":37},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"36":{"this":{"__isSmartRef__":true,"id":7}},"37":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Thu Aug 09 2012 17:35:33 GMT-0700 (PDT)\")"},"38":{"varMapping":{"__isSmartRef__":true,"id":39},"source":"function updateBrt(brt) {\n            this.brt= brt;\n    this.updateRGB();\n}","funcProperties":{"__isSmartRef__":true,"id":40},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"39":{"this":{"__isSmartRef__":true,"id":7}},"40":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Thu Aug 09 2012 17:35:48 GMT-0700 (PDT)\")"},"41":{"varMapping":{"__isSmartRef__":true,"id":42},"source":"function updateRGB() {\n    var hslToRgb = function(h, s, l){\n        var r, g, b;\n\n        if(s == 0){\n            r = g = b = l; // achromatic\n        }else{\n            function hue2rgb(p, q, t){\n                if(t < 0) t += 1;\n                if(t > 1) t -= 1;\n                if(t < 1/6) return p + (q - p) * 6 * t;\n                if(t < 1/2) return q;\n                if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n                return p;\n            }\n\n            var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n            var p = 2 * l - q;\n            r = hue2rgb(p, q, h + 1/3);\n            g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h -     1/3);\n        }\n        var r = [r * 255, g * 255, b * 255];\n    \n        for (var i = 0; i < r.length; i ++) {\n            r[i] = Math.round(r[i]);    \n        }\n        return r;\n    }\n    \n    var rgb = hslToRgb(this.hue, this.sat, this.brt);\n    this.color = new Color(rgb[0]/255, rgb[1]/255, rgb[2]/255);\n    this.applyStyle({fill:this.color});\n}","funcProperties":{"__isSmartRef__":true,"id":43},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"42":{"this":{"__isSmartRef__":true,"id":7}},"43":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Thu Aug 09 2012 17:33:42 GMT-0700 (PDT)\")"},"44":{"varMapping":{"__isSmartRef__":true,"id":45},"source":"function updateColor(color) {\n    this.applyStyle({fill:color});\n}","funcProperties":{"__isSmartRef__":true,"id":46},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"45":{"this":{"__isSmartRef__":true,"id":7}},"46":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Fri Aug 10 2012 10:16:23 GMT-0700 (PDT)\")"},"47":{"sourceObj":{"__isSmartRef__":true,"id":1},"sourceAttrName":"brt","targetObj":{"__isSmartRef__":true,"id":7},"targetMethodName":"updateBrt","converterString":null,"updaterString":null,"varMapping":{"__isSmartRef__":true,"id":48},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"48":{"source":{"__isSmartRef__":true,"id":1},"target":{"__isSmartRef__":true,"id":7}},"49":{"morph":{"__isSmartRef__":true,"id":1},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.0,0.0)","cachedGlobalPosition":"lively.pt(181.0,337.0)"},"50":{"morph":{"__isSmartRef__":true,"id":1},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.5,0.0)","cachedGlobalPosition":"lively.pt(281.0,337.0)"},"51":{"morph":{"__isSmartRef__":true,"id":1},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(1.0,0.0)","cachedGlobalPosition":"lively.pt(381.0,337.0)"},"52":{"morph":{"__isSmartRef__":true,"id":1},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(1.0,0.5)","cachedGlobalPosition":"lively.pt(381.0,437.0)"},"53":{"morph":{"__isSmartRef__":true,"id":1},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(1.0,1.0)","cachedGlobalPosition":"lively.pt(381.0,537.0)"},"54":{"morph":{"__isSmartRef__":true,"id":1},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.5,1.0)","cachedGlobalPosition":"lively.pt(281.0,537.0)"},"55":{"morph":{"__isSmartRef__":true,"id":1},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.0,1.0)","cachedGlobalPosition":"lively.pt(181.0,537.0)"},"56":{"morph":{"__isSmartRef__":true,"id":1},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.0,0.5)","cachedGlobalPosition":"lively.pt(181.0,437.0)"},"57":{"draw":{"__isSmartRef__":true,"id":58},"prepareForNewRenderContext":{"__isSmartRef__":true,"id":61}},"58":{"varMapping":{"__isSmartRef__":true,"id":59},"source":"function draw(hue) {\n    var canvas = this,\n        ctx = canvas.getContext(),\n        bounds = canvas.getExtent(),\n        width = bounds.x,\n        height = bounds.y,\n        pixel = ctx.createImageData(1,1);\n        \n    var hslToRgb = function(h, s, l){\n        var r, g, b;\n\n        if(s == 0){\n            r = g = b = l; // achromatic\n        }else{\n            function hue2rgb(p, q, t){\n                if(t < 0) t += 1;\n                if(t > 1) t -= 1;\n                if(t < 1/6) return p + (q - p) * 6 * t;\n                if(t < 1/2) return q;\n                if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n                return p;\n            }\n\n            var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n            var p = 2 * l - q;\n            r = hue2rgb(p, q, h + 1/3);\n            g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h -     1/3);\n        }\n    var r = [r * 255, g * 255, b * 255];\n    \n    for (var i = 0; i < r.length; i ++) {\n        r[i] = Math.round(r[i]);    \n    }\n    return r;\n}\n    \n    for (var x = 0; x < width; x++) {\n        if (x % 2 == 0) {\n        for (var y = 0; y < height; y++) {\n            if (y % 2 == 0) { \n            var hue = hue,\n                sat = x / width,\n                brt = 1 - (y / height),\n                alpha = 1,\n                color = hslToRgb(hue, sat, brt);\n            ctx.fillStyle = 'rgba(' + color[0] + ',' +color[1] + ',' + color[2] + ',' + alpha+')';\n            ctx.fillRect(x, y, 2, 2);\n            }\n        }\n        }\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":60},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"59":{"this":{"__isSmartRef__":true,"id":1}},"60":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Tue Aug 14 2012 13:32:48 GMT-0700 (PDT)\")"},"61":{"varMapping":{"__isSmartRef__":true,"id":62},"source":"function prepareForNewRenderContext(renderCtx) {\n    $super(renderCtx);\n    this.draw(0);\n}","funcProperties":{"__isSmartRef__":true,"id":67},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"62":{"this":{"__isSmartRef__":true,"id":1},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":63}},"63":{"$super":{"__isSmartRef__":true,"id":64}},"64":{"varMapping":{"__isSmartRef__":true,"id":65},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":66},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"65":{"obj":{"__isSmartRef__":true,"id":1},"name":"prepareForNewRenderContext"},"66":{},"67":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Fri Aug 10 2012 11:30:38 GMT-0700 (PDT)\")"},"68":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":69},"eventHandler":{"__isSmartRef__":true,"id":70},"_ClipMode":"visible","derivationIds":["8BBA25FF-3A0E-4E03-ADC0-00485155BEDC","BB7C09DC-DA30-4FAE-8A56-8A903D4ADC61","EB167658-402C-44EC-83BF-55109A58062A","732A3FDD-8EF7-4FC4-9BB0-34A330627F43","B98C9190-DC5D-40B3-81CB-6308F496A40D","C753B146-BAD7-409A-8455-97F8A9D799CB","405AD661-BE08-4C09-B273-6795D28821BB"],"id":"6C97C13F-6672-426B-81D5-4C8104B41D40","droppingEnabled":true,"halosEnabled":true,"showsHalos":false,"__serializedExpressions__":["_Position","distanceToDragEvent"],"partsBinMetaInfo":{"__isSmartRef__":true,"id":71},"name":"HueField","isBeingDragged":false,"owner":{"__isSmartRef__":true,"id":0},"draggingEnabled":false,"grabbingEnabled":false,"attributeConnections":[{"__isSmartRef__":true,"id":73},{"__isSmartRef__":true,"id":132}],"doNotSerialize":["$$hue"],"doNotCopyProperties":["$$hue"],"hue":0.225,"mouseIsDown":false,"magnets":[{"__isSmartRef__":true,"id":134},{"__isSmartRef__":true,"id":135},{"__isSmartRef__":true,"id":136},{"__isSmartRef__":true,"id":137},{"__isSmartRef__":true,"id":138},{"__isSmartRef__":true,"id":139},{"__isSmartRef__":true,"id":140},{"__isSmartRef__":true,"id":141}],"_Rotation":0,"_Scale":1,"_adaptCanvasSizeHTMLInProgress":false,"_canvasSerializationDataURI":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAADGCAYAAADBqODdAAACKUlEQVR4Xr3Z4UaDAQCF4S+JRCKRiEQiIxGJRCIjJTISExljIpFIpEQikZgYiURGIiUSE4lEJBKJREpkTCQyvrqK5zj/nwt4S8Ig+L9bSViuwSoN1mqwQYPNGmzVYIcGuzXYp8FBDcY0GNdgQoMTGpzW4JwGlzS4qsENDWY0uKPBrAYPNXiqwXMNXmnwVoMPGnzW4JsG8xr81mARg78hBr80+KnBVw0+afBegzcavNRgToMnGjzQ4J4GtzW4qcF1Da5ocFGDsxqc0mBKg+MaHNXgsAb7NdirwS4NtmswosEmDdZrsEaDlRos02AQltokG4QVGqzWYJ0GGzXYosE2DXZqsEeDUQ0OaXBEg2MaTGpwUoMzGpzX4LIG1zSY1uCWBnc1uK/BYw2eafBCg9cavNPgowZfNPihwYIGfzQYYvBHgwUNfmjwRYOPGrzT4LUGLzR4psEjDe5rcFeDWxpMa3BNg8sanNfgjAYnNZjU4JgGRzQ4pMGoBns02KnBNg22aLBRg3UarNZghQZLMVgWYLBSgzUarNdgkwYjGmzXYJcGezXYr8FhDY5qcFyDKQ1OaXBWgwsaXNHgugY3NbitwT0NHmjwRIM5DV5q8EaD9xp80uCrBj81+KXBXw2GQdEm2TD41mBeg+8afNbggwZvNXilwXMNnmrwUINZDe5oMKPBDQ2uanBJg3ManNbghAYTGoxrMKbBAQ32abBbgx0abNVgswYbNFhLwT8UUe7O9K21EgAAAABJRU5ErkJggg==","__serializedLivelyClosures__":{"__isSmartRef__":true,"id":142},"__LivelyClassName__":"lively.morphic.CanvasMorph","__SourceModuleName__":"Global.lively.morphic.AdditionalMorphs","_Position":"lively.pt(220.0,10.0)","distanceToDragEvent":"lively.pt(42.0,-18.0)"},"69":{"_NodeClass":["Morph","CanvasMorph"],"__serializedExpressions__":["_Extent","_Padding","extent","_BorderColor"],"stringifiedShapeNode":"<canvas xmlns=\"http://www.w3.org/1999/xhtml\" style=\"overflow: visible; padding: 0px; width: 26px; height: 196px; border: 1px solid rgb(0, 0, 0); opacity: 1;\" class=\"Morph CanvasMorph\" id=\"null\" width=\"28\" height=\"198\" data-lively-morphid=\"6C97C13F-6672-426B-81D5-4C8104B41D40\"></canvas>","_BorderWidth":1,"_BorderRadius":0,"_Opacity":1,"_BorderStyle":"solid","_AppearanceStylingMode":false,"isStyleSheetAppearance":false,"_BorderStylingMode":false,"isStyleSheetBorder":false,"__LivelyClassName__":"lively.morphic.Shapes.External","__SourceModuleName__":"Global.lively.morphic.Shapes","_Extent":"lively.pt(28.0,198.0)","_Padding":"lively.rect(0,0,0,0)","extent":"lively.pt(28.0,198.0)","_BorderColor":"Color.rgb(0,0,0)"},"70":{"morph":{"__isSmartRef__":true,"id":68},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"71":{"partName":"HTMLCanvas","requiredModules":[],"partsSpaceName":"PartsBin/Sandbox","comment":"Interface to an HTML Canvas object.\n\nUse getContext() to get the 2d context.\nThen just use that to draw things.","changes":[{"__isSmartRef__":true,"id":72}],"migrationLevel":4,"revisionOnLoad":177548,"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo","__SourceModuleName__":"Global.lively.PartsBin"},"72":{"__serializedExpressions__":["date"],"author":"bgnauk","message":"no comment","id":"E504CA1C-BE2D-4AB1-AA4C-3CC2BDF1D95A","date":"new Date(\"Thu Aug 09 2012 15:54:00 GMT-0700 (PDT)\")"},"73":{"sourceObj":{"__isSmartRef__":true,"id":68},"sourceAttrName":"hue","targetObj":{"__isSmartRef__":true,"id":74},"targetMethodName":"draw","__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"74":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":75},"eventHandler":{"__isSmartRef__":true,"id":76},"_ClipMode":"visible","derivationIds":["8BBA25FF-3A0E-4E03-ADC0-00485155BEDC","E174C76F-E4A2-47B3-A3C4-6290B0B193C8","881D742A-C88F-4750-8917-00A3B848409E","FBB687FF-A1A3-4074-ACD5-C54C0E4358A5","B7E694A1-E592-4E94-AFFF-0024906D2282","D2371BB2-261C-4F69-8F77-B58D3A729C13"],"id":"9C4A0EC9-A9E8-4634-B323-D3D6F145ECA7","droppingEnabled":true,"halosEnabled":true,"owner":{"__isSmartRef__":true,"id":0},"showsHalos":false,"__serializedExpressions__":["_Position","distanceToDragEvent"],"partsBinMetaInfo":{"__isSmartRef__":true,"id":77},"name":"SaturationBrightnessPickerField","isBeingDragged":false,"draggingEnabled":true,"grabbingEnabled":false,"mouseIsDown":false,"brt":0.29292929292929293,"attributeConnections":[{"__isSmartRef__":true,"id":79},{"__isSmartRef__":true,"id":81}],"doNotSerialize":["$$sat","$$brt"],"doNotCopyProperties":["$$sat","$$brt"],"sat":0.3888888888888889,"magnets":[{"__isSmartRef__":true,"id":83},{"__isSmartRef__":true,"id":84},{"__isSmartRef__":true,"id":85},{"__isSmartRef__":true,"id":86},{"__isSmartRef__":true,"id":87},{"__isSmartRef__":true,"id":88},{"__isSmartRef__":true,"id":89},{"__isSmartRef__":true,"id":90}],"isCopyMorphRef":true,"morphRefId":1,"draw":0.22631578947368422,"_Rotation":0,"_Scale":1,"_adaptCanvasSizeHTMLInProgress":false,"_canvasSerializationDataURI":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAYAAACJm/9dAAAFUklEQVR4Xu3VsU1DURBEUdwhlVCMK6FEHGMHI202c8iQ9gV79l/58eWPAIE3gQcTAgTeBYThqyDwQUAYPgsCwvANEMgE/GJkTqbGBIQxdnDrZgLCyJxMjQkIY+zg1s0EhJE5mRoTEMbYwa2bCQgjczI1JiCMsYNbNxMQRuZkakxAGGMHt24mIIzMydSYgDDGDm7dTEAYmZOpMQFhjB3cupmAMDInU2MCwhg7uHUzAWFkTqbGBIQxdnDrZgLCyJxMjQkIY+zg1s0EhJE5mRoTEMbYwa2bCQgjczI1JiCMsYNbNxMQRuZkakxAGGMHt24mIIzMydSYgDDGDm7dTEAYmZOpMQFhjB3cupmAMDInU2MCwhg7uHUzAWFkTqbGBIQxdnDrZgLCyJxMjQkIY+zg1s0EhJE5mRoTEMbYwa2bCQgjczI1JiCMsYNbNxMQRuZkakxAGGMHt24mIIzMydSYgDDGDm7dTEAYmZOpMQFhjB3cupmAMDInU2MCwhg7uHUzAWFkTqbGBIQxdnDrZgLCyJxMjQkIY+zg1s0EhJE5mRoTEMbYwa2bCQgjczI1JiCMsYNbNxMQRuZkakxAGGMHt24mIIzMydSYgDDGDm7dTEAYmZOpMQFhjB3cupmAMDInU2MCwhg7uHUzAWFkTqbGBIQxdnDrZgLCyJxMjQkIY+zg1s0EhJE5mRoTEMbYwa2bCQgjczI1JiCMsYNbNxMQRuZkakxAGGMHt24mIIzMydSYgDDGDm7dTEAYmZOpMQFhjB3cupmAMDInU2MCwhg7uHUzAWFkTqbGBIQxdnDrZgLCyJxMjQkIY+zg1s0EhJE5mRoTEMbYwa2bCQgjczI1JiCMsYNbNxMQRuZkakxAGGMHt24mIIzMydSYgDDGDm7dTEAYmZOpMQFhjB3cupmAMDInU2MCwhg7uHUzAWFkTqbGBIQxdnDrZgLCyJxMjQkIY+zg1s0EhJE5mRoTEMbYwa2bCQgjczI1JiCMsYNbNxMQRuZkakxAGGMHt24mIIzMydSYgDDGDm7dTEAYmZOpMQFhjB3cupmAMDInU2MCwhg7uHUzAWFkTqbGBIQxdnDrZgLCyJxMdQr8vNb6/rfa7+v/pzA6D26ro4AwjoCedwoIo/OutjoKCOMI6HmngDA672qro4AwjoCedwoIo/OutjoKCOMI6HmngDA672qro4AwjoCedwoIo/OutjoKCOMI6HmngDA672qro4AwjoCedwoIo/OutjoKCOMI6HmngDA672qro4AwjoCedwoIo/OutjoKCOMI6HmngDA672qro4AwjoCedwoIo/OutjoKCOMI6HmngDA672qro4AwjoCedwoIo/OutjoKCOMI6HmngDA672qro4AwjoCedwoIo/OutjoKCOMI6HmngDA672qro4AwjoCedwoIo/OutjoKCOMI6HmngDA672qro4AwjoCedwoIo/OutjoKCOMI6HmngDA672qro4AwjoCedwoIo/OutjoKCOMI6HmngDA672qro4AwjoCedwoIo/OutjoKCOMI6HmngDA672qro4AwjoCedwoIo/OutjoKCOMI6HmngDA672qro4AwjoCedwoIo/OutjoKCOMI6HmngDA672qro4AwjoCedwoIo/OutjoKCOMI6HmngDA672qro4AwjoCedwoIo/OutjoKCOMI6HmngDA672qro4AwjoCedwoIo/OutjoKCOMI6HmngDA672qro4AwjoCedwoIo/OutjoKCOMI6HmngDA672qro4AwjoCedwoIo/OutjoKCOMI6HmngDA672qro4AwjoCedwr8AUP/Asd9Y0mtAAAAAElFTkSuQmCC","__serializedLivelyClosures__":{"__isSmartRef__":true,"id":91},"__LivelyClassName__":"lively.morphic.CanvasMorph","__SourceModuleName__":"Global.lively.morphic.AdditionalMorphs","withoutLayers":["Global.lively.morphic.GrabbingLayer"],"_Position":"lively.pt(10.0,10.0)","distanceToDragEvent":"lively.pt(135.0,-11.0)"},"75":{"_NodeClass":["Morph","CanvasMorph"],"__serializedExpressions__":["_Extent","_Padding","extent","_BorderColor"],"stringifiedShapeNode":"<canvas xmlns=\"http://www.w3.org/1999/xhtml\" style=\"overflow: visible; padding: 0px; width: 196px; height: 196px; border: 1px solid rgb(0, 0, 0); opacity: 1;\" class=\"Morph CanvasMorph\" id=\"null\" width=\"198\" height=\"198\" data-lively-morphid=\"9C4A0EC9-A9E8-4634-B323-D3D6F145ECA7\"><div style=\"top: 0px !important; left: 0px !important; position: absolute !important; margin-top: -1px !important; margin-left: -1px !important; \"><div tabindex=\"-1\" style=\"-webkit-transform: rotate(0deg) scale(1, 1); -webkit-transform-origin: 0px 0px; position: absolute; left: 0px; top: 0px; \"><canvas xmlns=\"http://www.w3.org/1999/xhtml\" style=\"overflow: visible; padding: 0px; width: 198px; height: 198px; border: 1px solid rgb(0, 0, 0); opacity: 1; \" class=\"Morph CanvasMorph\" id=\"morph-1eb48398-c523-4100-a621-7eb1042fd474\" width=\"198\" height=\"198\"></canvas></div></div><div style=\"top: 0px !important; left: 0px !important; position: absolute !important; margin-top: -1px !important; margin-left: -1px !important; \"><div tabindex=\"-1\" style=\"-webkit-transform: rotate(0deg) scale(1, 1); -webkit-transform-origin: 0px 0px; position: absolute; left: 0px; top: 0px; \"><canvas xmlns=\"http://www.w3.org/1999/xhtml\" style=\"overflow: visible; padding: 0px; width: 198px; height: 198px; border: 1px solid rgb(0, 0, 0); opacity: 1; \" class=\"Morph CanvasMorph\" id=\"morph-1eb48398-c523-4100-a621-7eb1042fd474\" width=\"198\" height=\"198\"></canvas></div></div><div style=\"top: 0px !important; left: 0px !important; position: absolute !important; margin-top: -1px !important; margin-left: -1px !important; \"><div tabindex=\"-1\" style=\"-webkit-transform: rotate(0deg) scale(1, 1); -webkit-transform-origin: 0px 0px; position: absolute; left: 0px; top: 0px; \"><canvas xmlns=\"http://www.w3.org/1999/xhtml\" style=\"overflow: visible; padding: 0px; width: 198px; height: 198px; border: 1px solid rgb(0, 0, 0); opacity: 1; \" class=\"Morph CanvasMorph\" id=\"morph-1eb48398-c523-4100-a621-7eb1042fd474\" width=\"198\" height=\"198\"></canvas></div></div><div style=\"top: 0px !important; left: 0px !important; position: absolute !important; margin-top: -1px !important; margin-left: -1px !important; \"><div tabindex=\"-1\" style=\"-webkit-transform: rotate(0deg) scale(1, 1); -webkit-transform-origin: 0px 0px; position: absolute; left: 0px; top: 0px; \"><canvas xmlns=\"http://www.w3.org/1999/xhtml\" style=\"overflow: visible; padding: 0px; width: 198px; height: 198px; border: 1px solid rgb(0, 0, 0); opacity: 1; \" class=\"Morph CanvasMorph\" id=\"morph-1eb48398-c523-4100-a621-7eb1042fd474\" width=\"198\" height=\"198\"></canvas></div></div><div style=\"top: 0px !important; left: 0px !important; position: absolute !important; margin-top: -1px !important; margin-left: -1px !important; \"><div tabindex=\"-1\" style=\"-webkit-transform: rotate(0deg) scale(1, 1); -webkit-transform-origin: 0px 0px; position: absolute; left: 0px; top: 0px; \"><canvas xmlns=\"http://www.w3.org/1999/xhtml\" style=\"overflow: visible; padding: 0px; width: 198px; height: 198px; border: 1px solid rgb(0, 0, 0); opacity: 1; \" class=\"Morph CanvasMorph\" id=\"morph-1eb48398-c523-4100-a621-7eb1042fd474\" width=\"198\" height=\"198\"></canvas></div></div><div style=\"top: 0px !important; left: 0px !important; position: absolute !important; margin-top: -1px !important; margin-left: -1px !important; \"><div tabindex=\"-1\" style=\"-webkit-transform: rotate(0deg) scale(1, 1); -webkit-transform-origin: 0px 0px; position: absolute; left: 0px; top: 0px; \"><canvas xmlns=\"http://www.w3.org/1999/xhtml\" style=\"overflow: visible; padding: 0px; width: 198px; height: 198px; border: 1px solid rgb(0, 0, 0); opacity: 1; \" class=\"Morph CanvasMorph\" id=\"morph-1eb48398-c523-4100-a621-7eb1042fd474\" width=\"198\" height=\"198\"></canvas></div></div><div style=\"top: 0px !important; left: 0px !important; position: absolute !important; margin-top: -1px !important; margin-left: -1px !important; \"><div tabindex=\"-1\" style=\"-webkit-transform: rotate(0deg) scale(1, 1); -webkit-transform-origin: 0px 0px; position: absolute; left: 0px; top: 0px; \"><canvas xmlns=\"http://www.w3.org/1999/xhtml\" style=\"overflow: visible; padding: 0px; width: 198px; height: 198px; border: 1px solid rgb(0, 0, 0); opacity: 1; \" class=\"Morph CanvasMorph\" id=\"morph-1eb48398-c523-4100-a621-7eb1042fd474\" width=\"198\" height=\"198\"></canvas></div></div><div style=\"top: 0px !important; left: 0px !important; position: absolute !important; margin-top: -1px !important; margin-left: -1px !important; \"><div tabindex=\"-1\" style=\"-webkit-transform: rotate(0deg) scale(1, 1); -webkit-transform-origin: 0px 0px; position: absolute; left: 0px; top: 0px; \"><canvas xmlns=\"http://www.w3.org/1999/xhtml\" style=\"overflow: visible; padding: 0px; width: 198px; height: 198px; border: 1px solid rgb(0, 0, 0); opacity: 1; \" class=\"Morph CanvasMorph\" id=\"morph-1eb48398-c523-4100-a621-7eb1042fd474\" width=\"198\" height=\"198\"></canvas></div></div><div style=\"top: 0px !important; left: 0px !important; position: absolute !important; margin-top: -1px !important; margin-left: -1px !important; \"><div tabindex=\"-1\" style=\"-webkit-transform: rotate(0deg) scale(1, 1); -webkit-transform-origin: 0px 0px; position: absolute; left: 0px; top: 0px; \"><canvas xmlns=\"http://www.w3.org/1999/xhtml\" style=\"overflow: visible; padding: 0px; width: 198px; height: 198px; border: 1px solid rgb(0, 0, 0); opacity: 1; \" class=\"Morph CanvasMorph\" id=\"morph-1eb48398-c523-4100-a621-7eb1042fd474\" width=\"198\" height=\"198\"></canvas></div></div><div style=\"top: 0px !important; left: 0px !important; position: absolute !important; margin-top: -1px !important; margin-left: -1px !important; \"><div tabindex=\"-1\" style=\"-webkit-transform: rotate(0deg) scale(1, 1); -webkit-transform-origin: 0px 0px; position: absolute; left: 0px; top: 0px; \"><canvas xmlns=\"http://www.w3.org/1999/xhtml\" style=\"overflow: visible; padding: 0px; width: 198px; height: 198px; border: 1px solid rgb(0, 0, 0); opacity: 1; \" class=\"Morph CanvasMorph\" id=\"morph-1eb48398-c523-4100-a621-7eb1042fd474\" width=\"198\" height=\"198\"></canvas></div></div></canvas>","_BorderWidth":1,"_BorderRadius":0,"_Opacity":1,"_BorderStyle":"solid","_AppearanceStylingMode":false,"isStyleSheetAppearance":false,"_BorderStylingMode":false,"isStyleSheetBorder":false,"__LivelyClassName__":"lively.morphic.Shapes.External","__SourceModuleName__":"Global.lively.morphic.Shapes","_Extent":"lively.pt(198.0,198.0)","_Padding":"lively.rect(0,0,0,0)","extent":"lively.pt(198.0,198.0)","_BorderColor":"Color.rgb(0,0,0)"},"76":{"morph":{"__isSmartRef__":true,"id":74},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"77":{"partName":"HTMLCanvas","requiredModules":[],"partsSpaceName":"PartsBin/Sandbox","comment":"Interface to an HTML Canvas object.\n\nUse getContext() to get the 2d context.\nThen just use that to draw things.","changes":[{"__isSmartRef__":true,"id":78}],"migrationLevel":4,"revisionOnLoad":177548,"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo","__SourceModuleName__":"Global.lively.PartsBin"},"78":{"__serializedExpressions__":["date"],"author":"bgnauk","message":"no comment","id":"E504CA1C-BE2D-4AB1-AA4C-3CC2BDF1D95A","date":"new Date(\"Thu Aug 09 2012 15:54:00 GMT-0700 (PDT)\")"},"79":{"sourceObj":{"__isSmartRef__":true,"id":74},"sourceAttrName":"sat","targetObj":{"__isSmartRef__":true,"id":0},"targetMethodName":"updateSat","converterString":null,"updaterString":null,"varMapping":{"__isSmartRef__":true,"id":80},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"80":{"source":{"__isSmartRef__":true,"id":74},"target":{"__isSmartRef__":true,"id":0}},"81":{"sourceObj":{"__isSmartRef__":true,"id":74},"sourceAttrName":"brt","targetObj":{"__isSmartRef__":true,"id":0},"targetMethodName":"updateBrt","converterString":null,"updaterString":null,"varMapping":{"__isSmartRef__":true,"id":82},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"82":{"source":{"__isSmartRef__":true,"id":74},"target":{"__isSmartRef__":true,"id":0}},"83":{"morph":{"__isSmartRef__":true,"id":74},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.0,0.0)","cachedGlobalPosition":"lively.pt(181.0,337.0)"},"84":{"morph":{"__isSmartRef__":true,"id":74},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.5,0.0)","cachedGlobalPosition":"lively.pt(281.0,337.0)"},"85":{"morph":{"__isSmartRef__":true,"id":74},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(1.0,0.0)","cachedGlobalPosition":"lively.pt(381.0,337.0)"},"86":{"morph":{"__isSmartRef__":true,"id":74},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(1.0,0.5)","cachedGlobalPosition":"lively.pt(381.0,437.0)"},"87":{"morph":{"__isSmartRef__":true,"id":74},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(1.0,1.0)","cachedGlobalPosition":"lively.pt(381.0,537.0)"},"88":{"morph":{"__isSmartRef__":true,"id":74},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.5,1.0)","cachedGlobalPosition":"lively.pt(281.0,537.0)"},"89":{"morph":{"__isSmartRef__":true,"id":74},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.0,1.0)","cachedGlobalPosition":"lively.pt(181.0,537.0)"},"90":{"morph":{"__isSmartRef__":true,"id":74},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.0,0.5)","cachedGlobalPosition":"lively.pt(181.0,437.0)"},"91":{"updateSat":{"__isSmartRef__":true,"id":92},"updateBrt":{"__isSmartRef__":true,"id":95},"onMouseUp":{"__isSmartRef__":true,"id":98},"drawCrossAtSatBrt":{"__isSmartRef__":true,"id":105},"updateSatBrt":{"__isSmartRef__":true,"id":108},"onDrag":{"__isSmartRef__":true,"id":111},"correctForDragOffset":{"__isSmartRef__":true,"id":118},"onMouseDown":{"__isSmartRef__":true,"id":125}},"92":{"varMapping":{"__isSmartRef__":true,"id":93},"source":"function updateSat(mouseXCoord) {\n    var width = this.getExtent().x,\n        sat= mouseXCoord/ width ;\n    if (sat> 1) { sat= 1; }\n    if (sat< 0) { sat= 0; }\n    this.sat= sat;\n}","funcProperties":{"__isSmartRef__":true,"id":94},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"93":{"this":{"__isSmartRef__":true,"id":74}},"94":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Fri Aug 10 2012 14:20:49 GMT-0700 (PDT)\")"},"95":{"varMapping":{"__isSmartRef__":true,"id":96},"source":"function updateBrt(mouseYCoord) {\n     var height = this.getExtent().y,\n        brt = 1 - (mouseYCoord / height);\n    if (brt > 1) { brt = 1; }\n    if (brt < 0) { brt = 0; }\n    this.brt = brt;\n}","funcProperties":{"__isSmartRef__":true,"id":97},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"96":{"this":{"__isSmartRef__":true,"id":74}},"97":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Fri Aug 10 2012 14:20:39 GMT-0700 (PDT)\")"},"98":{"varMapping":{"__isSmartRef__":true,"id":99},"source":"function onMouseUp(evt) {\n    return this.onDrag(evt);\n}","funcProperties":{"__isSmartRef__":true,"id":104},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"99":{"this":{"__isSmartRef__":true,"id":74},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":100}},"100":{"$super":{"__isSmartRef__":true,"id":101}},"101":{"varMapping":{"__isSmartRef__":true,"id":102},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":103},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"102":{"obj":{"__isSmartRef__":true,"id":74},"name":"onMouseUp"},"103":{},"104":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Fri Aug 10 2012 14:23:02 GMT-0700 (PDT)\")"},"105":{"varMapping":{"__isSmartRef__":true,"id":106},"source":"function drawCrossAtSatBrt(sat, brt) {\n    var ctx = this.getContext(),\n        extent = this.getExtent(),\n        height = extent.y,\n        width = extent.x,\n        x = Math.round(width * sat) + 0.5,\n        y = Math.round(height * (1-brt)) + 0.5,\n        lineLength = 5,\n        margin = 2;\n    //console.log(y);\n    this.clear();\n    if (ctx) {\n        ctx.beginPath();\n        var line = function(x1, y1, x2, y2) {    \n            ctx.moveTo(x1, y1);\n            ctx.lineTo(x2, y2);\n            ctx.lineWidth = 0.5;\n            ctx.strokeStyle = 'black';\n            ctx.stroke();\n        }\n        \n        line(x, y - margin, x, y - margin - lineLength);\n        line(x, y + margin, x, y + margin + lineLength);\n        line(x- margin, y, x - margin - lineLength, y);\n        line(x + margin, y, x + margin + lineLength, y);\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":107},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"106":{"this":{"__isSmartRef__":true,"id":74}},"107":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Fri Aug 10 2012 11:40:39 GMT-0700 (PDT)\")"},"108":{"varMapping":{"__isSmartRef__":true,"id":109},"source":"function updateSatBrt(sat, brt) {\n    this.updateSat(sat);\n    this.updateBrt(brt);\n    this.drawCrossAtSatBrt(this.sat, this.brt);\n}","funcProperties":{"__isSmartRef__":true,"id":110},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"109":{"this":{"__isSmartRef__":true,"id":74}},"110":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Thu Aug 09 2012 18:21:50 GMT-0700 (PDT)\")"},"111":{"varMapping":{"__isSmartRef__":true,"id":112},"source":"function onDrag(evt) {\n    this.updateSatBrt(evt.getPositionIn(this).x, evt.getPositionIn(this).y);\n    evt.stop(); return true;\n}","funcProperties":{"__isSmartRef__":true,"id":117},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"112":{"this":{"__isSmartRef__":true,"id":74},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":113}},"113":{"$super":{"__isSmartRef__":true,"id":114}},"114":{"varMapping":{"__isSmartRef__":true,"id":115},"source":"function () {\n                    try {\n                        return Object.getPrototypeOf(obj)[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":116},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"115":{"obj":{"__isSmartRef__":true,"id":74},"name":"onDrag"},"116":{},"117":{"__serializedExpressions__":["timestamp"],"user":"robertkrahn","tags":[],"timestamp":"new Date(\"Tue Apr 01 2014 18:22:00 GMT-0700 (PDT)\")"},"118":{"varMapping":{"__isSmartRef__":true,"id":119},"source":"function correctForDragOffset() { return false }","funcProperties":{"__isSmartRef__":true,"id":124},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"119":{"this":{"__isSmartRef__":true,"id":74},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":120}},"120":{"$super":{"__isSmartRef__":true,"id":121}},"121":{"varMapping":{"__isSmartRef__":true,"id":122},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":123},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"122":{"obj":{"__isSmartRef__":true,"id":74},"name":"correctForDragOffset"},"123":{},"124":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Fri Aug 10 2012 14:17:01 GMT-0700 (PDT)\")"},"125":{"varMapping":{"__isSmartRef__":true,"id":126},"source":"function onMouseDown(evt) {\n    return this.onDrag(evt);\n}","funcProperties":{"__isSmartRef__":true,"id":131},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"126":{"this":{"__isSmartRef__":true,"id":74},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":127}},"127":{"$super":{"__isSmartRef__":true,"id":128}},"128":{"varMapping":{"__isSmartRef__":true,"id":129},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":130},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"129":{"obj":{"__isSmartRef__":true,"id":74},"name":"onMouseDown"},"130":{},"131":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Fri Aug 10 2012 14:23:20 GMT-0700 (PDT)\")"},"132":{"sourceObj":{"__isSmartRef__":true,"id":68},"sourceAttrName":"hue","targetObj":{"__isSmartRef__":true,"id":7},"targetMethodName":"updateHue","converterString":null,"updaterString":null,"varMapping":{"__isSmartRef__":true,"id":133},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"133":{"source":{"__isSmartRef__":true,"id":68},"target":{"__isSmartRef__":true,"id":7}},"134":{"morph":{"__isSmartRef__":true,"id":68},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.0,0.0)","cachedGlobalPosition":"lively.pt(391.0,337.0)"},"135":{"morph":{"__isSmartRef__":true,"id":68},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.5,0.0)","cachedGlobalPosition":"lively.pt(406.0,337.0)"},"136":{"morph":{"__isSmartRef__":true,"id":68},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(1.0,0.0)","cachedGlobalPosition":"lively.pt(421.0,337.0)"},"137":{"morph":{"__isSmartRef__":true,"id":68},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(1.0,0.5)","cachedGlobalPosition":"lively.pt(421.0,437.0)"},"138":{"morph":{"__isSmartRef__":true,"id":68},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(1.0,1.0)","cachedGlobalPosition":"lively.pt(421.0,537.0)"},"139":{"morph":{"__isSmartRef__":true,"id":68},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.5,1.0)","cachedGlobalPosition":"lively.pt(406.0,537.0)"},"140":{"morph":{"__isSmartRef__":true,"id":68},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.0,1.0)","cachedGlobalPosition":"lively.pt(391.0,537.0)"},"141":{"morph":{"__isSmartRef__":true,"id":68},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.0,0.5)","cachedGlobalPosition":"lively.pt(391.0,437.0)"},"142":{"draw":{"__isSmartRef__":true,"id":143},"prepareForNewRenderContext":{"__isSmartRef__":true,"id":146}},"143":{"varMapping":{"__isSmartRef__":true,"id":144},"source":"function draw() {\n    var canvas = this,\n        ctx = canvas.getContext(),\n        bounds = canvas.getExtent(),\n        width = bounds.x,\n        height = bounds.y,\n        pixel = ctx.createImageData(1,1);\n        \n    var hslToRgb = function(h, s, l){\n        var r, g, b;\n\n        if(s == 0){\n            r = g = b = l; // achromatic\n        }else{\n            function hue2rgb(p, q, t){\n                if(t < 0) t += 1;\n                if(t > 1) t -= 1;\n                if(t < 1/6) return p + (q - p) * 6 * t;\n                if(t < 1/2) return q;\n                if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n                return p;\n            }\n\n            var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n            var p = 2 * l - q;\n            r = hue2rgb(p, q, h + 1/3);\n            g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h -     1/3);\n        }\n    var r = [r * 255, g * 255, b * 255];\n    \n    for (var i = 0; i < r.length; i ++) {\n        r[i] = Math.round(r[i]);    \n    }\n    return r;\n}\n    \n    for (var x = 0; x < width; x++) {\n        for (var y = 0; y < height; y++) {\n            var hue = (y / height),\n                sat = 1,\n                brt = 0.5,\n                alpha = 1,\n                color = hslToRgb(hue, sat, brt);\n            ctx.fillStyle = 'rgba(' + color[0] + ',' +color[1] + ',' + color[2] + ',' + alpha+')';\n            ctx.fillRect(x, y, 1, 1);\n        }\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":145},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"144":{"this":{"__isSmartRef__":true,"id":68}},"145":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Thu Aug 09 2012 17:13:40 GMT-0700 (PDT)\")"},"146":{"varMapping":{"__isSmartRef__":true,"id":147},"source":"function prepareForNewRenderContext(renderCtx) {\n    $super(renderCtx);\n    this.draw();\n}","funcProperties":{"__isSmartRef__":true,"id":152},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"147":{"this":{"__isSmartRef__":true,"id":68},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":148}},"148":{"$super":{"__isSmartRef__":true,"id":149}},"149":{"varMapping":{"__isSmartRef__":true,"id":150},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":151},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"150":{"obj":{"__isSmartRef__":true,"id":68},"name":"prepareForNewRenderContext"},"151":{},"152":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Fri Aug 10 2012 11:31:02 GMT-0700 (PDT)\")"},"153":{"submorphs":[],"scripts":[],"id":"7644D8C9-2E5D-422E-B9DF-503681660CDC","shape":{"__isSmartRef__":true,"id":154},"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"fixedWidth":true,"fixedHeight":false,"allowsInput":true,"_FontFamily":"Arial, sans-serif","registeredForMouseEvents":true,"__serializedExpressions__":["_Position","textColor","_Padding","distanceToDragEvent"],"_MaxTextWidth":122.928,"showsHalos":false,"_FontSize":8,"name":"RGBValue","partsBinMetaInfo":{"__isSmartRef__":true,"id":155},"textChunks":[{"__isSmartRef__":true,"id":161}],"charsReplaced":"D55AB7","lastFindLoc":6,"prevScroll":[0,0],"eventHandler":{"__isSmartRef__":true,"id":163},"_ClipMode":"visible","derivationIds":[355,"1EB1674F-8BF2-419B-B054-86129ED70335","63698904-DC05-4341-A9B6-5CC4A219CD04","F6A714BA-4735-41ED-8A2A-45CB153FBDF8","5DA095A9-0B0A-42C8-8D94-2F4932D0C071","777FFD37-BA2A-44EF-A524-17E3E3A9B023","702BDBD1-500F-4B8F-9606-BAA004CEC19F","E60FDBE2-C044-4F70-AFA1-60FC26A5ECD6","7FF91F75-012A-40D8-A282-475B40D198D9","4FB4BA32-03C4-4281-B633-5FD72FD9CA49"],"_WhiteSpaceHandling":"pre-wrap","_MinTextWidth":122.928,"isBeingDragged":false,"moved":true,"owner":{"__isSmartRef__":true,"id":0},"_Visible":true,"attributeConnections":[{"__isSmartRef__":true,"id":164}],"doNotSerialize":["$$textString"],"doNotCopyProperties":["$$textString"],"previousSelection":[0,6],"textString":"CC0000","_Rotation":0,"_Scale":1,"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_Position":"lively.pt(101.0,227.0)","textColor":"Color.rgb(0,0,0)","_Padding":"lively.rect(5,5,0,0)","distanceToDragEvent":"lively.pt(60.0,-11.0)"},"154":{"fill":null,"__serializedExpressions__":["_Position","_Extent","_BorderColor","_Padding","_Fill"],"_BorderWidth":1.036,"_ClipMode":"visible","_BorderRadius":0,"_Opacity":1,"_BorderStyle":"ridge","_AppearanceStylingMode":false,"isStyleSheetAppearance":false,"_BorderStylingMode":false,"isStyleSheetBorder":false,"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(150.0,18.1)","_BorderColor":"Color.rgb(0,0,0)","_Padding":"lively.rect(4,2,0,0)","_Fill":"Color.rgb(214,214,214)"},"155":{"partsSpaceName":"PartsBin/Basic","migrationLevel":4,"comment":"a simple text morph","partName":"Text","changes":[{"__isSmartRef__":true,"id":156},{"__isSmartRef__":true,"id":157},{"__isSmartRef__":true,"id":158},{"__isSmartRef__":true,"id":159},{"__isSmartRef__":true,"id":160}],"revisionOnLoad":160159,"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo","__SourceModuleName__":"Global.lively.PartsBin"},"156":{"__serializedExpressions__":["date"],"author":"robertkrahn","message":"text click was broken?","id":"9D065E14-9653-4B2A-9A2E-3AD84EBBC3E0","date":"new Date(\"Sat Apr 21 2012 07:30:30 GMT-0700 (PDT)\")"},"157":{"__serializedExpressions__":["date"],"author":"undefined","message":"Set the inset as: this.setPadding(Rectangle.inset(4,2)).  This gives it a more pleasing appearance with a border, and also makes it easier to select near the bounds.","id":"BD5B0E4C-4830-4863-A013-35BB66D5AD6F","date":"new Date(\"Sun Feb 26 2012 21:20:38 GMT-0800 (PST)\")"},"158":{"__serializedExpressions__":["date"],"author":"tessi","message":"TextBubble calls its disappear() function after showBubbleTime() milliseconds now","id":"0F4DE333-A551-4961-B29D-70270977EBEF","date":"new Date(\"Fri Apr 20 2012 22:31:43 GMT-0700 (PDT)\")"},"159":{"__serializedExpressions__":["date"],"author":"tessi","message":"TextBubble calls its disappear() function after showBubbleTime() milliseconds now","id":"785D95BD-7858-43EB-90E6-A1C085E2F2B9","date":"new Date(\"Fri Apr 20 2012 22:32:09 GMT-0700 (PDT)\")"},"160":{"__serializedExpressions__":["date"],"author":"timfelgentreff","message":"better text","id":"B904F9AC-6EA0-4A8A-83C9-AFC85AADC194","date":"new Date(\"Tue May 08 2012 05:18:18 GMT-0700 (PDT)\")"},"161":{"style":{"__isSmartRef__":true,"id":162},"chunkOwner":{"__isSmartRef__":true,"id":153},"_id":"_7685","storedString":"CC0000","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"162":{"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"163":{"morph":{"__isSmartRef__":true,"id":153},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"164":{"sourceObj":{"__isSmartRef__":true,"id":153},"sourceAttrName":"textString","targetObj":{"__isSmartRef__":true,"id":0},"targetMethodName":"updateColorFromString","converterString":null,"updaterString":null,"varMapping":{"__isSmartRef__":true,"id":165},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"165":{"source":{"__isSmartRef__":true,"id":153},"target":{"__isSmartRef__":true,"id":0}},"166":{"submorphs":[],"scripts":[],"id":"674277C3-657E-4040-9AD7-7C8C58C8574C","shape":{"__isSmartRef__":true,"id":167},"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"fixedWidth":true,"fixedHeight":false,"allowsInput":true,"_FontFamily":"Arial, sans-serif","registeredForMouseEvents":true,"__serializedExpressions__":["_Position","textColor","_Padding","distanceToDragEvent"],"_MaxTextWidth":92,"showsHalos":false,"_FontSize":8,"name":"Text","partsBinMetaInfo":{"__isSmartRef__":true,"id":168},"textChunks":[{"__isSmartRef__":true,"id":174}],"charsReplaced":"Some Text","lastFindLoc":9,"prevScroll":[0,0],"eventHandler":{"__isSmartRef__":true,"id":176},"_ClipMode":"visible","derivationIds":[355,"1EB1674F-8BF2-419B-B054-86129ED70335","63698904-DC05-4341-A9B6-5CC4A219CD04","F6A714BA-4735-41ED-8A2A-45CB153FBDF8","393399C8-7EC5-457B-B090-023B1802EF42","2F3F8BF6-2053-4E92-9D86-01C6C3D48E3B","C489C2B5-6B04-41E4-B04F-90FF4A93ED0A","E6D9617C-C2F9-4FAC-BF6C-8E6CDBA779DD","8A698906-D15A-467D-9C0B-7B7071E3552D","DBDB7CA0-8335-4404-9D57-486836B16835"],"_WhiteSpaceHandling":"pre-wrap","_MinTextWidth":92,"isBeingDragged":false,"moved":true,"owner":{"__isSmartRef__":true,"id":0},"_Visible":true,"previousSelection":[3,3],"_Rotation":0,"_Scale":1,"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_Position":"lively.pt(10.0,230.0)","textColor":"Color.rgb(0,0,0)","_Padding":"lively.rect(5,5,0,0)","distanceToDragEvent":"lively.pt(94.0,-12.0)"},"167":{"fill":null,"__serializedExpressions__":["_Position","_Extent","_BorderColor","_Padding"],"_BorderWidth":0,"_ClipMode":"visible","__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(92.0,12.0)","_BorderColor":"Color.rgb(0,0,0)","_Padding":"lively.rect(0,0,0,0)"},"168":{"partsSpaceName":"PartsBin/Basic","migrationLevel":4,"comment":"a simple text morph","partName":"Text","changes":[{"__isSmartRef__":true,"id":169},{"__isSmartRef__":true,"id":170},{"__isSmartRef__":true,"id":171},{"__isSmartRef__":true,"id":172},{"__isSmartRef__":true,"id":173}],"revisionOnLoad":160159,"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo","__SourceModuleName__":"Global.lively.PartsBin"},"169":{"__serializedExpressions__":["date"],"author":"robertkrahn","message":"text click was broken?","id":"9D065E14-9653-4B2A-9A2E-3AD84EBBC3E0","date":"new Date(\"Sat Apr 21 2012 07:30:30 GMT-0700 (PDT)\")"},"170":{"__serializedExpressions__":["date"],"author":"undefined","message":"Set the inset as: this.setPadding(Rectangle.inset(4,2)).  This gives it a more pleasing appearance with a border, and also makes it easier to select near the bounds.","id":"BD5B0E4C-4830-4863-A013-35BB66D5AD6F","date":"new Date(\"Sun Feb 26 2012 21:20:38 GMT-0800 (PST)\")"},"171":{"__serializedExpressions__":["date"],"author":"tessi","message":"TextBubble calls its disappear() function after showBubbleTime() milliseconds now","id":"0F4DE333-A551-4961-B29D-70270977EBEF","date":"new Date(\"Fri Apr 20 2012 22:31:43 GMT-0700 (PDT)\")"},"172":{"__serializedExpressions__":["date"],"author":"tessi","message":"TextBubble calls its disappear() function after showBubbleTime() milliseconds now","id":"785D95BD-7858-43EB-90E6-A1C085E2F2B9","date":"new Date(\"Fri Apr 20 2012 22:32:09 GMT-0700 (PDT)\")"},"173":{"__serializedExpressions__":["date"],"author":"timfelgentreff","message":"better text","id":"B904F9AC-6EA0-4A8A-83C9-AFC85AADC194","date":"new Date(\"Tue May 08 2012 05:18:18 GMT-0700 (PDT)\")"},"174":{"style":{"__isSmartRef__":true,"id":175},"morph":{"__isSmartRef__":true,"id":166},"chunkOwner":{"__isSmartRef__":true,"id":166},"storedString":"RGB Hex value:","_id":"_182","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"175":{"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"176":{"morph":{"__isSmartRef__":true,"id":166},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"177":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":178},"eventHandler":{"__isSmartRef__":true,"id":179},"_ClipMode":"visible","derivationIds":["8BBA25FF-3A0E-4E03-ADC0-00485155BEDC","BB7C09DC-DA30-4FAE-8A56-8A903D4ADC61","99ED531D-F5DE-446A-9CCF-58561F1DFCE9","0A3A446E-C2FB-4AA1-BF08-7E4BB7EAF751","9C893DD1-BF34-44B7-B846-0ABF9BDDC3D7","C2A4FB03-22CB-4ADA-A919-508932A35E34","F9755E5C-0BDF-4092-9E9B-C810A091E252","9A79AD60-26B0-42D0-84AC-0B85B0BF540E"],"id":"2E704515-F892-4022-B8AB-D1B17C628084","droppingEnabled":true,"halosEnabled":true,"showsHalos":false,"__serializedExpressions__":["_Position","distanceToDragEvent"],"partsBinMetaInfo":{"__isSmartRef__":true,"id":180},"name":"HueSelectorField","isBeingDragged":false,"draggingEnabled":true,"grabbingEnabled":false,"attributeConnections":[{"__isSmartRef__":true,"id":182},{"__isSmartRef__":true,"id":184}],"doNotSerialize":["$$hue"],"doNotCopyProperties":["$$hue"],"hue":0,"mouseIsDown":false,"magnets":[{"__isSmartRef__":true,"id":186},{"__isSmartRef__":true,"id":187},{"__isSmartRef__":true,"id":188},{"__isSmartRef__":true,"id":189},{"__isSmartRef__":true,"id":190},{"__isSmartRef__":true,"id":191},{"__isSmartRef__":true,"id":192},{"__isSmartRef__":true,"id":193}],"owner":{"__isSmartRef__":true,"id":0},"_Rotation":0,"_Scale":1,"_adaptCanvasSizeHTMLInProgress":false,"_canvasSerializationDataURI":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAC+CAYAAAAiLL9MAAAA2klEQVR4Xu3UIQ7AIBQFwXLyXr0CFH6/6dTgSrIZ3nr2955z7FhjN10XuXisvNRSZwXgytLeP5Za6qwAXFla7xguuLICcGVpLRdccGUF4MrSWi644MoKwJWltVxwwZUVgCtLa7nggisrAFeW1nLBBVdWAK4sreWCC66sAFxZWssFF1xZAbiytJYLLriyAnBlaS0XXHBlBeDK0louuODKCsCVpbVccMGVFYArS2u54IIrKwBXltZywQVXVgCuLK3lgguurABcWVrLBRdcWQG4srSWCy64sgL/w/UBZ/MBPvnlQ2MAAAAASUVORK5CYII=","__serializedLivelyClosures__":{"__isSmartRef__":true,"id":194},"__LivelyClassName__":"lively.morphic.CanvasMorph","__SourceModuleName__":"Global.lively.morphic.AdditionalMorphs","withoutLayers":["Global.lively.morphic.GrabbingLayer"],"_Position":"lively.pt(220.0,10.0)","distanceToDragEvent":"lively.pt(39.0,-14.0)"},"178":{"_NodeClass":["Morph","CanvasMorph"],"__serializedExpressions__":["_Extent","_Padding","extent","_BorderColor"],"stringifiedShapeNode":"<canvas xmlns=\"http://www.w3.org/1999/xhtml\" style=\"overflow: visible; padding: 0px; width: 30px; height: 190px; border: 0px solid rgb(0, 0, 0); opacity: 1;\" class=\"Morph CanvasMorph\" id=\"null\" width=\"30\" height=\"190\" data-lively-morphid=\"2E704515-F892-4022-B8AB-D1B17C628084\"></canvas>","_BorderWidth":0,"_BorderRadius":0,"_Opacity":1,"_BorderStyle":"solid","_AppearanceStylingMode":false,"isStyleSheetAppearance":false,"_BorderStylingMode":false,"isStyleSheetBorder":false,"__LivelyClassName__":"lively.morphic.Shapes.External","__SourceModuleName__":"Global.lively.morphic.Shapes","_Extent":"lively.pt(30.0,190.0)","_Padding":"lively.rect(0,0,0,0)","extent":"lively.pt(30.0,190.0)","_BorderColor":"Color.rgb(0,0,0)"},"179":{"morph":{"__isSmartRef__":true,"id":177},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"180":{"partName":"HTMLCanvas","requiredModules":[],"partsSpaceName":"PartsBin/Sandbox","comment":"Interface to an HTML Canvas object.\n\nUse getContext() to get the 2d context.\nThen just use that to draw things.","changes":[{"__isSmartRef__":true,"id":181}],"migrationLevel":4,"revisionOnLoad":177548,"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo","__SourceModuleName__":"Global.lively.PartsBin"},"181":{"__serializedExpressions__":["date"],"author":"bgnauk","message":"no comment","id":"E504CA1C-BE2D-4AB1-AA4C-3CC2BDF1D95A","date":"new Date(\"Thu Aug 09 2012 15:54:00 GMT-0700 (PDT)\")"},"182":{"sourceObj":{"__isSmartRef__":true,"id":177},"sourceAttrName":"hue","targetObj":{"__isSmartRef__":true,"id":1},"targetMethodName":"draw","converterString":null,"updaterString":null,"varMapping":{"__isSmartRef__":true,"id":183},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"183":{"source":{"__isSmartRef__":true,"id":177},"target":{"__isSmartRef__":true,"id":1}},"184":{"sourceObj":{"__isSmartRef__":true,"id":177},"sourceAttrName":"hue","targetObj":{"__isSmartRef__":true,"id":0},"targetMethodName":"updateHue","converterString":null,"updaterString":null,"varMapping":{"__isSmartRef__":true,"id":185},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"185":{"source":{"__isSmartRef__":true,"id":177},"target":{"__isSmartRef__":true,"id":0}},"186":{"morph":{"__isSmartRef__":true,"id":177},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.0,0.0)","cachedGlobalPosition":"lively.pt(391.0,337.0)"},"187":{"morph":{"__isSmartRef__":true,"id":177},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.5,0.0)","cachedGlobalPosition":"lively.pt(406.0,337.0)"},"188":{"morph":{"__isSmartRef__":true,"id":177},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(1.0,0.0)","cachedGlobalPosition":"lively.pt(421.0,337.0)"},"189":{"morph":{"__isSmartRef__":true,"id":177},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(1.0,0.5)","cachedGlobalPosition":"lively.pt(421.0,437.0)"},"190":{"morph":{"__isSmartRef__":true,"id":177},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(1.0,1.0)","cachedGlobalPosition":"lively.pt(421.0,537.0)"},"191":{"morph":{"__isSmartRef__":true,"id":177},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.5,1.0)","cachedGlobalPosition":"lively.pt(406.0,537.0)"},"192":{"morph":{"__isSmartRef__":true,"id":177},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.0,1.0)","cachedGlobalPosition":"lively.pt(391.0,537.0)"},"193":{"morph":{"__isSmartRef__":true,"id":177},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.0,0.5)","cachedGlobalPosition":"lively.pt(391.0,437.0)"},"194":{"drawLineAtHue":{"__isSmartRef__":true,"id":195},"updateHue":{"__isSmartRef__":true,"id":198},"onDrag":{"__isSmartRef__":true,"id":201},"onMouseUp":{"__isSmartRef__":true,"id":208},"onMouseDown":{"__isSmartRef__":true,"id":215},"correctForDragOffset":{"__isSmartRef__":true,"id":222}},"195":{"varMapping":{"__isSmartRef__":true,"id":196},"source":"function drawLineAtHue(hue) {\n    var ctx = this.getContext(),\n        height = this.getExtent().y,\n        y = Math.round(height * hue) + 0.5;\n    //console.log(y);\n    this.clear();\n    \n    if(ctx) {\n        ctx.beginPath();\n        ctx.moveTo(1, y);\n        ctx.lineTo(this.getExtent().x, y);\n        ctx.lineWidth = 0.5;\n        ctx.strokeStyle = 'black';\n        ctx.stroke();\n    }\n    \n}","funcProperties":{"__isSmartRef__":true,"id":197},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"196":{"this":{"__isSmartRef__":true,"id":177}},"197":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Fri Aug 10 2012 11:39:46 GMT-0700 (PDT)\")"},"198":{"varMapping":{"__isSmartRef__":true,"id":199},"source":"function updateHue(mouseYCoord) {\n    var height = this.getExtent().y,\n        hue = mouseYCoord / height;\n    if (hue> 1) { hue= 1; }\n    if (hue< 0) { hue= 0; }\n    this.hue = hue;\n    this.drawLineAtHue(hue);\n}","funcProperties":{"__isSmartRef__":true,"id":200},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"199":{"this":{"__isSmartRef__":true,"id":177}},"200":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Fri Aug 10 2012 14:21:11 GMT-0700 (PDT)\")"},"201":{"varMapping":{"__isSmartRef__":true,"id":202},"source":"function onDrag(evt) {\n    this.updateHue(evt.getPositionIn(this).y);\n}","funcProperties":{"__isSmartRef__":true,"id":207},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"202":{"this":{"__isSmartRef__":true,"id":177},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":203}},"203":{"$super":{"__isSmartRef__":true,"id":204}},"204":{"varMapping":{"__isSmartRef__":true,"id":205},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":206},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"205":{"obj":{"__isSmartRef__":true,"id":177},"name":"onDrag"},"206":{},"207":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Fri Aug 10 2012 14:21:33 GMT-0700 (PDT)\")"},"208":{"varMapping":{"__isSmartRef__":true,"id":209},"source":"function onMouseUp(evt) {\n    return this.onDrag(evt);\n}","funcProperties":{"__isSmartRef__":true,"id":214},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"209":{"this":{"__isSmartRef__":true,"id":177},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":210}},"210":{"$super":{"__isSmartRef__":true,"id":211}},"211":{"varMapping":{"__isSmartRef__":true,"id":212},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":213},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"212":{"obj":{"__isSmartRef__":true,"id":177},"name":"onMouseUp"},"213":{},"214":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Fri Aug 10 2012 14:23:08 GMT-0700 (PDT)\")"},"215":{"varMapping":{"__isSmartRef__":true,"id":216},"source":"function onMouseDown(evt) {\n    return this.onDrag(evt);\n}","funcProperties":{"__isSmartRef__":true,"id":221},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"216":{"this":{"__isSmartRef__":true,"id":177},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":217}},"217":{"$super":{"__isSmartRef__":true,"id":218}},"218":{"varMapping":{"__isSmartRef__":true,"id":219},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":220},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"219":{"obj":{"__isSmartRef__":true,"id":177},"name":"onMouseDown"},"220":{},"221":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Fri Aug 10 2012 14:23:27 GMT-0700 (PDT)\")"},"222":{"varMapping":{"__isSmartRef__":true,"id":223},"source":"function correctForDragOffset() { return false }","funcProperties":{"__isSmartRef__":true,"id":228},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"223":{"this":{"__isSmartRef__":true,"id":177},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":224}},"224":{"$super":{"__isSmartRef__":true,"id":225}},"225":{"varMapping":{"__isSmartRef__":true,"id":226},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":227},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"226":{"obj":{"__isSmartRef__":true,"id":177},"name":"correctForDragOffset"},"227":{},"228":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Fri Aug 10 2012 15:49:07 GMT-0700 (PDT)\")"},"229":{"submorphs":[{"__isSmartRef__":true,"id":230}],"scripts":[],"id":"D247D350-D6DE-4420-B0A3-1638227F7A04","shape":{"__isSmartRef__":true,"id":233},"droppingEnabled":true,"halosEnabled":true,"__serializedExpressions__":["_Position","distanceToDragEvent"],"attributeConnections":[{"__isSmartRef__":true,"id":234},{"__isSmartRef__":true,"id":235}],"doNotSerialize":["$$value"],"doNotCopyProperties":["$$value"],"value":1,"sliderExtent":0.1,"valueScale":1,"sliderKnob":{"__isSmartRef__":true,"id":230},"styleClass":["slider_background_horizontal"],"showsHalos":false,"name":"AlphaSlider","partsBinMetaInfo":{"__isSmartRef__":true,"id":236},"eventHandler":{"__isSmartRef__":true,"id":237},"layout":{"__isSmartRef__":true,"id":238},"derivationIds":[2631,"5BEA0B90-CFB2-427B-AEFB-3401980B251F","B0282946-3057-4870-AFBD-BC85AB5B7004","F312D7A3-DC56-414C-8B1D-9436C3586241","F04AF4D3-C6E2-497B-92DA-F6AD3649CC44","FA0FD776-F239-4F03-AF55-A5186AD9BD15","8847394D-F321-47F6-895E-FF3F23B53F9F"],"_ClipMode":"visible","owner":{"__isSmartRef__":true,"id":0},"_Rotation":0,"_Scale":1,"__LivelyClassName__":"lively.morphic.Slider","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(100.0,260.0)","distanceToDragEvent":"lively.pt(110.0,-12.0)"},"230":{"submorphs":[],"scripts":[],"id":"35CE3428-1AAC-4475-BBFC-AAD28D2D95CE","shape":{"__isSmartRef__":true,"id":231},"droppingEnabled":true,"halosEnabled":true,"draggingEnabled":true,"__serializedExpressions__":["_Position","hitPoint"],"slider":{"__isSmartRef__":true,"id":229},"owner":{"__isSmartRef__":true,"id":229},"styleClass":["slider_horizontal"],"eventHandler":{"__isSmartRef__":true,"id":232},"derivationIds":[2632,"1336AC22-E659-46EB-AC39-8C6200EB7D49","D32BAB1C-927C-4CC2-B63D-84EFA6D36DF1","7AD6C693-30D0-44A3-A152-F33664FBE9B6","CC357EBD-8667-4357-9F95-5C6B1BE96172","84ACD736-0EF5-42DB-ADDF-4984858E811A","20F8DE2E-BAB2-4DEE-AFA7-0485F39C3050"],"_ClipMode":"visible","isBeingDragged":false,"__LivelyClassName__":"lively.morphic.SliderKnob","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(135.0,0.0)","hitPoint":"lively.pt(787.0,392.0)"},"231":{"__serializedExpressions__":["position","_Extent","_BorderColor","_Fill","_Padding"],"_BorderWidth":1,"_BorderRadius":6,"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(15.0,20.0)","_BorderColor":"Color.rgb(102,102,102)","_Fill":"lively.morphic.Gradient.create({\n  stops: [{\n    color: Color.rgb(196,211,221),\n    offset: 0\n  },{\n    color: Color.rgb(137,167,187),\n    offset: 0.5\n  },{\n    color: Color.rgb(96,130,153),\n    offset: 1\n  }],\n  type: \"linear\",\n  vector: lively.rect(0,0,0,1)\n})","_Padding":"lively.rect(0,0,0,0)"},"232":{"morph":{"__isSmartRef__":true,"id":230},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"233":{"__serializedExpressions__":["position","_Extent","_BorderColor","_Fill","_Padding"],"_BorderWidth":1,"_BorderRadius":6,"_Opacity":1,"_BorderStyle":"solid","__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(150.0,20.0)","_BorderColor":"Color.rgb(192,192,192)","_Fill":"lively.morphic.Gradient.create({\n  stops: [{\n    color: Color.rgb(204,204,204),\n    offset: 0\n  },{\n    color: Color.rgb(240,240,240),\n    offset: 0.4\n  },{\n    color: Color.rgb(245,245,245),\n    offset: 1\n  }],\n  type: \"linear\",\n  vector: lively.rect(0,0,0,1)\n})","_Padding":"lively.rect(0,0,0,0)"},"234":{"sourceObj":{"__isSmartRef__":true,"id":229},"sourceAttrName":"value","targetObj":{"__isSmartRef__":true,"id":229},"targetMethodName":"adjustSliderParts","__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"235":{"sourceObj":{"__isSmartRef__":true,"id":229},"sourceAttrName":"value","targetObj":{"__isSmartRef__":true,"id":0},"targetMethodName":"updateAlpha","__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"236":{"requiredModules":[],"partsSpaceName":"PartsBin/Inputs","migrationLevel":2,"partName":"Slider","comment":"The connection point \"value\" can be used to read/write the slider knob position.","revisionOnLoad":148695,"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo","__SourceModuleName__":"Global.lively.PartsBin"},"237":{"morph":{"__isSmartRef__":true,"id":229},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"238":{},"239":{"submorphs":[],"scripts":[],"id":"281A90E5-52B5-4D01-9A64-3A29E838D703","shape":{"__isSmartRef__":true,"id":240},"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"fixedWidth":true,"fixedHeight":false,"allowsInput":true,"_FontFamily":"Arial, sans-serif","registeredForMouseEvents":true,"__serializedExpressions__":["_Position","textColor","_Padding","distanceToDragEvent"],"_MaxTextWidth":77,"showsHalos":false,"_FontSize":8,"name":"Text1","partsBinMetaInfo":{"__isSmartRef__":true,"id":241},"textChunks":[{"__isSmartRef__":true,"id":247}],"charsReplaced":"RGB ","lastFindLoc":4,"prevScroll":[0,0],"eventHandler":{"__isSmartRef__":true,"id":249},"_ClipMode":"visible","derivationIds":[355,"1EB1674F-8BF2-419B-B054-86129ED70335","63698904-DC05-4341-A9B6-5CC4A219CD04","F6A714BA-4735-41ED-8A2A-45CB153FBDF8","393399C8-7EC5-457B-B090-023B1802EF42","AE6F3B07-555D-404A-995F-AAA1EB79474B","1F879F0B-A9BB-40DF-A126-32A3272ED4CB","E177D50F-16E8-47B5-8CAD-255BCEE7A728","1BE213DF-89A2-4786-AACD-D1717E1F5B4C","75E7FA34-F523-4C87-AD13-AB5249C1427A","BA3FDE49-B53E-4B98-A1BC-AD09B824D3BF"],"_WhiteSpaceHandling":"pre-wrap","_MinTextWidth":77,"isBeingDragged":false,"moved":true,"_Visible":true,"owner":{"__isSmartRef__":true,"id":0},"_Rotation":0,"_Scale":1,"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_Position":"lively.pt(10.0,262.0)","textColor":"Color.rgb(0,0,0)","_Padding":"lively.rect(5,5,0,0)","distanceToDragEvent":"lively.pt(52.0,-12.0)"},"240":{"fill":null,"__serializedExpressions__":["_Position","_Extent","_BorderColor","_Padding"],"_BorderWidth":0,"_ClipMode":"visible","__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(77.0,12.0)","_BorderColor":"Color.rgb(0,0,0)","_Padding":"lively.rect(0,0,0,0)"},"241":{"partsSpaceName":"PartsBin/Basic","migrationLevel":4,"comment":"a simple text morph","partName":"Text","changes":[{"__isSmartRef__":true,"id":242},{"__isSmartRef__":true,"id":243},{"__isSmartRef__":true,"id":244},{"__isSmartRef__":true,"id":245},{"__isSmartRef__":true,"id":246}],"revisionOnLoad":160159,"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo","__SourceModuleName__":"Global.lively.PartsBin"},"242":{"__serializedExpressions__":["date"],"author":"robertkrahn","message":"text click was broken?","id":"9D065E14-9653-4B2A-9A2E-3AD84EBBC3E0","date":"new Date(\"Sat Apr 21 2012 07:30:30 GMT-0700 (PDT)\")"},"243":{"__serializedExpressions__":["date"],"author":"undefined","message":"Set the inset as: this.setPadding(Rectangle.inset(4,2)).  This gives it a more pleasing appearance with a border, and also makes it easier to select near the bounds.","id":"BD5B0E4C-4830-4863-A013-35BB66D5AD6F","date":"new Date(\"Sun Feb 26 2012 21:20:38 GMT-0800 (PST)\")"},"244":{"__serializedExpressions__":["date"],"author":"tessi","message":"TextBubble calls its disappear() function after showBubbleTime() milliseconds now","id":"0F4DE333-A551-4961-B29D-70270977EBEF","date":"new Date(\"Fri Apr 20 2012 22:31:43 GMT-0700 (PDT)\")"},"245":{"__serializedExpressions__":["date"],"author":"tessi","message":"TextBubble calls its disappear() function after showBubbleTime() milliseconds now","id":"785D95BD-7858-43EB-90E6-A1C085E2F2B9","date":"new Date(\"Fri Apr 20 2012 22:32:09 GMT-0700 (PDT)\")"},"246":{"__serializedExpressions__":["date"],"author":"timfelgentreff","message":"better text","id":"B904F9AC-6EA0-4A8A-83C9-AFC85AADC194","date":"new Date(\"Tue May 08 2012 05:18:18 GMT-0700 (PDT)\")"},"247":{"style":{"__isSmartRef__":true,"id":248},"morph":{"__isSmartRef__":true,"id":239},"chunkOwner":{"__isSmartRef__":true,"id":239},"storedString":"Alpha value:","_id":"_182","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"248":{"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"249":{"morph":{"__isSmartRef__":true,"id":239},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"250":{"__serializedExpressions__":["position","_Extent","_BorderColor","_Fill","_Padding"],"_BorderWidth":1,"_ClipMode":"visible","_BorderRadius":0,"_Opacity":1,"_BorderStyle":"solid","_AppearanceStylingMode":false,"isStyleSheetAppearance":false,"_BorderStylingMode":false,"isStyleSheetBorder":false,"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(260.0,300.0)","_BorderColor":"Color.rgb(95,94,95)","_Fill":"Color.rgb(255,255,255)","_Padding":"lively.rect(0,0,0,0)"},"251":{"partsSpaceName":"PartsBin/Tools/","comment":"An all new Color Picker, Photoshop style.","migrationLevel":8,"partName":"ColorPicker","changes":[{"__isSmartRef__":true,"id":252},{"__isSmartRef__":true,"id":253},{"__isSmartRef__":true,"id":254},{"__isSmartRef__":true,"id":255},{"__isSmartRef__":true,"id":256},{"__isSmartRef__":true,"id":257},{"__isSmartRef__":true,"id":258},{"__isSmartRef__":true,"id":259},{"__isSmartRef__":true,"id":260},{"__isSmartRef__":true,"id":261},{"__isSmartRef__":true,"id":262},{"__isSmartRef__":true,"id":263},{"__isSmartRef__":true,"id":264},{"__isSmartRef__":true,"id":265},{"__isSmartRef__":true,"id":266},{"__isSmartRef__":true,"id":267},{"__isSmartRef__":true,"id":268},{"__isSmartRef__":true,"id":269},{"__isSmartRef__":true,"id":270},{"__isSmartRef__":true,"id":271},{"__isSmartRef__":true,"id":272},{"__isSmartRef__":true,"id":273},{"__isSmartRef__":true,"id":274},{"__isSmartRef__":true,"id":275},{"__isSmartRef__":true,"id":276},{"__isSmartRef__":true,"id":277}],"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo","__SourceModuleName__":"Global.lively.PartsBin"},"252":{"__serializedExpressions__":["date"],"author":"bgnauk","message":"no comment","id":"5BA92117-3CF7-4A19-859E-5BE4B8AA9A1C","date":"new Date(\"Tue Aug 14 2012 13:34:12 GMT-0700 (PDT)\")"},"253":{"__serializedExpressions__":["date"],"author":"bgnauk","message":"no comment","id":"BA6EB915-093D-4556-A38F-977EE6778C91","date":"new Date(\"Fri Aug 10 2012 15:07:57 GMT-0700 (PDT)\")"},"254":{"__serializedExpressions__":["date"],"author":"bgnauk","message":"no comment","id":"8DF57B72-F287-436E-AEE7-19DC83A92ED1","date":"new Date(\"Fri Aug 10 2012 15:07:21 GMT-0700 (PDT)\")"},"255":{"__serializedExpressions__":["date"],"author":"bgnauk","message":"no comment","id":"8B8B79E6-15F4-4FB7-A621-62095420970A","date":"new Date(\"Fri Aug 10 2012 14:56:33 GMT-0700 (PDT)\")"},"256":{"__serializedExpressions__":["date"],"author":"bgnauk","message":"no comment","id":"2E997ACA-7D9C-423A-8A0E-2A5F8D4BD299","date":"new Date(\"Fri Aug 10 2012 14:28:41 GMT-0700 (PDT)\")"},"257":{"__serializedExpressions__":["date"],"author":"bgnauk","message":"no comment","id":"6013305D-99D6-4F9E-94DE-9C23AA5D4AFC","date":"new Date(\"Fri Aug 10 2012 11:43:50 GMT-0700 (PDT)\")"},"258":{"__serializedExpressions__":["date"],"author":"bgnauk","message":"no comment","id":"A07C0194-9D7A-4F25-A601-0F48EECF2792","date":"new Date(\"Fri Aug 10 2012 11:31:43 GMT-0700 (PDT)\")"},"259":{"__serializedExpressions__":["date"],"author":"bgnauk","message":"no comment","id":"31BA8CD5-6D32-4AB3-BBE2-24FF9D3A2305","date":"new Date(\"Fri Aug 10 2012 11:22:36 GMT-0700 (PDT)\")"},"260":{"__serializedExpressions__":["date"],"author":"bgnauk","message":"no comment","id":"A3623907-2E65-4B38-9457-C37293427061","date":"new Date(\"Fri Aug 10 2012 11:21:50 GMT-0700 (PDT)\")"},"261":{"__serializedExpressions__":["date"],"author":"bgnauk","message":"no comment","id":"0124E570-50B7-4CE3-83A1-6E7BA89B5CD8","date":"new Date(\"Mon Jun 18 2012 10:35:08 GMT-0700 (PDT)\")"},"262":{"__serializedExpressions__":["date"],"author":"undefined","message":"suddenly, the rectangle became a CarDemo","id":"B5083AA8-9BAE-48DD-A6B4-FD7DB3998350","date":"new Date(\"Mon Apr 09 2012 04:42:07 GMT-0700 (PDT)\")"},"263":{"__serializedExpressions__":["date"],"author":"undefined","message":"css transitions","id":"1004E0FC-D96B-4F40-B3E0-F514A3FCFFD7","date":"new Date(\"Wed Mar 14 2012 02:42:26 GMT-0700 (PDT)\")"},"264":{"__serializedExpressions__":["date"],"author":"fbo","message":"","id":"BD1C654D-9100-4B66-BC62-B15FF2498B2B","date":"new Date(\"Fri Feb 24 2012 17:59:09 GMT-0800 (PST)\")"},"265":{"__serializedExpressions__":["date"],"author":"undefined","message":"sorry","id":"44B56D2E-9B59-4C67-A305-49A6E10E66C2","date":"new Date(\"Wed Mar 14 2012 02:53:45 GMT-0700 (PDT)\")"},"266":{"__serializedExpressions__":["date"],"author":"undefined","message":"whoopsie","id":"CEA5DCD5-2DB7-40AD-A776-262A7A0666FC","date":"new Date(\"Thu May 03 2012 06:51:30 GMT-0700 (PDT)\")"},"267":{"__serializedExpressions__":["date"],"author":"undefined","message":"whoopsie","id":"3F17A2D2-3C24-424B-B0FA-E43112267D23","date":"new Date(\"Thu May 03 2012 06:51:36 GMT-0700 (PDT)\")"},"268":{"__serializedExpressions__":["date"],"author":"bgnauk","message":"no comment","id":"8FFA54B7-2AA5-4E6B-A181-E3A85124C463","date":"new Date(\"Fri Aug 10 2012 15:48:21 GMT-0700 (PDT)\")"},"269":{"__serializedExpressions__":["date"],"author":"bgnauk","message":"no comment","id":"685875DD-39E2-4B22-ADA3-50A66D970DDC","date":"new Date(\"Fri Aug 10 2012 15:49:13 GMT-0700 (PDT)\")"},"270":{"__serializedExpressions__":["date"],"author":"bgnauk","message":"no comment","id":"EAAD88C4-99A4-4803-A9B4-037A368914CC","date":"new Date(\"Mon Aug 27 2012 13:06:40 GMT-0700 (PDT)\")"},"271":{"__serializedExpressions__":["date"],"author":"bgnauk","message":"no comment","id":"96527438-0770-442F-A689-F228B60A8C98","date":"new Date(\"Mon Aug 27 2012 13:07:57 GMT-0700 (PDT)\")"},"272":{"__serializedExpressions__":["date"],"author":"bgnauk","message":"no comment","id":"BAC7A6CE-E9BE-4317-A83D-BACD3021B5F1","date":"new Date(\"Mon Aug 27 2012 13:09:01 GMT-0700 (PDT)\")"},"273":{"__serializedExpressions__":["date"],"author":"bgnauk","message":"no comment","id":"25B868B0-795C-4E1A-9763-A975056047C0","date":"new Date(\"Mon Aug 27 2012 14:31:05 GMT-0700 (PDT)\")"},"274":{"__serializedExpressions__":["date"],"author":"bgnauk","message":"no comment","id":"41D0F09A-2F61-4CE0-8EFB-6547B465AEFC","date":"new Date(\"Mon Aug 27 2012 16:47:17 GMT-0700 (PDT)\")"},"275":{"__serializedExpressions__":["date"],"author":"bgnauk","message":"no comment","id":"EA5FE767-C81B-40D9-BDF8-659428B55DED","date":"new Date(\"Mon Aug 27 2012 16:55:22 GMT-0700 (PDT)\")"},"276":{"__serializedExpressions__":["date"],"author":"bgnauk","message":"no comment","id":"5AE0E26B-DBF9-4653-8B44-F53F55A38B25","date":"new Date(\"Mon Aug 27 2012 16:57:21 GMT-0700 (PDT)\")"},"277":{"__serializedExpressions__":["date"],"author":"robertkrahn","message":"trying to fix selection text issues when picking colo","id":"6D9FD82B-F2E5-4873-A0B5-BB69665266E4","date":"new Date(\"Tue Apr 01 2014 18:22:34 GMT-0700 (PDT)\")"},"278":{"morph":{"__isSmartRef__":true,"id":0},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"279":{"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":280}},"280":{"test01IsMorph":{"__isSmartRef__":true,"id":281}},"281":{"varMapping":{"__isSmartRef__":true,"id":282},"source":"function test01IsMorph(aPart) {\n    this.assert(aPart.isMorph, 'rectangle should be a morph');\n}","funcProperties":{"__isSmartRef__":true,"id":283},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"282":{"this":{"__isSmartRef__":true,"id":279}},"283":{},"284":{"morph":{"__isSmartRef__":true,"id":0},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.0,0.0)","cachedGlobalPosition":"lively.pt(171.0,327.0)"},"285":{"morph":{"__isSmartRef__":true,"id":0},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.5,0.0)","cachedGlobalPosition":"lively.pt(391.0,327.0)"},"286":{"morph":{"__isSmartRef__":true,"id":0},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(1.0,0.0)","cachedGlobalPosition":"lively.pt(611.0,327.0)"},"287":{"morph":{"__isSmartRef__":true,"id":0},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(1.0,0.5)","cachedGlobalPosition":"lively.pt(611.0,437.0)"},"288":{"morph":{"__isSmartRef__":true,"id":0},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(1.0,1.0)","cachedGlobalPosition":"lively.pt(611.0,547.0)"},"289":{"morph":{"__isSmartRef__":true,"id":0},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.5,1.0)","cachedGlobalPosition":"lively.pt(391.0,547.0)"},"290":{"morph":{"__isSmartRef__":true,"id":0},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.0,1.0)","cachedGlobalPosition":"lively.pt(171.0,547.0)"},"291":{"morph":{"__isSmartRef__":true,"id":0},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.0,0.5)","cachedGlobalPosition":"lively.pt(171.0,437.0)"},"292":{"resizeWidth":true,"resizeHeight":true},"293":{"onrestore":{"__isSmartRef__":true,"id":294},"setColor":{"__isSmartRef__":true,"id":301},"updateColorFromString":{"__isSmartRef__":true,"id":304},"colorToHSB":{"__isSmartRef__":true,"id":307},"updateAlpha":{"__isSmartRef__":true,"id":310},"init":{"__isSmartRef__":true,"id":313},"updateHue":{"__isSmartRef__":true,"id":316},"updateBrt":{"__isSmartRef__":true,"id":319},"updateSat":{"__isSmartRef__":true,"id":322},"updateRGB":{"__isSmartRef__":true,"id":325},"open":{"__isSmartRef__":true,"id":328},"remove":{"__isSmartRef__":true,"id":331},"offsetForWorld":{"__isSmartRef__":true,"id":338},"moveBoundsForVisibility":{"__isSmartRef__":true,"id":341},"reset":{"__isSmartRef__":true,"id":344}},"294":{"varMapping":{"__isSmartRef__":true,"id":295},"source":"function onrestore() {\n    if (this.isRendered()) {\n        this.setColor(this.color);\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":300},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"295":{"this":{"__isSmartRef__":true,"id":0},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":296}},"296":{"$super":{"__isSmartRef__":true,"id":297}},"297":{"varMapping":{"__isSmartRef__":true,"id":298},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":299},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"298":{"obj":{"__isSmartRef__":true,"id":0},"name":"onrestore"},"299":{},"300":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Mon Aug 27 2012 16:56:24 GMT-0700 (PDT)\")"},"301":{"varMapping":{"__isSmartRef__":true,"id":302},"source":"function setColor(color) {\n    if (color) {\n        this.get('RGBValue').textString = color.toHexString().toUpperCase();\n        this.get('AlphaSlider').value = color.a;\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":303},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"302":{"this":{"__isSmartRef__":true,"id":0}},"303":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Fri Aug 10 2012 15:07:14 GMT-0700 (PDT)\")"},"304":{"varMapping":{"__isSmartRef__":true,"id":305},"source":"function updateColorFromString(colorHexString) {\n    if (this.isJustChangingTheString) {\n        //\n    } else {\n        var color = Color.rgbHex(colorHexString);\n        if (color) {\n            this.color = color;\n            \n            var hsb = this.colorToHSB(color);\n            \n            this.hue = hsb[0];\n            this.sat = hsb[1];\n            this.brt = hsb[2];\n            \n            // update hue line\n            this.get('HueSelectorField').drawLineAtHue(this.hue);\n\n            // update satbrt display\n            this.get('SaturationBrightnessField').draw(this.hue);\n\n            // update satbrt cross\n            this.get('SaturationBrightnessPickerField').drawCrossAtSatBrt(this.sat,this.brt);\n\n        } else {\n            //alert(colorHexString+' is appearantly not a valid color!');    \n        }\n        \n    }\n}","funcProperties":{"__isSmartRef__":true,"id":306},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"305":{"this":{"__isSmartRef__":true,"id":0}},"306":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Mon Aug 27 2012 13:05:38 GMT-0700 (PDT)\")"},"307":{"varMapping":{"__isSmartRef__":true,"id":308},"source":"function colorToHSB(color) {\n    // implementation in the color class produces strange results\n    var r = color.r,\n        g = color.g,\n        b = color.b,\n        max = Math.max(r, g, b),\n        min = Math.min(r, g, b),\n        h,\n        s,\n        l = (max + min) / 2;\n\n    if(max == min){\n        h = s = 0; // achromatic\n    }else{\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch(max){\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n\n    return [h, s, l];\n}","funcProperties":{"__isSmartRef__":true,"id":309},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"308":{"this":{"__isSmartRef__":true,"id":0}},"309":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Fri Aug 10 2012 10:52:12 GMT-0700 (PDT)\")"},"310":{"varMapping":{"__isSmartRef__":true,"id":311},"source":"function updateAlpha(alpha) {\n    this.alpha = alpha;\n    this.color = this.color.withA(alpha);\n}","funcProperties":{"__isSmartRef__":true,"id":312},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"311":{"this":{"__isSmartRef__":true,"id":0}},"312":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Mon Aug 27 2012 16:47:07 GMT-0700 (PDT)\")"},"313":{"varMapping":{"__isSmartRef__":true,"id":314},"source":"function init() {\n    //this.get('HueField').draw();\n    //this.get('SaturationBrightnessField').draw(0);\n    \n}","funcProperties":{"__isSmartRef__":true,"id":315},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"314":{"this":{"__isSmartRef__":true,"id":0}},"315":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Fri Aug 10 2012 11:31:25 GMT-0700 (PDT)\")"},"316":{"varMapping":{"__isSmartRef__":true,"id":317},"source":"function updateHue(hue, noRedrawNeeded) {\n    this.hue = hue;\n\n        this.updateRGB();\n\n}","funcProperties":{"__isSmartRef__":true,"id":318},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"317":{"this":{"__isSmartRef__":true,"id":0}},"318":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Fri Aug 10 2012 10:58:13 GMT-0700 (PDT)\")"},"319":{"varMapping":{"__isSmartRef__":true,"id":320},"source":"function updateBrt(brt, noRedrawNeeded) {\n            this.brt= brt;\n        this.updateRGB();\n}","funcProperties":{"__isSmartRef__":true,"id":321},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"320":{"this":{"__isSmartRef__":true,"id":0}},"321":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Fri Aug 10 2012 10:58:08 GMT-0700 (PDT)\")"},"322":{"varMapping":{"__isSmartRef__":true,"id":323},"source":"function updateSat(sat, noRedrawNeeded) {\n    this.sat = sat;\n\n        this.updateRGB();\n\n}","funcProperties":{"__isSmartRef__":true,"id":324},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"323":{"this":{"__isSmartRef__":true,"id":0}},"324":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Fri Aug 10 2012 10:58:21 GMT-0700 (PDT)\")"},"325":{"varMapping":{"__isSmartRef__":true,"id":326},"source":"function updateRGB() {\n    var hslToRgb = function(h, s, l){\n        var r, g, b;\n\n        if(s == 0){\n            r = g = b = l; // achromatic\n        }else{\n            function hue2rgb(p, q, t){\n                if(t < 0) t += 1;\n                if(t > 1) t -= 1;\n                if(t < 1/6) return p + (q - p) * 6 * t;\n                if(t < 1/2) return q;\n                if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n                return p;\n            }\n\n            var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n            var p = 2 * l - q;\n            r = hue2rgb(p, q, h + 1/3);\n            g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h -     1/3);\n        }\n        var r = [r * 255, g * 255, b * 255];\n    \n        for (var i = 0; i < r.length; i ++) {\n            r[i] = Math.round(r[i]);    \n        }\n        return r;\n    }\n    \n    var rgb = hslToRgb(this.hue, this.sat, this.brt);\n    var alpha = this.alpha || 1;\n    this.color = (new Color(rgb[0]/255, rgb[1]/255, rgb[2]/255)).withA(alpha);\n    this.isJustChangingTheString = true;\n    this.get('RGBValue').textString = this.color.toHexString().toUpperCase();\n    this.isJustChangingTheString = false;\n}","funcProperties":{"__isSmartRef__":true,"id":327},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"326":{"this":{"__isSmartRef__":true,"id":0}},"327":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Mon Aug 27 2012 16:47:00 GMT-0700 (PDT)\")"},"328":{"varMapping":{"__isSmartRef__":true,"id":329},"source":"function open(parentMorph, pos) {\n        this.setPosition(pos || pt(0,0));\n        var owner = parentMorph || lively.morphic.World.current();\n\n        if (owner.currentMenu) { owner.currentMenu.remove() };\n        owner.currentMenu = this;\n\n        owner.addMorph(this);\n\n        this.offsetForWorld(pos);\n\n        return this;\n\n}","funcProperties":{"__isSmartRef__":true,"id":330},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"329":{"this":{"__isSmartRef__":true,"id":0}},"330":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Fri Aug 10 2012 14:53:35 GMT-0700 (PDT)\")"},"331":{"varMapping":{"__isSmartRef__":true,"id":332},"source":"function remove() {\n        var w = this.world();\n        if (w && w.currentMenu === this) w.currentMenu = null;\n        $super();\n\n}","funcProperties":{"__isSmartRef__":true,"id":337},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"332":{"this":{"__isSmartRef__":true,"id":0},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":333}},"333":{"$super":{"__isSmartRef__":true,"id":334}},"334":{"varMapping":{"__isSmartRef__":true,"id":335},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":336},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"335":{"obj":{"__isSmartRef__":true,"id":0},"name":"remove"},"336":{},"337":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Fri Aug 10 2012 14:54:03 GMT-0700 (PDT)\")"},"338":{"varMapping":{"__isSmartRef__":true,"id":339},"source":"function offsetForWorld(pos) {\n\n        var bounds = this.innerBounds().translatedBy(pos);\n        if (this.title) {\n            bounds = bounds.withTopLeft(bounds.topLeft().addXY(0, this.title.getExtent().y));\n        }\n        if (this.owner.visibleBounds) {\n            bounds = this.moveBoundsForVisibility(bounds, this.owner.visibleBounds());\n        }\n        this.setBounds(bounds);\n\n}","funcProperties":{"__isSmartRef__":true,"id":340},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"339":{"this":{"__isSmartRef__":true,"id":0}},"340":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Fri Aug 10 2012 14:54:45 GMT-0700 (PDT)\")"},"341":{"varMapping":{"__isSmartRef__":true,"id":342},"source":"function moveBoundsForVisibility(menuBounds, visibleBounds) {\n\n        var offsetX = 0,\n            offsetY = 0;\n        Global.lastMenuBounds = menuBounds;\n\n        if (menuBounds.right() > visibleBounds.right())\n            offsetX = -1 * (menuBounds.right() - visibleBounds.right());\n\n        var overlapLeft = menuBounds.left() + offsetX;\n        if (overlapLeft < 0)\n            offsetX += -overlapLeft;\n\n        if (menuBounds.bottom() > visibleBounds.bottom()) {\n            offsetY = -1 * (menuBounds.bottom() - visibleBounds.bottom());\n            // so that hand is not directly over menu, does not work when\n            // menu is in the bottom right corner\n            offsetX += 1;\n        }\n        var overlapTop = menuBounds.top() + offsetY;\n        if (overlapTop < 0)\n            offsetY += -overlapTop;\n\n        return menuBounds.translatedBy(pt(offsetX, offsetY));\n\n}","funcProperties":{"__isSmartRef__":true,"id":343},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"342":{"this":{"__isSmartRef__":true,"id":0}},"343":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Fri Aug 10 2012 14:55:09 GMT-0700 (PDT)\")"},"344":{"varMapping":{"__isSmartRef__":true,"id":345},"source":"function reset() {\n    this.setColor(Color.red);\n}","funcProperties":{"__isSmartRef__":true,"id":346},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"345":{"this":{"__isSmartRef__":true,"id":0}},"346":{"__serializedExpressions__":["timestamp"],"user":"bgnauk","tags":[],"timestamp":"new Date(\"Fri Aug 10 2012 15:47:50 GMT-0700 (PDT)\")"},"isSimplifiedRegistry":true}}